summary,type
incorrect default cron expression for snapshots repository it is   which is not a valid value - it should probably be the same as for releases,Bug
"Default configuration does not proxy the central repo - Failed pre-download policies Testing the fix for MRM-...

rm -rf $M_REPOorgapachemavenpluginsmaven-clean-plugin
cd pathtoproject
mvn clean

I get the usual ...could not be found or no valid version... message.  In the Archiva logs

jvm     | -- , SocketListener- INFO  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Failed pre-download policies -C${appserver.home}repositoriesinternalorgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml

There are no whitelist patterns for the internal - central proxy connector.  We should ship with configuration that actually makes it proxy.  Adding a whitelist pattern of """" seems to work.

Should an absence of whitelist patterns mean proxy everything",Bug
"MySQL Specified key was too long; max key length is  bytes When starting up archiva on a MySQL Database. the following error is seen.

{code}
Caused by javax.jdo.JDODataStoreException An exception was thrown while addingvalidating classes  Specified key was too long; max key length is  bytes
com.mysql.jdbc.exceptions.MySQLSyntaxErrorException Specified key was too long; max key length is  bytes
        at com.mysql.jdbc.SQLError.createSQLExceptionSQLError.java
        at com.mysql.jdbc.MysqlIO.checkErrorPacketMysqlIO.java
        at com.mysql.jdbc.MysqlIO.sendCommandMysqlIO.java
        at com.mysql.jdbc.MysqlIO.sqlQueryDirectMysqlIO.java
        at com.mysql.jdbc.Connection.execSQLConnection.java
        at com.mysql.jdbc.Connection.execSQLConnection.java
        at com.mysql.jdbc.Statement.executeStatement.java
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementAbstractTable.java
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementListAbstractTable.java
        at org.jpox.store.rdbms.table.AbstractTable.createAbstractTable.java
        at org.jpox.store.rdbms.table.AbstractTable.existsAbstractTable.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidationRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidateRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.runRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.executeRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager.addClassesRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager.addClassRDBMSManager.java
        at org.jpox.AbstractPersistenceManager.newObjectIdInstanceAbstractPersistenceManager.java
        at org.apache.maven.archiva.database.jdo.JdoAccess.getObjectByIdJdoAccess.java
        at org.apache.maven.archiva.database.jdo.JdoAccess.getObjectByIdJdoAccess.java
        at org.apache.maven.archiva.database.jdo.JdoRepositoryDAO.getRepositoryJdoRepositoryDAO.java
        at org.apache.maven.archiva.web.startup.ConfigurationSynchronization.synchConfigurationConfigurationSynchronization.java
        at org.apache.maven.archiva.web.startup.ConfigurationSynchronization.initializeConfigurationSynchronization.java
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializePhase.executeInitializePhase.java
{code}",Bug
"Unable to create a ""snapshot only"" repository. - Create or edit any repository
- Uncheck the ""Releases Included""
- submit

 The repository ""Releases Included"" always stays to true.",Bug
"properties in pom are not resolved at least while browsing I extensively use properties in pom.xml see attached one.

But Archiva does not resolve pom configuration. When I browse my project I see not resolved values.

Attached mentioned projects pom.xml and screenshot of browse page.
",Bug
"Error with artifacts that do not have a pom.xml file When trying to download an artifact with no pom for instance xml-security  xmlsec  maven fails with an error. When not using Archiva, maven does not fail. it only shows a warning.

here is the stack trace with archiva. You will need to modify the pom.xml file to point to your archiva server  port for this to work.

{code}
 Error stacktraces are turned on.
INFO Scanning for projects...
INFO -------------------------------------------------------------------------
---
INFO Building Aplicacion xxx
INFO    task-segment compile
INFO -------------------------------------------------------------------------
---
INFO resourcesresources
INFO Using default encoding to copy filtered resources.
Downloading httptrn-esvarchivarepositoryinternalxml-securityxmlse
c..xmlsec-...pom
INFO ------------------------------------------------------------------------
ERROR BUILD ERROR
INFO ------------------------------------------------------------------------
INFO Error building POM may not be this projects POM.


Project ID xml-securityxmlsec

Reason Error getting POM for xml-securityxmlsec from the repository Error t
ransferring file
  xml-securityxmlsecpom..

from the specified remote repositories
  central httptrn-esvarchivarepositoryinternal,
  internal-snapshot httptrn-esvarchivarepositorysnapshots



INFO ------------------------------------------------------------------------
INFO Trace
org.apache.maven.lifecycle.LifecycleExecutionException Unable to get dependency
 information Unable to read the metadata file for artifact xml-securityxmlsec
jar Error getting POM for xml-securityxmlsec from the repository Error tr
ansferring file
  xml-securityxmlsecpom..

from the specified remote repositories
  central httptrn-esvarchivarepositoryinternal,
  internal-snapshot httptrn-esvarchivarepositorysnapshots

  xml-securityxmlsecjar..

from the specified remote repositories
  central httptrn-esvarchivarepositoryinternal,
  internal-snapshot httptrn-esvarchivarepositorysnapshots
Path to dependency
         com.foo.barbar-webwar..-SNAPSHOT


        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalsDefa
ultLifecycleExecutor.java
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalWithLi
fecycleDefaultLifecycleExecutor.java
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalDefau
ltLifecycleExecutor.java
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalAndHan
dleFailuresDefaultLifecycleExecutor.java
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeTaskSegmen
tsDefaultLifecycleExecutor.java
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeDefaultLi
fecycleExecutor.java
        at org.apache.maven.DefaultMaven.doExecuteDefaultMaven.java
        at org.apache.maven.DefaultMaven.executeDefaultMaven.java
        at org.apache.maven.cli.MavenCli.mainMavenCli.java
        at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
        at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.
java
        at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAcces
sorImpl.java
        at java.lang.reflect.Method.invokeMethod.java
        at org.codehaus.classworlds.Launcher.launchEnhancedLauncher.java
        at org.codehaus.classworlds.Launcher.launchLauncher.java
        at org.codehaus.classworlds.Launcher.mainWithExitCodeLauncher.java

        at org.codehaus.classworlds.Launcher.mainLauncher.java
Caused by org.apache.maven.artifact.resolver.ArtifactResolutionException Unabl
e to get dependency information Unable to read the metadata file for artifact 
xml-securityxmlsecjar Error getting POM for xml-securityxmlsec from the r
epository Error transferring file
  xml-securityxmlsecpom..

from the specified remote repositories
  central httptrn-esvarchivarepositoryinternal,
  internal-snapshot httptrn-esvarchivarepositorysnapshots

  xml-securityxmlsecjar..

from the specified remote repositories
  central httptrn-esvarchivarepositoryinternal,
  internal-snapshot httptrn-esvarchivarepositorysnapshots
Path to dependency
         com.foo.barbar-webwar..-SNAPSHOT


        at org.apache.maven.artifact.resolver.DefaultArtifactCollector.recurseD
efaultArtifactCollector.java
        at org.apache.maven.artifact.resolver.DefaultArtifactCollector.collectD
efaultArtifactCollector.java
        at org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolveTra
nsitivelyDefaultArtifactResolver.java
        at org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolveTra
nsitivelyDefaultArtifactResolver.java
        at org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolveTra
nsitivelyDefaultArtifactResolver.java
        at org.apache.maven.plugin.DefaultPluginManager.resolveTransitiveDepende
nciesDefaultPluginManager.java
        at org.apache.maven.plugin.DefaultPluginManager.executeMojoDefaultPlugi
nManager.java
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalsDefa
ultLifecycleExecutor.java
        ...  more
Caused by org.apache.maven.artifact.metadata.ArtifactMetadataRetrievalException
 Unable to read the metadata file for artifact xml-securityxmlsecjar Error
 getting POM for xml-securityxmlsec from the repository Error transferring f
ile
  xml-securityxmlsecpom..

from the specified remote repositories
  central httptrn-esvarchivarepositoryinternal,
  internal-snapshot httptrn-esvarchivarepositorysnapshots

        at org.apache.maven.project.artifact.MavenMetadataSource.retrieveMavenM
etadataSource.java
        at org.apache.maven.artifact.resolver.DefaultArtifactCollector.recurseD
efaultArtifactCollector.java
        ...  more
Caused by org.apache.maven.project.ProjectBuildingException Error getting POM
for xml-securityxmlsec from the repository Error transferring file
  xml-securityxmlsecpom..

from the specified remote repositories
  central httptrn-esvarchivarepositoryinternal,
  internal-snapshot httptrn-esvarchivarepositorysnapshots

        at org.apache.maven.project.DefaultMavenProjectBuilder.findModelFromRepo
sitoryDefaultMavenProjectBuilder.java
        at org.apache.maven.project.DefaultMavenProjectBuilder.buildFromReposito
ryDefaultMavenProjectBuilder.java
        at org.apache.maven.project.artifact.MavenMetadataSource.retrieveMavenM
etadataSource.java
        ...  more
Caused by org.apache.maven.artifact.resolver.ArtifactResolutionException Error
 transferring file
  xml-securityxmlsecpom..

from the specified remote repositories
  central httptrn-esvarchivarepositoryinternal,
  internal-snapshot httptrn-esvarchivarepositorysnapshots

        at org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolveDe
faultArtifactResolver.java
        at org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolveDe
faultArtifactResolver.java
        at org.apache.maven.project.DefaultMavenProjectBuilder.findModelFromRepo
sitoryDefaultMavenProjectBuilder.java
        ...  more
Caused by org.apache.maven.wagon.TransferFailedException Error transferring fi
le
        at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputD
ataLightweightHttpWagon.java
        at org.apache.maven.wagon.StreamWagon.getStreamWagon.java
        at org.apache.maven.artifact.manager.DefaultWagonManager.getRemoteFileD
efaultWagonManager.java
        at org.apache.maven.artifact.manager.DefaultWagonManager.getArtifactDef
aultWagonManager.java
        at org.apache.maven.artifact.manager.DefaultWagonManager.getArtifactDef
aultWagonManager.java
        at org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolveDe
faultArtifactResolver.java
        ...  more
Caused by java.io.IOException Server returned HTTP response code  for URL
 httptrn-esvarchivarepositoryinternalxml-securityxmlsec..xmls
ec-...pom
        at sun.net.www.protocol.http.HttpURLConnection.getInputStreamHttpURLCon
nection.java
        at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputD
ataLightweightHttpWagon.java
        ...  more
INFO ------------------------------------------------------------------------
INFO Total time  second
INFO Finished at Tue Jul   GMT- 
INFO Final Memory MM
INFO ------------------------------------------------------------------------
{code}

",Bug
"javadoc jar is listed as just jar in the download box go to an artifact that has an attached javadoc jar - you will notice that it is described as ""Jar"", not ""Javadoc""",Bug
"current configuration code is too likely to complain about multiple sources those with alpha- are likely to have config in .marchiva.xml.

But the default is to distribute and work with ${appserver.base}confarchiva.xml

This will complain whenever saving by default. I need to review the best distribution situation.",Bug
"Downloaded artifacts are stored in incorrect archiva-managed repository I have added a new local directory as archiva-managed repository with id ""repo-trax"".
Although no proxy connector has been setup for this new archiva-managed repository, downloaded artifacts seem to be stored in this repository instead of the default ""internal"" repository.

The only proxy connector configuration is the one that comes by default ""internal"" connected to dev.java.net and repo.maven.org.",Bug
"repository purge consumer should check that it is running first, and if it consumes an artifact it should prevent other consumers from running this is to prevent the indexdatabase getting inconsistent if it scans an artifact for the first time and decides to delete it",Improvement
"The mvn deploydeploy-file command gives ""Parent doesnt exist"" in a fresh install Im trying to follow the docs at this page.
   httpmaven.apache.orgarchivaguidesgetting-startedmaven-configuration.html

Im setting security credentials and issuing this command with a pom.xml to include wagon-webdav
    mvn deploydeploy-file -DgroupIdcom.orbeon -DartifactIdblah -Dversion.. -Dpackagingjar -Dfilelibblah.jar -DrepositoryIdrdp-releases -Durlhttpjerboa.intsec.amnesty.orgarchivarepositoryrdp-releases

I get this error message
INFO Error deploying artifact Failed to transfer file httpjerboa.intsec.a
mnesty.orgarchivarepositoryrdp-releasescomorbeonblah..blah-.
..jar. Return code is 

An ethereal trace shows this request
   PUT archivarepositoryrdp-releasescomorbeonblah..blah-...jar HTTP.

And this response..

html
headtitleError  Conflicttitlehead
body
pbError  Conflictbp
pResource in error a href""httpjerboa.intsec.amnesty.orgarchivarepositorycomorbeonblah..blah-...jarcomorbeonblah..blah-...jar""
httpjerboa.intsec.amnesty.orgarchivarepositorycomorbeonblah..blah-...jarcomorbeonblah..blah-...jarap
hr pException detailsp
preit.could.webdav.DAVException Parent doesnt exist
	at it.could.webdav.DAVResource.writeDAVResource.java
	at it.could.webdav.methods.PUT.processPUT.java
	at it.could.webdav.DAVProcessor.processDAVProcessor.java
	at org.codehaus.plexus.webdav.simple.SimpleDavServerComponent.processSimpleDavServerComponent.java
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.processProxiedDavServer.java
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.serviceMultiplexedWebDavServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at org.mortbay.jetty.servlet.WebApplicationHandler.dispatchWebApplicationHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.http.HttpContext.handleHttpContext.java
	at org.mortbay.jetty.servlet.WebApplicationContext.handleWebApplicationContext.java
	at org.mortbay.http.HttpContext.handleHttpContext.java
	at org.mortbay.http.HttpServer.serviceHttpServer.java
	at org.mortbay.http.HttpConnection.serviceHttpConnection.java
	at org.mortbay.http.HttpConnection.handleNextHttpConnection.java
	at org.mortbay.http.HttpConnection.handleHttpConnection.java
	at org.mortbay.http.SocketListener.handleConnectionSocketListener.java
	at org.mortbay.util.ThreadedServer.handleThreadedServer.java
	at org.mortbay.util.ThreadPool$PoolThread.runThreadPool.java
pre
body
html

Note that request and response are very different..
  archivarepositoryrdp-releasescomorbeonblah..blah-...jar
  archivarepositorycomorbeonblah..blah-...jarcomorbeonblah..blah-...jar

Has anyone got this working I cant imagine how it could work, at least in the release I have.

",Bug
Find artifact does not work. Finding an artifact always shows the No results found message even though the artifact that is being looked for is in the repository.,Bug
"managed and remote repositories with same name causes problems I created both a managed and remote repository entry with the name central -- the intent was for one to proxy the other.  The administrative interfaces did not gripe about using duplicate names but the proxy did not seem to work.  In the logs I found the following information which looked suspect

 SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Attempting connector ProxyConnector
  sourceArchivaRepositorycentral,fileuhomeproj.reposcentral
  targetArchivaRepositorycentral,fileuhomeproj.reposcentral
  proxyIdmpare
  policyreleasesonce
  policychecksumfix
  policysnapshotsdisabled
  policycache-failuresignored


When I requested that the remote central repository be deleted, the managed repository entry was deleted instead.  After I removed all central repositories I created a managed repository named central and a remote repository named centralExt and the proxying seemed to work as expected.",Bug
"removing a ""remote repository"" should not present the page about handling content eg. delete the default java.net repository when starting a new installation.

Expected result a confirmation page yesno only about whether to remove it
Actual result the normal managed repository page about deleting the repository definition, contents, or going back",Bug
"Create missing tests for repository purge Comments from MRM-

A general thought here too, for later it might be worth reviewing the exceptions that can occur in Purge and see if we can recover better from each rather than bubbling it

Tests

     I think you can remove many of the components from the test XML files where the default suffice just keep the registry and jdo factory
     the tests have a lot of bolierplate that can probably be turned into methods that generate test data

Missing tests

     no tests for the consumer or the Released Snapshots purge
     days old test is only testing by file age - it should also test the metadata-driven snapshots

A general thought for Archiva in the long term, too... setting up the database to test this was probably a pain. We should have stub implementations of the indexer and daos to avoid it.",Improvement
"Editing a network proxy creates a new network proxy when saving modifications - Create a network proxy
- Go and edit that proxy  after clicking on ""Save Network Proxy"", youll see that a new network proxy has been created, with an empty identifier which makes it impossible to delete afterwards",Bug
"Unable to disable Scannable on a Local Repository. As reported in archiva-users mailing list

Barrie Treloar wrote
 Im using Archiva . Alpha ,

 When I edit a repository definition and disable ""Scannable"" and save
 my changes, the changes appear to be ignored on the Repositories
 screen.

",Bug
"when browsing, groups list incorrect sub-groups eg. go to group ant, and see more groups are listed at the top eg, ant again, but also ant-contrib, etc, even though you are inside a group that does not have sub groups.
",Bug
"Distributions should have apache in the name and unpack to versioned directories The source distribution should be named archiva-.-alpha--src.zip and unpack to archiva-.-alpha--src.  

Based on other discussions both the binary and source distributions should be renamed and unpack to apache-archiva-.",Improvement
Test failure in MavenProjectInfoReportsPluginDependencyGraphTest in archiva-dependency-graph I commented the assert... in testResolvedDepsToNodes to be able to release .-beta-.,Bug
"intermittent test failures on proxy testGetDefaultLayoutAlreadyPresentPolicyIgnoredorg.apache.maven.archiva.proxy.ManagedDefaultTransferTest  Time elapsed . sec   FAILURE!
junit.framework.AssertionFailedError Check file timestamp is that of original managed file expected within range lo hi but was
        at junit.framework.Assert.failAssert.java
        at org.apache.maven.archiva.proxy.ManagedDefaultTransferTest.testGetDefaultLayoutAlreadyPresentPolicyIgnoredManagedDefaultTransferTest.java
",Bug
"Unable to view repository contents with IE Attempting to visit a url such as httprepo.example.comarchivarepositoryreleasesorgapachestruts results in a dialog box

File Download - Security Warning
Do you want to save this file
Name examples 
Type Unknown File Type 
From repo.mycompany.com

The file in question is a directory.  you cant see the repo contents.
",Bug
Incomplete deployment descriptor The web.xml deployment descriptor is missing resource reference entries.,Bug
"separate configuration of managed repositories from remote repositories the fancy footwork to make a managed repository use all the same configuration screens as a remote repository is causing both subtle bugs particularly in the URL handling, and a confusing user experience settings appearing that are irrelevant to remote repositories in the edit form.

 separate the formsactions or at least exclude the fields that are not relevant when editing the remote repos
 treat the URL remote as a URL and the location managed as a path. Dont munge anything.
 I think we should consider separating them into different lists in the configuration again.

",Bug
itd be nice to have a wizard interface to set up some common settings for example - setting up guest access to all repositories could be a simple yesno instead of having to go in and do configuration on a new set up.,Improvement
"Cannot edit some managed repositories I have  managed repositories but cannot edit  of them.

I can click on their ""Edit Repository"" link but I come back directly to the ""Administration - Repositories"" page. 

Even if In the log I get 
INFO  com.opensymphony.xwork.ActionconfigureRepositoryAction  - .edit

",Bug
"admin editing of proxy connectors fails in multiple instances Ive seen the following
- edit first one and save order changes
- edit new first one and save end up with the same connector for both, eg the blacklist is duplicated
- in other circumstances, Id seen editing the proxy connector produce a second one
- removing the corresponding remote repository doesnt remove the associated network proxy.

I believe this entire set of actions needs a review.",Bug
"""Scanned"" is always set to true even if unchecked in the Edit Repository page Steps

 Log in as admin.
 In the left menu, under Administration, click Repositories.
 Edit a repository.
 Uncheck ""Scanned"".
 Click Update Repository.

Notice that ""Scanned"" is still set to ""True"" after saving.

This is also true for ""Releases Included"" see MRM-.",Bug
"invalid cache policy CachedFailuresPolicy has a log typo when the requested policy is not supported
""Unknown checksum policyCode""

attached Patch to be applied on archiva-policies.",Bug
"verify thread safety of Configuration object Deng discovered a thread-safety bug in the re-initialisation of the Configuration object when saving and consequently re-initialising. While that has been fixed, and DefaultArchivaConfiguration is now thread safe, it does pass out the shared Configuration object. We need to audit places that the object may be modified in a way that is not thread safe if it is being modified, it should not be used by another thread until the save method has completed and those threads have called get again - perhaps anything that intends to modify it should get back a copy of the configuration object instead.",Bug
"Dont queue a request to scan a repository that is currently being scanned If a repository is currently being scanned when the Scan Repository Now button is clicked, dont queue another request to scan it.

Example

INFO   | jvm     |   |  SocketListener- INFO com.opensymphony.xwork.ActionschedulerAction - ActionMessage Your request to have repository central be indexed has been queued.
INFO   | jvm     |   |  pool--thread- INFO org.codehaus.plexus.taskqueue.execution.TaskExecutorrepository-scanning - Executing task from queue with job name repository-jobcentral
INFO   | jvm     |   |  pool--thread- INFO org.apache.maven.archiva.repository.scanner.RepositoryScannerdefault - Walk Started central fileoptcentral-repository

INFO   | jvm     |   |  SocketListener- INFO com.opensymphony.xwork.ActionschedulerAction - ActionMessage Your request to have repository central be indexed has been queued.",Improvement
broken images in the download box on the artifact page these dont appear to work at all in the latest version - it isnt noticeable in firefox but in ie you get the big white square with an X in it.,Bug
"Wrong directory name for snapshots repo in default config The default configuration includes two repositories  internal and snapshots.

Both are configured to use a single directory named internal.

Archiva Managed Snapshot Repository
Identifier 	snapshots
Name 	Archiva Managed Snapshot Repository
----------  Directory 	C${appserver.home}repositoriesinternal    -------------
WebDAV URL 	httplocalhostarchivarepositorysnapshots
Type 	Maven .x Repository

Instead, the snapshots repo should use a directory called snapshots.",Bug
"If webdav URL lacks a trailing , navigating to all links in the listing return . If you go to
httplocalhostarchivarepositoryreleases

then click a link, you get .

But if you go to
httplocalhostarchivarepositoryreleases

everything works as expected.",Bug
"WebDAV functionality not working for Internet Explorer  Windows Network Places I am using archiva built from source r. I set up a managed repository and several proxied repositories. 

Browsing the WebDAV url from Firefox works just fine, but it appears the IE doesnt recognize the url - it asks me if I want to ""save this file"", and its type is unknown. 

When I try to set up a Network Place using the url, it shows me the top level of the repository, but if I try to browse to any folder, I get the error ""Documents in this folder are not available. The folder may have been moved or deleted, or network problems may be preventing a connection to the server. There is a problem with the web server. Please try again later or contact the server administrator."" 

I notice that the url its trying to browse to is incorrect. The root URL of the repository is 

httphostarchivarepositoryinternal

but when I double-click on, say, commons-collections, it tries to browse to

httprepository.muze.comarchivarepositorycommons-collections",Bug
"Metadata merging doesnt work. When dealing with metadata.xml files and proxying the merging of metadata is not performed correctly.
Often ending up with a metadata.xml file with no versions specified.

Tasks	
 Re-enabled metadata tests in the archiva-proxy module.	
 Fix the proxy code and possibly the tests to ensure metadata.xml files are merged correctly.	
 Create tests for  managed to multiple remote repos all with metadata.xml for the same groupIdartifactId	
 Create tests for versionless and versioned metadata.xml files.

Note Consider using the VersionComparator to obtain a unique list of sorted by version",Bug
"the NOTICE file is overzealous in declaring dependencies we only need to say, for example, software developed by the ASF once, and all the unnamed ones dont need to be there.

This might require fixes in the remote reosurces plugin and an update.",Improvement
"prune the distributed dependencies a large number of unneeded dependencies are distributed with Archiva or if they are needed, we might want to review why.

For example ant-optional probably for jsp compiler, commons-logging impl  slfj  logj, xerces, jtidy, jdom, domj, commons-jxpath, jaxen, jta we have geronimo-jat already, classworlds we have plexus-classworlds already, backport we require JDK , no need for this.

Im also uncertain if all the maven libraries are still needed. ",Improvement
"paginate report pages - artifact dependencies
- artifact used by",Improvement
"maven-upload-bundle doesnt generate metadata xml files Putting in MRM for want of anywhere else to record this.

When handling Maven bundles, the maven metadata xmls are not generated nor updated.",Bug
"Proxy Connectors are unable to download artifacts with alpha numerical version numbers Archiva is unable to download this artifact

dependency
    groupIdch.ethz.ganymedgroupId
    artifactIdganymed-sshartifactId
    versionbuildversion
dependency

although it is in the central repository. I can download the artifact if a switch the central mirror of, just downloading the artifact directly over maven. I didnt had any problems with all the other artifacts from the central repository.

I assume that there is a problem with alpha numerical version numbers. But its just a guess.",Bug
"Archiva cant connect to remote repositories if they are behind a network proxy - Define your network proxy with the valid credentials
- Update the proxy connector configuration  internal , central  to use this network proxy and not a direct connection
- Try to access a JAR or a POM that is on the central repository and not already on the internal one the download fails

The problem comes from DefaultRepositoryProxyConnectorsinitConnectorsAndNetworkProxies, where the proxy id of the proxy config is not copied into the newly created ProxyConnector object.",Bug
"upgrade to last webworkxwork Due to security hole httpwiki.opensymphony.comdisplayWW..PressRelease.
This upgrade is really needed.",Bug
"repository failures can present as a  from proxy if multiple repositories are a proxy source and it is not found on some, and an error occurs on one or more - the end result is a ""not found"", where there should be some indication of error in case the artifact may exist on the repository with the error.",Improvement
"error  clicking serach result for commons-dbcp  search for commons-dbcp
 click on the first result which should be commons-dbcp . URL httplocalhostbrowsecommons-dbcpcommons-dbcp.

Error is
org.apache.maven.archiva.database.ObjectNotFoundException Unable to find Database Object commons-dbcpcommons-dbcp. of type org.apache.maven.archiva.model.ArchivaProjectModel using no fetch-group
	at org.apache.maven.archiva.database.jdo.JdoAccess.getObjectByIdJdoAccess.java
	at org.apache.maven.archiva.database.jdo.JdoProjectModelDAO.getProjectModelJdoProjectModelDAO.java
	at org.apache.maven.archiva.database.browsing.DefaultRepositoryBrowsing.selectVersionDefaultRepositoryBrowsing.java
	at org.apache.maven.archiva.web.action.ShowArtifactAction.artifactShowArtifactAction.java

Nested
Caused by javax.jdo.JDOObjectNotFoundException No such database row
FailedObjectcommons-dbcpcommons-dbcp.
	at org.jpox.store.rdbms.request.FetchRequest.executeFetchRequest.java
	at org.jpox.store.rdbms.table.ClassTable.fetchClassTable.java
	at org.jpox.store.StoreManager.fetchStoreManager.java
	at org.jpox.state.StateManagerImpl.loadFieldsInFetchPlanStateManagerImpl.java
	at org.jpox.state.StateManagerImpl.validateStateManagerImpl.java
	at org.jpox.AbstractPersistenceManager.getObjectByIdAbstractPersistenceManager.java
	at org.jpox.AbstractPersistenceManager.getObjectByIdAbstractPersistenceManager.java
	at org.jpox.AbstractPersistenceManager.getObjectByIdAbstractPersistenceManager.java
	at org.apache.maven.archiva.database.jdo.JdoAccess.getObjectByIdJdoAccess.java

Note that the initial scan was still in progress - up to walk step  in commons-jelly so I believe dbcp was done.

Im using a mostly-complete copy of central.

",Bug
Source distribution is missing license and notice files The Archiva source distribution is missing license and notice files.  They must be included.,Bug
"search functions should show a notification message if an initial scan is still in progress currently, on first run against a new repo, it might take some time for the relevant index or database to be up to date. Any functions that rely on them should be aware that the data is not yet complete and be able to show an appropriate warning instead of the misleading ""no results found"".",Improvement
"Load Testing When asking for pages that require the effective-pom in high load, app becomes unresponsive. When having a processtool such as siege hit the artifact browsing pages on archiva in rapid succession, the archiva application becomes unresponsive.
Possible reason when the first request hits to get the effective pom, the build of that effective pom starts, but before it has a chance to finish, another request arrives to do the same thing, and the process starts again, resources and such get eaten up fast in that scenario.
Possible solution	
HTMLTextReader.listItemPrefixLock the effective pom resolution on a per groupIdartifactIdversion level.	
HTMLTextReader.listItemPrefixCache the effective pom on disk.			
HTMLTextReader.listItemPrefixoption  save the effective pom to disk in the groupIdartifactIdversion location using the extension "".effective.pom""		
HTMLTextReader.listItemPrefixoption  save the effective pom to a long lived e",Bug
"Saving a proxy connector after adding a new property results to HTTP  error This was the stack trace

HTTP ERROR 

Ljava.lang.String; cannot be cast to java.lang.String

RequestURIadminsaveProxyConnector.action
Caused by

java.lang.ClassCastException Ljava.lang.String; cannot be cast to java.lang.String
	at org.apache.maven.archiva.configuration.io.registry.ConfigurationRegistryWriter.writeProxyConnectorConfigurationConfigurationRegistryWriter.java
	at org.apache.maven.archiva.configuration.io.registry.ConfigurationRegistryWriter.writeConfigurationConfigurationRegistryWriter.java
	at org.apache.maven.archiva.configuration.io.registry.ConfigurationRegistryWriter.writeConfigurationRegistryWriter.java
	at org.apache.maven.archiva.configuration.DefaultArchivaConfiguration.saveDefaultArchivaConfiguration.java
	at org.apache.maven.archiva.web.action.admin.connectors.proxy.ConfigureProxyConnectorAction.saveConfigurationConfigureProxyConnectorAction.java
	at org.apache.maven.archiva.web.action.admin.connectors.proxy.ConfigureProxyConnectorAction.saveConfigureProxyConnectorAction.java
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	at java.lang.reflect.Method.invokeMethod.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.interceptConfigurationInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.interceptParameterFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.webwork.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.xwork.interceptor.EnvironmentCheckInterceptor.interceptEnvironmentCheckInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionProxy.executeDefaultActionProxy.java
	at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.mortbay.jetty.Server.handleServer.java
	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
	at org.mortbay.jetty.HttpConnection$RequestHandler.contentHttpConnection.java
	at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
	at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
	at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
	at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java

",Bug
"Webwork  Performance Tuning Based on thread httpwww.nabble.comContinuum-..-beta--UI-performance-tfs.html.

We must add some configuration parameters described here httpwiki.opensymphony.comdisplayWWPerformanceTuning.
adding  template_update_delay in freemarker.properties.
Copy the template directory from the webwork jar in your WEB_APP root
",Improvement
"Artifact requests with a .xml.zip extension fail with a  Error This issue might also apply to any multi dots extension request but I didnt check.

Regards,

CÃ©dric
",Bug
"improvement to the reports form group search if you search for org.apache, it should find org.apache.",Improvement
Repository Browse not updated after repository purge although the database is updated during the purge Please see comments on MRM- for more info,Bug
Repositories are read only even for repository managers Both the OSX client and the litmus test suite report that the repositories are read only and cannot be deployed to.,Bug
validation for reports form validation is missing - see MRM-,Bug
"tab appearance on view artifact page looks incorrect Im noticing extra horizontal bars around the selected tab, which causes all the tabs to shift position depending on which is selected",Bug
"Search and Browse do not work for snapshots When I to browse or search an artifact with snapshots, I usually get an error when I try to go to the artifact info page. Looking at the logs, Archiva is complaining that the version x.y.z-SNAPSHOT does not match the pom files version x.y.z-timestamp-buildno.

Ideally, sequence for browse would be group-artifact-base version-snapshot version. In other words, I would first browse to the base version, under which would be listed all the snapshot versions. The pom snippet on the base version page would have versionx.y.z-SNAPSHOTversion and the pom snippet on the snapshot version page would have versionx.y.z-timestamp-buildnoversion. I think this would be a lot more clear than how it currently works - mixing base versions and snapshot versions on the same page.",Bug
"Can not deploy artifact test.maven-archtest-arch I have test artifact with groupId  test.maven-arch and artifactId  test-arch.

But Archiva does not work with this project - I can not browse thsi project. There is ""No Artifact Id detected."" in archiva.log.

Attached archiva.log, mentioned projects pom.xml and screenshot of browse page.
",Bug
"regression editing a repository on first creation of .marchiva.xml doesnt call change listeners steps to reproduce
- ensure there is no ${appserver.base}confarchiva.xml or .marchiva.xml
- start Archiva
- edit the internal repository to change the path
- scan the repository

Expected the new path is scanned
Actual the original default path is scanned.

I expect this is because the change listener is not called in the new code",Bug
"adding a proxy connector action is not working after repository changes need to write tests also, and run through the related issues for proxy connector admin in JIRA",Bug
"Metadata.xml files are not released from a filesystem lock in Win When using archiva on windows, and then performing a deploy, the metadata.xml files that are deployed get locked by archiva and then cannot be updatedredeployed by a subsequent deploy request.",Bug
No checking of invalid poms or artifacts during repository scanning resulting to some objects not being found on the database See MRM- for more details,Bug
"Dependency Tree is not shown in artifact details screen. When browsing to an artifact, the artifact details screen is shown ok.
But when using the Dependency Tree tab, the information is always blank.",Bug
"add xwork exception handling pages for presentable error reporting if anyone gets a stack trace, they should have an easy way to report it as a bug though this should also be configurable since in a production environment the admin would want to be contacted instead",Bug
"Automatic Reassign of POM embedded repositories. This is discussed at httpwww.nabble.comReA-MRM-A-configuring-different-types-of-repositories-differently-p.html

Example
 Pull up a report of all remote repositories defined in the poms.
 Select one of them, and a managed repository, hit reassign repo button.
 A remote repository is added to the archiva configuration.
 A proxy connector is added between the selected managed repo and the new remote repository.
 Then all embedded references to that remote repository now point to the managed archiva repository URL.
 A reference is added to the auto-convert consumer that all new occurrences of this repository are converted. ",New_Feature
"Warning message for non existent resources should include what resource it failed to locate. Ive modified my logging to cut down on the debug spam.

This means that I get the following warning but no context

{paneltitlelog output}
  SocketListener- WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Resource does not exist Unable to locate resource in repository
{panel}

The warning message should also include what resource was unable to be located.",Bug
"need to review repository defaults we should review the use of the appserver path as the default location, as it is not particularly friendly to seting up as a standalone web application. I believe there is insufficient error handling to correct this situation if the user forgets to first set the variables during installation.",Bug
"Search does not work for snapshots because of different version values in index and database when the snapshot version is unique When an artifact with unique snapshots is searched from Archiva, the search result would contain different hits for that artifact which has the same version but when you click the version to browse the artifact.. an ObjectNotFound error is returned. Below is an example of this behavior.

The artifact to be searched is castor-anttasks. Lets say it has  SNAPSHOT versions ..-.-, ..-.- and ..-.- in the repository, and the path to this artifact is REPOorgcodehauscastorcastor-anttasks..-SNAPSHOT.

The search results would then look like this

Hits  of 
castor-anttasks
org  codehaus  castor  castor-anttasks | Versions ..-SNAPSHOT

castor-anttasks
org  codehaus  castor  castor-anttasks | Versions ..-SNAPSHOT

castor-anttasks
org  codehaus  castor  castor-anttasks | Versions ..-SNAPSHOT

When you click either of the versions to browse the artifact, what you would get is this error
Unable to find project model for org.codehaus.castorcastor-anttasks..-SNAPSHOT",Bug
Replace the archiva.version propertry with project.version There is no need for the archiva.version property in the pom because this can be represented by the project.version property. Furthermore this can cause problems when doing a release with continuum.,Improvement
"Archiva always writes to .marchiva.xml From httpmaven.apache.orgarchivaguidesconfiguration.html 

""When Archiva saves its configuration, all configuration is stored to
a single file. The file chosen is by the following rules

     If .marchiva.xml exists, it is saved there

     Otherwise, it is saved to $ARCHIVA_BASEconfarchiva.xml,
regardless of whether it previously existed. ""

The latest code r always writes to .marchiva.xml, even if it did not exist, and completely ignores $ARCHIVA_BASEconfarchiva.xml.

Related thread  httpwww.nabble.comArchiva-now-always-writes-to-E-.m-archiva.xml-t.html",Bug
"pom version is not resolved I compose pom.version from  properties
--
	version${prj.ver.maj}.${prj.ver.min}.${prj.ver.inc}${prj.ver.suf}version
	properties
		prj.ver.majprj.ver.maj
		prj.ver.minprj.ver.min
		prj.ver.incprj.ver.inc
		prj.ver.suf-SNAPSHOTprj.ver.suf
	properties
--

But it looks Archiva does not resolve pom.version and it is not possible to browse this artifact see attached screenshot.

Attached archiva.log, mentioned projects pom.xml and screenshot of browse page.
",Bug
"ability to use file protocol using UNC path for Managed repository Currently, if I try to use a network share with a UNC path when creating a Managed Repository, the path is replaced with a newly created directory on the system root.  For example, using the path of filepath_to_network_share gets changed to fileCpath_to_network share.  I have tried a combination of strings for the url but have not been able to connect to a network share.  ",New_Feature
"Find Artifact does not work when the applet is disabled When the Find Artifact applet is disabled with the following config in archiva.xml, the feature does not work.

Providing a md checksum and clicking Go does nothing. The page re-displays without the checksum and nothing appears in the logs.

  webapp
    ui
      showFindArtifactstrueshowFindArtifacts
      appletFindEnabledfalseappletFindEnabled
    ui
  webapp

See MRM- for the ability to disable the applet.",Bug
" error when user requested the dependency tree for artifact User requested dependency for an artifact and got a  error.

archiva.log attached.",Bug
"resolve jasper licensing issue by separating into a profile - put it in a separate module and profile that isnt distributed with archiva, but can be built manually and installed
- provide a bland, default implementation of the reporting pages that doesnt use jasper just a spit out a table of everything.
",Bug
"NPE on DatabaseJob.execute From archiva.log

 
 defaultScheduler_Worker- ERROR org.quartz.core.JobRunShell  - Job database-group.database-job threw an unhandled Exception

java.lang.NullPointerException
        at org.apache.maven.archiva.scheduled.DatabaseTaskJob.executeDatabaseTaskJob.java
        at org.quartz.core.JobRunShell.runJobRunShell.java
        at org.quartz.simpl.SimpleThreadPool$WorkerThread.runSimpleThreadPool.java
 defaultScheduler_Worker- ERROR org.quartz.core.ErrorLogger  - Job database-group.database-job threw an exception.
org.quartz.SchedulerException Job threw an unhandled exception. See nested exception java.lang.NullPointerException
        at org.quartz.core.JobRunShell.runJobRunShell.java
        at org.quartz.simpl.SimpleThreadPool$WorkerThread.runSimpleThreadPool.java
",Bug
"Test failures in BytecodeIndexTest due to NPE in AbstractIndexCreationTestCase Commented out the following tests to be able to release .-beta-
- testAddRecordNoIndex
- testAddRecordExistingEmptyIndex
- testAddRecordInIndex
- testDeleteRecordInIndex",Bug
"formatting in download box can sometimes be cramped go to the ""antant.."" artifact, and look at the download box - the ""Jar"" text butts up against the size.

In addition, the size should be displayed in KB instead of bytes one dec. pl.",Bug
"Add support for maven legacy request to access a maven default layout repo archiva .-alpha- doesnt support converting legacy-layout request to default layout. This behaviour is usefull to allow maven to access a maven repository, and avoid having multiple managed repo as proxies to central.

The attached patch add this support 

- it adds to BidirectionalRepositoryLayout the new method boolean isValidPath String path 
- it adds to BidirectionalRepositoryLayoutFactory the new method BidirectionalRepositoryLayout getLayoutForPath String path 
- it use them to detect the layout used by incoming request and build the ArchivaArtifact object used to proxy the request. It aslo overrides the pathInfo to make the request point to the real-file path in the managed repository

BidirectionalRepositoryLayoutFactoryTest also updated

",Improvement
"Missing ability to manage proxy order. Dan Tran brought up a good point about Proxy Connectors and search order.
Reference httpwww.nabble.comThe-order-to-proxy-connectors-p.html

--snip--
Hello, I would like to setup archiva to search for java.net first then
repo.maven.org.  And archive user interface does not seem to support this
option.

Can some one confirm

this is a work around for httpjira.codehaus.orgbrowseMEV-

Thanks
--snip--",Bug
Index not updated after repository purge Please see comments MRM- for more info,Bug
"find artifact  search by checksum is not working I always get  results, even if the artifact being searched from comes directly from the repository that is already scanned completely.",Improvement
"While creating admin account, entering invalid password yields no error message This bug applies to a fresh Archiva web app installation.

I tried creating an admin account with the following credentials
U - admin
P - admin

Upon form submission, nothing happened.  I was pretty confused and thinking that there was something wrong with my users database in PostgreSQL.  Upon closer inspection, I noticed that there was a vertically compressed redgreen cant remember frame, with missing error message inside of it, at the top of the screen.  I then tried a more complex password, which was accepted.  I was immediately logged in with no empty error message boxes at the top of the screen.",Bug
Bad repository SVN in documentation The URL about SVN repository of Redback in the documentation is wrong  httpsvn.apache.orgreposasfarchivaredbackall.,Bug
"Archiva should throw  Method not allowed when ""releasesfalse"" in archiva.xml releases is configured to false which should tell archiva that uploading should be disabled for the repo.  But the setting doesnt work as seen from the code.  Please see the attached patch. Thanks.

		managedRepository
			locationhomeyvaryarchivadatarepositoriespubliclocation
			blockRedeploymentstrueblockRedeployments
			daysOlderdaysOlder
			idpublicid
			nameArchiva Managed Public Repositoryname
			releasesfalsereleases
		managedRepository",Bug
Merge repository to an external repository we could merge repository to an external one using wagons scp destination,Improvement
"Archiva not working on  bit Linux - must remove linux-x- wrapper files On every version, if youre running on a  bits linux OS, once you start archiva standalone, havent tested in a container, you get

eval  pathtoarchivabin.wrapper-linux-x- not found 

This has been happening at least since ...

To solve the issue, you must delete the liblibwrapper-linux-x-.so and binwrapper-linux-x- files. 

I also suggest that, while this isnt fixed and since it affects every user with a  bits Linux OS, the information is added to the FAQs. I can give you a proposed text if you want to.",Bug
"User & password management broken  Cant create new users.  Filling in the form and clicking save does nothing.  The dialog stays open.  Attempted w Chrome&FF, couldnt get IE to open the home page

 Im having problems setting the password for the admin user possibly others, but I dont want to touch other accounts and I cant create new ones.  The reset password process didnt send me an e-mail.  

Initially after the upgrade from .-M, I had forgotten the admin password and eventually got a prompt not sure how to change the password but it didnt seem to do anything.

I also tried clicking ""Forgot Password"" and it put a banner at the top of the page saying ""Password reset"", but it wasnt clear what that meant.  I think maybe it was supposed to send an email.  If so, maybe the message needs to say that.  

However, I never got an e-mail.

I ended up copying the derby database files to my local system and using SquirreL SQL client to open up and copy a known encrypted password value from another user.

After logging in using the copied password, I attempted to change the admin password.  I click ""Edit Details"", entered my existing password and new password info.  When I click ""Ok"". It appears to do nothing.  The dialog stays open and no password is set.  
",Bug
"Test fail in Archiva Scheduler  Indexing .-M-SNAPSHOT Test in class ArchivaIndexingTaskExecutorTest fail at tearDown method when the testPackagedIndex just finished. The error was occur when I launch this Maven command. It triggers when I run this command again 
mvn clean install -pl archiva-scheduler-indexing -am

But if I launch this before 
mvn clean

It works perfectly.

When I debugged the test I saw that the indexer is not stopped when the files in targettest-classes.indexer are deleted. So every time a file is deleted a new one is created, and the test fails.

I join the stack trace of the test error.

Best regards,

Antoine ROUAZE",Bug
add a P repository create a p repository for deployingdownload with proxy capability.,New_Feature
Missing links on the carousel to force the image to display The carousel should have links to be able to change the image to display. This enable to return the last image shown.,Improvement
"Show Job Status  Whats going on behind the scenes It would be nice to see whats going on in the background, without always looking into the log. Maybe a Log Viewer or such. 
When adding a new task like scanning a repo, it would be also nice to get a percentage display or at least to see ""ok, currently i am scanning repo X and have X mb downloaded"" or such.",New_Feature
There is no image in the carousel for a couple of seconds The carousel of screenshots doesnt display any image for a couple of second because there is no active image at first.,Improvement
"Evil exception which blocks UI interaction, not sure what i did I changed the Cronjob expression in a remote managed repository so i got  times it is invalid. Then i fixed it and clicked on save. Then i tried to delete the Repository which was not working anymore. I edited the cronjob again to the old expression and tried again deleting it. The UI is not working anymore.

Attached the exceptions from the log",Bug
"Archiva should allow PropertyPlaceholderConfigurer in applicationContext.xml When PropertyPlaceholderConfigurer is configured in the applicationContext.xml, it results in unresolved property error during the context initialization due to another property-placeholder with unset location.  It should either set the right location or use  ignoreUnresolvablePlaceholders property to let other PropertyPlaceholderConfigurer wot work.

Please see attached patch.
Thanks",Bug
"Cannot connect to PostgreSQL Archiva .-M cannot start.  Im getting this error
""java.sql.SQLFeatureNotSupportedException Method org.postgresql.jdbc.JdbcStatement.setQueryTimeoutint is not yet implemented.""

Ive tried archiva-webapp-js-.-M-SNAPSHOT.war and archiva-webapp-.-M-SNAPSHOT.war.  Archiva will start if I use apache-archiva-.-M.war.  I have changed archiva.xml each time to point to the respective .war file.

I tried using postgresql-.-.jdbc.jar and postgresql-.-.jdbc.jar, but neither worked.  I get the same PostgreSQL-related error message.

Ive attached the Tomcat  log and archiva.log.",Bug
"Changing admin password in Continuum using shared external ""users"" database causes Archiva security workspace to become stale Im sharing the ""users"" database between Archiva and Continuum.  I switched over to PostgreSQL v. on my laptop to mirror the ArchivaContinuumPostgreSQL setup Ive installed on a server.  I wanted the same password for the admin account as the admin account thats set up on the server, so I changed the password to the admin account using Continuum.

I was able to then log out and log in with the new password in Continuum.  Upon verifying that I could log in as admin to Archiva with the new password, I discovered that I was not able to log in.

The remedy was to navigate to Capachetomcat_base_archivadatajcrworkspaces and delete the  default workspaces ""security"" & ""default"".  I know that a workspaces workspace.xml can become stale if something with repository.xml is changed.  Deleting it will prompt Apache Jackrabbit to regenerate a new workspace.xml.  Whether I have to delete BOTH ""security"" and ""default""...I dont know.  Whatever the case may be, thats worked for me.",Bug
"download artifacts when coming from search results  Search is based on maven index. Users can have results for artifact not here.
So going to artifact info display an empty result.
We must download artifacts.",New_Feature
"SNAPSHOT build failed  when checked out the latest svn version and tried to build from aggregator pom with mvn -P with-redback clean install

the i got this one
ERROR The build could not read  project - Help 
ERROR
ERROR   The project org.apache.archivaarchiva-test-utils.-M-SNAPSHOT Carchiva-allarchivaarchiva-modulesarchiva-basearchiva-test-utilspom.xml has  error
ERROR     Non-resolvable parent POM Could not find artifact org.apache.archivaarchivapom.-M-SNAPSHOT and parent.relativePath points at wrong local POM @ line , column  - Help 
ERROR
ERROR To see the full stack trace of the errors, re-run Maven with the -e switch.
ERROR Re-run Maven using the -X switch to enable full debug logging.
ERROR
ERROR For more information about the errors and possible solutions, please read the following articles",Bug
"The modal box when creating a repository with a directory which already exists does not disappear when click ok When I create a repository with the new UI JS, with a directory already existing homeadrien.mrepository a modal box appear to notify that the dorectory already exists but does not disappear when I click on ""ok"" button. The repository is created anyway but if I click on ""ok"" again, a error message appear as the repository already exists.",Bug
"In interface Scheduler the method schedulJob takes an implementation, not a interface The method schedulJob of the Scheduler Interface org.apache.archiva.redback.components.scheduler.Scheduler takes as first argument a JobDetailImpl. The patch submitted change it to a JobDetail, the interface implemented by JobDetailImpl. 
This is because the JobBuilder methods create JobDetail.",Improvement
"The release date of .-M on the Archiva site is wrong . Go httparchiva.apache.org
. Look for Section  Download Archiva on this page
.  Latest preview release Get Archiva .-M  October 

 should be .

Great work, guys!",Bug
"feeds link behaviour seems not coherent orange rss logo sometimes link to non existing url for feeds.
Take me sometime to investigate

Browse and not logged in
 user have rss logo for artifact
 user have rss logo for individual repository and ""all"" repository

Browse and logged in
 user have no rss logo for artifact
 user have rss logo for individual repository but not for ""all"" repository",Bug
"StreamCorruptedException opening an artefact  When clicking on a version link of an artefact in order to view the related information, Im facing full log attached
{code}
java.io.StreamCorruptedException invalid stream header BB
	java.io.ObjectInputStream.readStreamHeaderObjectInputStream.java
	java.io.ObjectInputStream.initObjectInputStream.java
	org.jpox.store.rdbms.datatype.BlobImpl.getObjectBlobImpl.java
	org.jpox.store.rdbms.mapping.AbstractLargeBinaryRDBMSMapping.getObjectAbstractLargeBinaryRDBMSMapping.java
	org.jpox.store.mapping.AbstractContainerMapping.getObjectAbstractContainerMapping.java
	org.jpox.store.rdbms.fieldmanager.ResultSetGetter.fetchObjectFieldResultSetGetter.java
	org.jpox.state.StateManagerImpl.replacingObjectFieldStateManagerImpl.java
	org.apache.maven.archiva.model.Individual.jdoReplaceFieldIndividual.java
{code}

Please note Im already facing issue MRM-",Bug
"Broke download links The download page  links to

httpwww.apache.orgdyncloser.cgiarchivabinariesarchiva..apache-archiva-..-bin.zip

However that returns . as the file is actually under

archiva..binaries

not

archivabinariesarchiva..



 httparchiva.apache.orgdownload.html

",Bug
"With the new Fest Assert version, some importsmethods call have to be changed The unit tests for ArtifactContentEntries and BrowseService didnt moved to the new version and artifact used since commit github.comapachearchivacommitadffadbcdbdeefedcb",Bug
"MetadataToolsTest fail in testGatherSnapshotVersionsA MetadataToolsTest fails if testGatherSnapshotVersionsAWithProxies is tested before testGatherSnapshotVersionsA

ProxyConnector set in testGatherSnapshotVersionsAWithProxies stay for next test.

Patch to remove proxyConnector in testGatherSnapshotVersionsA

",Bug
"Unable to change user properties without password values I log in as my admin user and attempt to change  of my ""service account"" users to disable the ""Change password required"" option.  

If I click the red icon in the last column of the user record on the summary page to disable the ""Change password required"" option it says it succeeds and the icon changes to a little sun icon.  However, if I refresh the page, it reverts back to the red icon.

If I go into the edit user dialog and uncheck the box and click ""Save"", it highlights the password field stating that the password is required.

It doesnt seem feasible to require a password change if simply updating other user attributes.",Bug
"Archiva Consumers  Consumers Archetype cannot run integration test Archiva is using .-SNAPSHOT compiler plugin but during IT test of Consumers Archetype the pom use .. version.

if artifact is not on your local repository it will not try to download. Same for other artifacts or plugin. Not sure of what a fix must be.

allarchivaarchiva-modulesarchiva-basearchiva-consumersarchiva-consumer-archetypesrcmainresourcesarchetype-resourcespom.xml",Bug
Add a link to all screenshots page in the caption of the carousel The captions of the carousel should include a lin to the features page aka screenshots page for an easy access.,Improvement
"Karaf obr feature addurl command not accepting archiva repository URL Hi,
I have successfully hosted a repository in one of my local folders on C
The repository was created through the archiva web admin portal running on localhost

What I would like to know is,

. can I somehow supply the url of my new repository to the obr features addurl command in karaf Right now I get a  error
. can i supply an httpuserpassword@localhostarchiva... to karaf obr It doesnt seem to work
. Is it possible to do a bundleinstall using archiva  from karaf
. Where does archiva store the repository.xml we have come to associate with obr repositories as we see in cusersuser.mrepository
. Can someone please point me to any documentation where I can learn how I can publish a package from maven build into an archiva managed repository

Thanks",New_Feature
"Error  when browsing artifact group When I try to browse a repository from the web UI and open an artifact group, I get a HTTP  error with the following message

{noformat}
javax.servlet.ServletException javax.jdo.JDODataStoreException Error executing JDOQL query ""SELECT ""THIS"".""GROUP_ID"" FROM ""ARCHIVA_ARTIFACT"" ""THIS"" WHERE ""THIS"".""REPOSITORY_ID""   OR ""THIS"".""REPOSITORY_ID""   AND ""THIS"".""GROUP_ID"" LIKE  ESCAPE   GROUP BY ""THIS"".""GROUP_ID"" ORDER BY ""THIS"".""GROUP_ID""""  ERROR invalid escape string
  Rada Escape string must be empty or one character..
NestedThrowables
org.postgresql.util.PSQLException ERROR invalid escape string
  Rada Escape string must be empty or one character.{noformat}",Bug
"Use MavenXppReader as a static variable  Charles Kim charlesk@yahoo-inc.com
 Hi,
 It seems that MavenXppReader is threadsafe.  If so, can this be used 
 as static variable instead of creating it for every request Although underlying XmlPullParser does the heavy lifting Thanks.


I think too its thread safe good catch !.
Do you want to submit a patch for this fix 

--
Olivier Lamy
Talend httpcoders.talend.com
httptwitter.comolamy | httplinkedin.cominolamy
",Improvement
"Confusing behavior when session is lost When the session is lost, clicking on a menu item that requires rprviliges trigger the display of the following error message

bq.You need to be authenticated for this action or have more privileges.

But the displayed button is ""logout""

!Selection_.png!

Maybe when a session is lost, the UI should be reloaded as displayed for a fresh access to the application, e.g. with ""Login"" button and only the menu items that are accessible to guests.",Bug
"Cannot manually upload certain artifacts or Archiva says you cant but you can Unfortunately, Im stuck having to make Production deployments to WebSphere . until Winter in NA.  A particular JSF . project Im maintaining uses RichFaces ...Final.  To resolve a horrendous memory leak problem involving capping the number of logical views it can generate and another problem involving IE and also adding a tooltip feature to the RichFaces calendar, I downloaded the source, modified it, and generated my own custom artifacts.

I now need to upload them to Archiva so they can be included in the next Production release, or my head will roll when the WAS . cluster goes down due to logical views getting created out the wazoo.

Three artifacts are produced when building RichFaces ...Finals source using Maven  and -P jsf
richfaces-api-...Final.jar has no .pom
richfaces-impl-jsf-...Final.jar has a .pom
richfaces-ui-...Final.jar has a .pom

Archiva seems to upload the ui .jar just fine.  However, two oddball things happened for the other two .jars.

First
I accidentally had selected the Snapshots repository when I tried to upload the api .jar.  I received the error message that I cant overwrite artifacts to that repository.  So, I selected a managed repository that I created.  I still received the same error message.  Upon inspection of the repo via ""Browse"", I was able to verify that the artifact had indeed been uploaded successfully.

Second
I tried uploading the impl .jar but was promptly denied by the same error message as before.  Once again, it was successfully uploaded to the repo.

I find that, to get this section to actually work, I have to do a lot postbacks navigate to another section in Archiva do a refresh, shift  refresh, or even log out and refresh and then log back in - argh.

Additionally, I cant upload these release artifacts to the default ""internal"" repo  Why  Id like to simply upload them there and set it to where theyre never updated by the artifacts present Central.  Please advise.
",Bug
manual artifact upload should determine artifact id and group id from uploaded pom The artifact upload web interface should be able to parse the uploaded pom to populate artifact id and group id.,Improvement
"configuration changes spawn an unreasonable number of checks on repository permission templates After adding  repositories, then attempting to make a configuration change, I found that requests no longer completed in a reasonable amount of time. I found that when the configuration was saved, every field in every managed repository caused a resync of all managed repositories role templates.

Instead, it should do this only when changing an ID.",Bug
"Potential issue in reordering I cannot reproduce in a regular manner but seems that reordering repository and saving is not always working.

 remote for one managed repository

Moving second to last place

 I experience duplicate repo name in the list, but saving was not working.
 Sometime working with some red in line to save modification.

",Bug
"artifact browser isnt sorting all items correctly. In the browser, some of the packages are not in order.  Not a huge deal, but makes it confusing a bit when searching for an artifact via the drill down.",Bug
"Bad mod on file in the bundle When building the bundle of Archiva, some files have incorrect mod

{code}
$ tree apache-archiva-js-.-M-SNAPSHOT
apache-archiva-js-.-M-SNAPSHOT
Ã¢ÂÂÃ¢ÂÂÃ¢ÂÂ LICENSE
Ã¢ÂÂÃ¢ÂÂÃ¢ÂÂ NOTICE
Ã¢ÂÂÃ¢ÂÂÃ¢ÂÂ apps
Ã¢ÂÂÃÂ ÃÂ  Ã¢ÂÂÃ¢ÂÂÃ¢ÂÂ archiva
Ã¢ÂÂÃÂ ÃÂ      Ã¢ÂÂÃ¢ÂÂÃ¢ÂÂ META-INF error opening dir
Ã¢ÂÂÃÂ ÃÂ      Ã¢ÂÂÃ¢ÂÂÃ¢ÂÂ WEB-INF error opening dir
Ã¢ÂÂÃÂ ÃÂ      Ã¢ÂÂÃ¢ÂÂÃ¢ÂÂ css error opening dir
Ã¢ÂÂÃÂ ÃÂ      Ã¢ÂÂÃ¢ÂÂÃ¢ÂÂ favicon.ico
Ã¢ÂÂÃÂ ÃÂ      Ã¢ÂÂÃ¢ÂÂÃ¢ÂÂ images error opening dir
Ã¢ÂÂÃÂ ÃÂ      Ã¢ÂÂÃ¢ÂÂÃ¢ÂÂ img error opening dir
Ã¢ÂÂÃÂ ÃÂ      Ã¢ÂÂÃ¢ÂÂÃ¢ÂÂ index.html
Ã¢ÂÂÃÂ ÃÂ      Ã¢ÂÂÃ¢ÂÂÃ¢ÂÂ js error opening dir
Ã¢ÂÂ¦
{code}

with more details

{code}
$ ls -al apache-archiva-js-.-M-SNAPSHOTappsarchiva
total 
drwxr-xr-x   adrien  staff   B   aoÃÂ»  .
drwxr-xr-x    adrien  staff   B   aoÃÂ»  ..
d---------    adrien  staff   B   aoÃÂ»  META-INF
d---------    adrien  staff   B   aoÃÂ»  WEB-INF
d---------   adrien  staff   B   aoÃÂ»  css
-rwxr-xr-x    adrien  staff   ,K   aoÃÂ»  favicon.ico
d---------   adrien  staff   ,K   aoÃÂ»  images
d---------    adrien  staff   B   aoÃÂ»  img
-rwxr-xr-x    adrien  staff   ,K   aoÃÂ»  index.html
d---------   adrien  staff   ,K   aoÃÂ»  js
{code}",Bug
"wrapper script broken - it cannot find the java executable When i try to start archiva as documented in the docu .binarchiva.bat console i get an error from the wrapper script

Earchiva-snapshot.binarchiva console
wrapper  | -- Wrapper Started as Console
wrapper  | Launching a JVM...
wrapper  | Unable to execute Java command.  The system cannot find the file specified. x
wrapper  |     ""java"" -Dappserver.home. -Dappserver.base. -Djetty.logs.logs -Djava.io.tmpdir.temp -Darchiva.tmp.group.index.ttl -XXMaxPermSizem -Xmsm -Xmxm -Djava.library.path""lib"" -classpath ""libwrapper.jar;libarchiva-jetty-js-.-M-SNAPSHOT.pom;libjetty-server-...v.jar;libservlet-api-..jar;libjetty-continuation-...v.jar;libjetty-http-...v.jar;libjetty-io-...v.jar;libjetty-jndi-...v.jar;libjetty-start-...
v.jar;libjetty-plus-...v.jar;libgeronimo-jta_._spec-...jar;libjetty-webapp-...v.jar;libjetty-servlet-...v.jar;libjetty-security-...v.jar;libjetty-deploy-...v.jar;libjetty-xml-...v.jar;libjetty-util-...v.jar;libderby-....jar;libmail-..jar;libactivation-..jar;libant-...jar;libant-launcher-...jar;libcommons-dbcp-..jar;libcommons-pool-..jar"" -Dwrapper.key""dyiBSHrKipwCP"" -Dw
rapper.port -Dwrapper.jvm.port.min -Dwrapper.jvm.port.max -Dwrapper.pid -Dwrapper.version"".."" -Dwrapper.native_library""wrapper"" -Dwrapper.cpu.timeout"""" -Dwrapper.jvmid org.tanukisoftware.wrapper.WrapperSimpleApp org.eclipse.jetty.start.Main .confjetty.xml
wrapper  | Critical error wait for JVM process failed
Press any key to continue . . .

When i change the line in the wrapper.conf from
wrapper.java.commandjava
to
wrapper.java.commandEJavajrebinjava.exe

it works

java is in PATH, when i execute java in a fresh cmd.exe, i get the regular output from java. JAVA_HOME JDK_HOME and JRE_HOME is also set. ",Bug
"archiva server has no option to configure the registration mail Today I did register at archiva-repository.apache.orgarchiva and got a registration mail with a wrong link

httparchiva-vm.apache.orgindex.htmlvalidateMe.....

This link is wrong as it doesnt honour the reverse-proxy settings.
It seems that this link cannot be changed via the configuration UI.",Bug
"Edit Proxy Connector form problem with removing Patterns When I added a pattern to Black List in double quotes """"comdodax"""" by accident I am not able to delete it, even though the same pattern can be deleted from the White List",Bug
"The role management is not shown on role edit tab In the user edit page, the tab to edit the roles of the user display the message ""roles edit"" whereas it should display the roles edit form. 

The issue comes form the .bind function of jQuery that doesnt recognize ""change"" event. ",Bug
"Automatic generation of REST Api documentation We must find to auto generate documentation on REST api
Enunciate looks to need some code changes on method names 
Other solutions swagger are not open source.
So maybe write our own stuff !
Maybe NIH syndrom -",Bug
"Repository purge only purges one file extension per classifier In case a classifier gets deployed two times with a differnt file extension e.g. -javadoc.jar and -javadoc.zip, repository purge only deletes one and leaves the other one. In case of lots of snapshot builds the directory fills up and slows down the repository scanning until it is stuck.",Improvement
"Ability to delete a specific version of an an artifact from the artifact screen The ability to delete artifacts in context while browsing is AWESOME, but there is one more place it would be handy.  When drilling down to the artifact root where it shows all available versions, it would be nice to be able to remove the entire version see Capture.png.  

Currently I must drill into the version, click the ""Artifacts"" tab and removed each artifact individually see Capture.png.  This isnt a big deal with Release versions but for SNAPSHOT versions, there may be MANY artifacts.  ",Improvement
"non-default Repositories, Repository Groups, and Proxy Connectors disappear when switching Archiva to Windows service When I set up Archiva on Tomcat, I was launching Tomcat manually via the command prompt.  During this time, I set up  repositories  with a Stage repository, many remote repositories, a repository group, and a proxy connector. Once I was satisfied with my setup, I set the Tomcat instance as a Windows service.

I was surprised to find that the repositories, repository group, and proxy connector I created were missing.  Only the default internal and snapshots repositories remained.  The default central remote repository remained. The default proxy connector was still present the one connecting internal to central.  No repository groups remained.

I located ${appserver.base} and found datarepositories.  Within that subdirectory path, I found my  repositories  the stage repository for a total of  repos.

Suspecting buggery, I created a new managed repository named test.  Sure enough, test appeared in the same subdirectory as the  repos I created when Archiva was not launched via Tomcat as a Windows service.  Archiva could see test, but it could not see the other  repos.

Ive attached screenshots showing the Archiva ui and Windows Explorer after I created ""test"".",Bug
"mvn archetypegenerate -DarchetypeCatalog archetype-catalog.xml failing with Not a valid artifact path  ""mvn archetypegenerate -DarchetypeCataloghttphostrepositorypublicfoomaven_archetypes"" will append the archetype-catalog.xml and it should fetch the list of archetypes.  However, this is failing on Archiva where an exception is thrown with ""java.lang.IllegalArgumentException Not a valid artifact path in a Maven  repository, filename archetype-catalog.xml doesnt start with artifact ID"" since Archiva is treating this as an artifact.

I think there needs to be a check for such case similar to metadata file for an archetype catalog so that it doesnt try to check for valid artifact format.  I can create a ticket and submit a patch for this.
Thanks.
-Charlie

",Bug
"Add a configuration field for the application url For people using dns entry with an http in front, emails, download url doesnt contains this dns entry.
We can add a new configuration for configuring the dns entry i.e. archiva-repository.apache.org ",Bug
"Purge task problem  Not enough parts to the path I keep on having these logs 
Im using archiva ...
I thought this was fixed in MRM-, but I still get this 


-- , pool--thread- INFO  org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor  - Executing task from queue with job name RepositoryTask repositoryIdsofaxis-snapshot, resourceFilenull, scanAllfalse, updateRelatedArtifactsfalse
-- , pool--thread- INFO  org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance  - Walk Started sofaxis-snapshot Dmaven_archiva_datadatarepositoriessofaxis-snapshot
-- , pool--thread- ERROR org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure  - Consumer repository-purge had an error when processing file Dmaven_archiva_datadatarepositoriessofaxis-snapshot.indexnexus-maven-repository-index.zip Not enough parts to the path .indexnexus-maven-repository-index.zip to construct an ArchivaArtifact from. Requires at least  parts
org.apache.maven.archiva.consumers.ConsumerException Not enough parts to the path .indexnexus-maven-repository-index.zip to construct an ArchivaArtifact from. Requires at least  parts
	at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFileRepositoryPurgeConsumer.java
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.executeConsumerProcessFileClosure.java
	at org.apache.commons.collections.functors.IfClosure.executeIfClosure.java
	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStepRepositoryScannerInstance.java
	at org.codehaus.plexus.util.DirectoryWalker.fireStepDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirectoryWalker.java
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTaskArchivaRepositoryScanningTaskExecutor.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
	at java.lang.Thread.runThread.java
Caused by org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeException Not enough parts to the path .indexnexus-maven-repository-index.zip to construct an ArchivaArtifact from. Requires at least  parts
	at org.apache.maven.archiva.consumers.core.repository.CleanupReleasedSnapshotsRepositoryPurge.processCleanupReleasedSnapshotsRepositoryPurge.java
	at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFileRepositoryPurgeConsumer.java
	...  more
Caused by org.apache.maven.archiva.repository.layout.LayoutException Not enough parts to the path .indexnexus-maven-repository-index.zip to construct an ArchivaArtifact from. Requires at least  parts
	at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReferenceDefaultPathParser.java
	at org.apache.maven.archiva.repository.content.AbstractDefaultRepositoryContent.toArtifactReferenceAbstractDefaultRepositoryContent.java
	at org.apache.maven.archiva.repository.content.ManagedDefaultRepositoryContent.toArtifactReferenceManagedDefaultRepositoryContent.java
	at org.apache.maven.archiva.consumers.core.repository.CleanupReleasedSnapshotsRepositoryPurge.processCleanupReleasedSnapshotsRepositoryPurge.java
	...  more
",Bug
"Password reset emails contain the wrong url for a reverse proxy setup we are running archiva with a reverse proxy setup using apache like this

ProxyPass archiva httplocalhostarchiva
ProxyPassReverse archiva httplocalhostarchiva

when requesting a password reset, the url used in the email is

httplocalhostarchivasecuritylogin...

i.e. it uses the url name derived from the tomcat server configuration or from the current request.

It would be better if the base url could be configured to a specific value.

",Bug
"Archiva consumer archetype cannot complete integration-test on windows Building archiva as mention in 
httparchiva.apache.orgdevelopersbuilding.html fail on windows during verify goal in goal.txt of archiva-consumer-archetype

{code}
Error Unable to access jarfile ..... archivaarchiva-modulesarchiva-basearchiva-consumersarchiva-consumer-archetypetargettest-classesprojectscompileprojectsimple-consumer-compiletargetsurefiresurefirebooter.jar
{code}",Bug
"When resetting admin accounts password, using invalid new password yields no error message I tried resetting the admin accounts password to ""admin"".  It failed.  I could see a vertically compressed red error message box appear at the top of the screen.  No error message was present within it.  The X to close the message box was present.",Bug
addProxy Connectors Rules screen This screen will configure excludesincludes for collection of proxy connectors.,Bug
"Validation error message not visible to user when adding Remote Repository I was setting up remote repositories and noticed that one of the remote repositories wasnt getting saved.  No error messages were displayed.

Luckily, I had access to the Archiva logs.  I found this error
-- , ajp-bio--exec- ERROR org.apache.cxf.interceptor.AbstractFaultChainInitiatorObserver  - Error occurred during error handling, give up!
org.apache.cxf.interceptor.Fault Invalid repository name. Repository Name must only contain alphanumeric characters, white-spaces , forward-slashes, open-parenthesis, close-parenthesis,  underscores_, dots., and dashes-.
	at org.apache.cxf.service.invoker.AbstractInvoker.createFaultAbstractInvoker.java
	at org.apache.cxf.service.invoker.AbstractInvoker.invokeAbstractInvoker.java
	at org.apache.cxf.jaxrs.JAXRSInvoker.invokeJAXRSInvoker.java
	at org.apache.cxf.jaxrs.JAXRSInvoker.invokeJAXRSInvoker.java
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$.runServiceInvokerInterceptor.java
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessageServiceInvokerInterceptor.java
	at org.apache.cxf.phase.PhaseInterceptorChain.doInterceptPhaseInterceptorChain.java
	at org.apache.cxf.transport.ChainInitiationObserver.onMessageChainInitiationObserver.java
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invokeAbstractHTTPDestination.java
	at org.apache.cxf.transport.servlet.ServletController.invokeDestinationServletController.java
	at org.apache.cxf.transport.servlet.ServletController.invokeServletController.java
	at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invokeCXFNonSpringServlet.java
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequestAbstractHTTPServlet.java
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPostAbstractHTTPServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.serviceAbstractHTTPServlet.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternalCharacterEncodingFilter.java
	at org.springframework.web.filter.OncePerRequestFilter.doFilterOncePerRequestFilter.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at org.apache.catalina.core.StandardWrapperValve.invokeStandardWrapperValve.java
	at org.apache.catalina.core.StandardContextValve.invokeStandardContextValve.java
	at org.apache.catalina.authenticator.AuthenticatorBase.invokeAuthenticatorBase.java
	at org.apache.catalina.core.StandardHostValve.invokeStandardHostValve.java
	at org.apache.catalina.valves.ErrorReportValve.invokeErrorReportValve.java
	at org.apache.catalina.valves.AccessLogValve.invokeAccessLogValve.java
	at org.apache.catalina.core.StandardEngineValve.invokeStandardEngineValve.java
	at org.apache.catalina.connector.CoyoteAdapter.serviceCoyoteAdapter.java
	at org.apache.coyote.ajp.AjpProcessor.processAjpProcessor.java
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.processAbstractProtocol.java
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.runJIoEndpoint.java
	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
	at java.lang.Thread.runThread.java
Caused by org.apache.archiva.admin.model.RepositoryAdminException Invalid repository name. Repository Name must only contain alphanumeric characters, white-spaces , forward-slashes, open-parenthesis, close-parenthesis,  underscores_, dots., and dashes-.
	at org.apache.archiva.admin.repository.DefaultRepositoryCommonValidator.basicValidationDefaultRepositoryCommonValidator.java
	at org.apache.archiva.admin.repository.remote.DefaultRemoteRepositoryAdmin.addRemoteRepositoryDefaultRemoteRepositoryAdmin.java
	at org.apache.archiva.rest.services.DefaultRemoteRepositoriesService.addRemoteRepositoryDefaultRemoteRepositoriesService.java
	at sun.reflect.GeneratedMethodAccessor.invokeUnknown Source
	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	at java.lang.reflect.Method.invokeMethod.java
	at org.apache.cxf.service.invoker.AbstractInvoker.performInvocationAbstractInvoker.java
	at org.apache.cxf.service.invoker.AbstractInvoker.invokeAbstractInvoker.java

The remote repos name had an apostrophe in it.  Ex. - Googles open source releases.

I removed the apostrophe.  I was able to then Save the remote repository.",Bug
"maven model build failed when model have jdk profile activation sample with maven-archiver ..
{code}
ERROR Failed to determine Java version for profile jre-. @ org.apache.maven.sharedmaven-shared-components
{code}",Bug
use tomcat-jdbc for connection pooling in embeded distrib. See httpwww.tomcatexpert.comblogunderstanding-jdbc-pool-performance-improvements,Bug
"Delete artifact in the console doesnt really delete the artifact When we use the delete artifact button on the WebConsole, the artifacts are deleted from the filesystem but the metadata are still present and the artifacts are still present in the WebConsole.",Bug
"Users from LDAP does not appear in User List Weve installed Archiva .., connected to the LDAP and everything concerning user management was fine
 Users was able to login using their LDAP account
 Administrator saw the list of users in Archiva interface, and was able to change their privileges

Weve moved to Archiva .-M, and
 LDAP users still able to authenticate
 Privileges that were assigned to users in Archiva .. are still active
 LDAP users does not appear in user list anymore, preventing their archiva-related administration
 When a new user, that never logged in, authenticates, it works the user is logged in but the following message appear 
{code}
Unable to find RBAC Object myuser of type org.apache.archiva.redback.rbac.jdo.JdoUserAssignment using fetch-group null
{code}
 LDAP users does not appear in user list anymore, preventing their archiva-related administration


See the screenshot as an exemple Im logged-in using jbeti user, Im admin of Archiva, but I do not appear in user list",Bug
"Cannot upload artifact from Web UI Whenever I fill out the upload form and submit, it always returns a form error
""Please add a file to upload."". It doesnt matter if I upload just a jar or also the pom file. There is the same result for both.

All that was in the logs about the
upload was that the ""struts.multipart.saveDir"" was missing and that it
would use the default. I tried setting this and added a line to
struts.properties, but Im still getting the ""Please add a file to
upload."" message.

When the ""struts.multipart.saveDir"" is set, there is nothing in the log whatsoever.

The uploading feature worked fine using .. in the same environment.

I tried downloading and building latest trunk of .-M, but got the same behavior.",Bug
"Artifact metadata is incomplete Error in resolving artifacts parent POM file Below error message is shown in the Web interface when browsing artifacts details.

{code}
Artifact metadata is incomplete Error in resolving artifacts parent POM file. path-to-parent-pom-in-REPO No such file or directory
{code}

Steps to reproduce

 create a parent POM version   and deploy to releases repository REPO
 create a project POM version  SNAPSHOT-. that inherits from parent, build and deploy it to snapshots repository {colorred}REPO{color}
 browse the Web interface to locate the project artifact

From the above error message it appears that Archiva tries to locate the parent POM in the same repository where the artifact is located, which is not always the case. This problem is not observed in Archiva ...
",Bug
"Webdav upload sometimes not working My problem is really not with the WebDAV component of the WAGON, but my internet connection is unreliable sometimes. mvn releaseperform needs to upload huge number of file and frequently I am getting ""java.net.SocketException Connection reset"" in the middle of the process.
Besides timeout I would like to have retrycount adjustable for WebDAV. This would help life much less miserable.

Maybe it is already possible some how to setRetryCount, and I am just not informed. Can someone help me with this",Improvement
"Rewrite of archiva site  I try since a pair of days to help in the rewrite of archiva UI. 
But I think that its a bit hard to work in parallel on very few file also having network issue so...

I read somewhere that archiva site should be rewrite to match more the site httpcontinuum.apache.org.
Is this correct

Is there a plan at a ""apache"" level to have a consistent appearance of continuum archiva web site. Not webapp

I guess O.Lamy is trying to have some web toolbar for the archiva site.

Can it be possible to have that on maven, continuum, archiva with all this  sites having links to them.


Let me know if there is some interest.

Eric",Improvement
"Easier artifacts deletion Currently, to be able to delete an artifact, the user has to provide groupId, artifactId, version, etc.

It could be helpful to be able to delete a whole groupId and provide a delete button directly in the browsing view.",Improvement
"Apache project branding requirements DOAP file PATCH Attached.  Re httpwww.apache.orgfoundationmarkspmcs
See Also httpprojects.apache.orgcreate.html",Improvement
"Invalid Cron in a job leads jetty to not work anymore When entering an invalid cron expression and restarting archiva, it wont start anymore 

jvm     |      at org.eclipse.jetty.util.component.AbstractLifeCycle.startAbstractLifeCycle.java
jvm     |      at org.eclipse.jetty.xml.XmlConfiguration$.runXmlConfiguration.java
jvm     |      at java.security.AccessController.doPrivilegedNative Method
jvm     |      at org.eclipse.jetty.xml.XmlConfiguration.mainXmlConfiguration.java
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeUnknown Source
jvm     |      at sun.reflect.DelegatingMethodAccessorImpl.invokeUnknown Source
jvm     |      at java.lang.reflect.Method.invokeUnknown Source
jvm     |      at org.eclipse.jetty.start.Main.invokeMainMain.java
jvm     |      at org.eclipse.jetty.start.Main.startMain.java
jvm     |      at org.eclipse.jetty.start.Main.parseCommandLineMain.java
jvm     |      at org.eclipse.jetty.start.Main.mainMain.java
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeUnknown Source
jvm     |      at sun.reflect.DelegatingMethodAccessorImpl.invokeUnknown Source
jvm     |      at java.lang.reflect.Method.invokeUnknown Source
jvm     |      at org.tanukisoftware.wrapper.WrapperSimpleApp.runWrapperSimpleApp.java
jvm     |      at java.lang.Thread.runUnknown Source
jvm     | Caused by
jvm     | org.springframework.beans.factory.BeanCreationException Error creating bean with name repositoriesServicerest Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.scheduler.indexing.DownloadRemoteIndexScheduler org.apache.archiva.rest.services.DefaultRepositoriesService.downloadRemoteIndexScheduler; nested exception is org.springframework.beans.factory.BeanCrea
tionException Error creating bean with name downloadRemoteIndexSchedulerdefault Invocation of init method failed; nested exception is java.lang.IllegalArgumentException cron expression must consist of  fields found  in            
jvm     |      at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValuesAutowiredAnnotationBeanPostProcessor.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReferenceBeanDefinitionValueResolver.java
jvm     |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessaryBeanDefinitionValueResolver.java
jvm     |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedListBeanDefinitionValueResolver.java
jvm     |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessaryBeanDefinitionValueResolver.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValuesAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletonsDefaultListableBeanFactory.java
jvm     |      at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitializationAbstractApplicationContext.java
jvm     |      at org.springframework.context.support.AbstractApplicationContext.refreshAbstractApplicationContext.java
jvm     |      at org.springframework.web.context.ContextLoader.createWebApplicationContextContextLoader.java
jvm     |      at org.springframework.web.context.ContextLoader.initWebApplicationContextContextLoader.java
jvm     |      at org.springframework.web.context.ContextLoaderListener.contextInitializedContextLoaderListener.java
jvm     |      at org.eclipse.jetty.server.handler.ContextHandler.startContextContextHandler.java
jvm     |      at org.eclipse.jetty.servlet.ServletContextHandler.startContextServletContextHandler.java
jvm     |      at org.eclipse.jetty.webapp.WebAppContext.startContextWebAppContext.java
jvm     |      at org.eclipse.jetty.server.handler.ContextHandler.doStartContextHandler.java
jvm     |      at org.eclipse.jetty.webapp.WebAppContext.doStartWebAppContext.java
jvm     |      at org.eclipse.jetty.util.component.AbstractLifeCycle.startAbstractLifeCycle.java
jvm     |      at org.eclipse.jetty.deploy.WebAppDeployer.scanWebAppDeployer.java
jvm     |      at org.eclipse.jetty.deploy.WebAppDeployer.doStartWebAppDeployer.java
jvm     |      at org.eclipse.jetty.util.component.AbstractLifeCycle.startAbstractLifeCycle.java
jvm     |      at org.eclipse.jetty.util.component.AggregateLifeCycle.doStartAggregateLifeCycle.java
jvm     |      at org.eclipse.jetty.server.handler.AbstractHandler.doStartAbstractHandler.java
jvm     |      at org.eclipse.jetty.server.handler.HandlerWrapper.doStartHandlerWrapper.java
jvm     |      at org.eclipse.jetty.server.Server.doStartServer.java
jvm     |      at org.eclipse.jetty.util.component.AbstractLifeCycle.startAbstractLifeCycle.java
jvm     |      at org.eclipse.jetty.xml.XmlConfiguration$.runXmlConfiguration.java
jvm     |      at java.security.AccessController.doPrivilegedNative Method
jvm     |      at org.eclipse.jetty.xml.XmlConfiguration.mainXmlConfiguration.java
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeUnknown Source
jvm     |      at sun.reflect.DelegatingMethodAccessorImpl.invokeUnknown Source
jvm     |      at java.lang.reflect.Method.invokeUnknown Source
jvm     |      at org.eclipse.jetty.start.Main.invokeMainMain.java
jvm     |      at org.eclipse.jetty.start.Main.startMain.java
jvm     |      at org.eclipse.jetty.start.Main.parseCommandLineMain.java
jvm     |      at org.eclipse.jetty.start.Main.mainMain.java
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeUnknown Source
jvm     |      at sun.reflect.DelegatingMethodAccessorImpl.invokeUnknown Source
jvm     |      at java.lang.reflect.Method.invokeUnknown Source
jvm     |      at org.tanukisoftware.wrapper.WrapperSimpleApp.runWrapperSimpleApp.java
jvm     |      at java.lang.Thread.runUnknown Source
jvm     | Caused by
jvm     | org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.scheduler.indexing.DownloadRemoteIndexScheduler org.apache.archiva.rest.services.DefaultRepositoriesService.downloadRemoteIndexScheduler; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name downloadRemoteIndexSchedulerdefault Invocation of init method failed; nested exception is java.lang.IllegalArgumentException cron
 expression must consist of  fields found  in            
jvm     |      at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.injectAutowiredAnnotationBeanPostProcessor.java
jvm     |      at org.springframework.beans.factory.annotation.InjectionMetadata.injectInjectionMetadata.java
jvm     |      at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValuesAutowiredAnnotationBeanPostProcessor.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReferenceBeanDefinitionValueResolver.java
jvm     |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessaryBeanDefinitionValueResolver.java
jvm     |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedListBeanDefinitionValueResolver.java
jvm     |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessaryBeanDefinitionValueResolver.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValuesAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletonsDefaultListableBeanFactory.java
jvm     |      at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitializationAbstractApplicationContext.java
jvm     |      at org.springframework.context.support.AbstractApplicationContext.refreshAbstractApplicationContext.java
jvm     |      at org.springframework.web.context.ContextLoader.createWebApplicationContextContextLoader.java
jvm     |      at org.springframework.web.context.ContextLoader.initWebApplicationContextContextLoader.java
jvm     |      at org.springframework.web.context.ContextLoaderListener.contextInitializedContextLoaderListener.java
jvm     |      at org.eclipse.jetty.server.handler.ContextHandler.startContextContextHandler.java
jvm     |      at org.eclipse.jetty.servlet.ServletContextHandler.startContextServletContextHandler.java
jvm     |      at org.eclipse.jetty.webapp.WebAppContext.startContextWebAppContext.java
jvm     |      at org.eclipse.jetty.server.handler.ContextHandler.doStartContextHandler.java
jvm     |      at org.eclipse.jetty.webapp.WebAppContext.doStartWebAppContext.java
jvm     |      at org.eclipse.jetty.util.component.AbstractLifeCycle.startAbstractLifeCycle.java
jvm     |      at org.eclipse.jetty.deploy.WebAppDeployer.scanWebAppDeployer.java
jvm     |      at org.eclipse.jetty.deploy.WebAppDeployer.doStartWebAppDeployer.java
jvm     |      at org.eclipse.jetty.util.component.AbstractLifeCycle.startAbstractLifeCycle.java
jvm     |      at org.eclipse.jetty.util.component.AggregateLifeCycle.doStartAggregateLifeCycle.java
jvm     |      at org.eclipse.jetty.server.handler.AbstractHandler.doStartAbstractHandler.java
jvm     |      at org.eclipse.jetty.server.handler.HandlerWrapper.doStartHandlerWrapper.java
jvm     |      at org.eclipse.jetty.server.Server.doStartServer.java
jvm     |      at org.eclipse.jetty.util.component.AbstractLifeCycle.startAbstractLifeCycle.java
jvm     |      at org.eclipse.jetty.xml.XmlConfiguration$.runXmlConfiguration.java
jvm     |      at java.security.AccessController.doPrivilegedNative Method
jvm     |      at org.eclipse.jetty.xml.XmlConfiguration.mainXmlConfiguration.java
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeUnknown Source
jvm     |      at sun.reflect.DelegatingMethodAccessorImpl.invokeUnknown Source
jvm     |      at java.lang.reflect.Method.invokeUnknown Source
jvm     |      at org.eclipse.jetty.start.Main.invokeMainMain.java
jvm     |      at org.eclipse.jetty.start.Main.startMain.java
jvm     |      at org.eclipse.jetty.start.Main.parseCommandLineMain.java
jvm     |      at org.eclipse.jetty.start.Main.mainMain.java
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeUnknown Source
jvm     |      at sun.reflect.DelegatingMethodAccessorImpl.invokeUnknown Source
jvm     |      at java.lang.reflect.Method.invokeUnknown Source
jvm     |      at org.tanukisoftware.wrapper.WrapperSimpleApp.runWrapperSimpleApp.java
jvm     |      at java.lang.Thread.runUnknown Source
jvm     | Caused by
jvm     | org.springframework.beans.factory.BeanCreationException Error creating bean with name downloadRemoteIndexSchedulerdefault Invocation of init method failed; nested exception is java.lang.IllegalArgumentException cron expression must consist of  fields found  in            
jvm     |      at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitializationInitDestroyAnnotationBeanPostProcessor.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitializationAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidatesDefaultListableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependencyDefaultListableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependencyDefaultListableBeanFactory.java
jvm     |      at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.injectAutowiredAnnotationBeanPostProcessor.java
jvm     |      at org.springframework.beans.factory.annotation.InjectionMetadata.injectInjectionMetadata.java
jvm     |      at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValuesAutowiredAnnotationBeanPostProcessor.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReferenceBeanDefinitionValueResolver.java
jvm     |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessaryBeanDefinitionValueResolver.java
jvm     |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedListBeanDefinitionValueResolver.java
jvm     |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessaryBeanDefinitionValueResolver.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValuesAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletonsDefaultListableBeanFactory.java
jvm     |      at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitializationAbstractApplicationContext.java
jvm     |      at org.springframework.context.support.AbstractApplicationContext.refreshAbstractApplicationContext.java
jvm     |      at org.springframework.web.context.ContextLoader.createWebApplicationContextContextLoader.java
jvm     |      at org.springframework.web.context.ContextLoader.initWebApplicationContextContextLoader.java
jvm     |      at org.springframework.web.context.ContextLoaderListener.contextInitializedContextLoaderListener.java
jvm     |      at org.eclipse.jetty.server.handler.ContextHandler.startContextContextHandler.java
jvm     |      at org.eclipse.jetty.servlet.ServletContextHandler.startContextServletContextHandler.java
jvm     |      at org.eclipse.jetty.webapp.WebAppContext.startContextWebAppContext.java
jvm     |      at org.eclipse.jetty.server.handler.ContextHandler.doStartContextHandler.java
jvm     |      at org.eclipse.jetty.webapp.WebAppContext.doStartWebAppContext.java
jvm     |      at org.eclipse.jetty.util.component.AbstractLifeCycle.startAbstractLifeCycle.java
jvm     |      at org.eclipse.jetty.deploy.WebAppDeployer.scanWebAppDeployer.java
jvm     |      at org.eclipse.jetty.deploy.WebAppDeployer.doStartWebAppDeployer.java
jvm     |      at org.eclipse.jetty.util.component.AbstractLifeCycle.startAbstractLifeCycle.java
jvm     |      at org.eclipse.jetty.util.component.AggregateLifeCycle.doStartAggregateLifeCycle.java
jvm     |      at org.eclipse.jetty.server.handler.AbstractHandler.doStartAbstractHandler.java
jvm     |      at org.eclipse.jetty.server.handler.HandlerWrapper.doStartHandlerWrapper.java
jvm     |      at org.eclipse.jetty.server.Server.doStartServer.java
jvm     |      at org.eclipse.jetty.util.component.AbstractLifeCycle.startAbstractLifeCycle.java
jvm     |      at org.eclipse.jetty.xml.XmlConfiguration$.runXmlConfiguration.java
jvm     |      at java.security.AccessController.doPrivilegedNative Method
jvm     |      at org.eclipse.jetty.xml.XmlConfiguration.mainXmlConfiguration.java
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeUnknown Source
jvm     |      at sun.reflect.DelegatingMethodAccessorImpl.invokeUnknown Source
jvm     |      at java.lang.reflect.Method.invokeUnknown Source
jvm     |      at org.eclipse.jetty.start.Main.invokeMainMain.java
jvm     |      at org.eclipse.jetty.start.Main.startMain.java
jvm     |      at org.eclipse.jetty.start.Main.parseCommandLineMain.java
jvm     |      at org.eclipse.jetty.start.Main.mainMain.java
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeUnknown Source
jvm     |      at sun.reflect.DelegatingMethodAccessorImpl.invokeUnknown Source
jvm     |      at java.lang.reflect.Method.invokeUnknown Source
jvm     |      at org.tanukisoftware.wrapper.WrapperSimpleApp.runWrapperSimpleApp.java
jvm     |      at java.lang.Thread.runUnknown Source
jvm     | Caused by
jvm     | java.lang.IllegalArgumentException cron expression must consist of  fields found  in            
jvm     |      at org.springframework.scheduling.support.CronSequenceGenerator.parseCronSequenceGenerator.java
jvm     |      at org.springframework.scheduling.support.CronSequenceGenerator.initCronSequenceGenerator.java
jvm     |      at org.springframework.scheduling.support.CronTrigger.initCronTrigger.java
jvm     |      at org.springframework.scheduling.support.CronTrigger.initCronTrigger.java
jvm     |      at org.apache.archiva.scheduler.indexing.DefaultDownloadRemoteIndexScheduler.scheduleDownloadRemoteDefaultDownloadRemoteIndexScheduler.java
jvm     |      at org.apache.archiva.scheduler.indexing.DefaultDownloadRemoteIndexScheduler.startupDefaultDownloadRemoteIndexScheduler.java
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeUnknown Source
jvm     |      at sun.reflect.DelegatingMethodAccessorImpl.invokeUnknown Source
jvm     |      at java.lang.reflect.Method.invokeUnknown Source
jvm     |      at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invokeInitDestroyAnnotationBeanPostProcessor.java
jvm     |      at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethodsInitDestroyAnnotationBeanPostProcessor.java
jvm     |      at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitializationInitDestroyAnnotationBeanPostProcessor.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitializationAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidatesDefaultListableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependencyDefaultListableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependencyDefaultListableBeanFactory.java
jvm     |      at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.injectAutowiredAnnotationBeanPostProcessor.java
jvm     |      at org.springframework.beans.factory.annotation.InjectionMetadata.injectInjectionMetadata.java
jvm     |      at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValuesAutowiredAnnotationBeanPostProcessor.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReferenceBeanDefinitionValueResolver.java
jvm     |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessaryBeanDefinitionValueResolver.java
jvm     |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedListBeanDefinitionValueResolver.java
jvm     |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessaryBeanDefinitionValueResolver.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValuesAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
jvm     |      at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletonsDefaultListableBeanFactory.java
jvm     |      at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitializationAbstractApplicationContext.java
jvm     |      at org.springframework.context.support.AbstractApplicationContext.refreshAbstractApplicationContext.java
jvm     |      at org.springframework.web.context.ContextLoader.createWebApplicationContextContextLoader.java
jvm     |      at org.springframework.web.context.ContextLoader.initWebApplicationContextContextLoader.java
jvm     |      at org.springframework.web.context.ContextLoaderListener.contextInitializedContextLoaderListener.java
jvm     |      at org.eclipse.jetty.server.handler.ContextHandler.startContextContextHandler.java
jvm     |      at org.eclipse.jetty.servlet.ServletContextHandler.startContextServletContextHandler.java
jvm     |      at org.eclipse.jetty.webapp.WebAppContext.startContextWebAppContext.java
jvm     |      at org.eclipse.jetty.server.handler.ContextHandler.doStartContextHandler.java
jvm     |      at org.eclipse.jetty.webapp.WebAppContext.doStartWebAppContext.java
jvm     |      at org.eclipse.jetty.util.component.AbstractLifeCycle.startAbstractLifeCycle.java
jvm     |      at org.eclipse.jetty.deploy.WebAppDeployer.scanWebAppDeployer.java
jvm     |      at org.eclipse.jetty.deploy.WebAppDeployer.doStartWebAppDeployer.java
jvm     |      at org.eclipse.jetty.util.component.AbstractLifeCycle.startAbstractLifeCycle.java
jvm     |      at org.eclipse.jetty.util.component.AggregateLifeCycle.doStartAggregateLifeCycle.java
jvm     |      at org.eclipse.jetty.server.handler.AbstractHandler.doStartAbstractHandler.java
jvm     |      at org.eclipse.jetty.server.handler.HandlerWrapper.doStartHandlerWrapper.java
jvm     |      at org.eclipse.jetty.server.Server.doStartServer.java
jvm     |      at org.eclipse.jetty.util.component.AbstractLifeCycle.startAbstractLifeCycle.java
jvm     |      at org.eclipse.jetty.xml.XmlConfiguration$.runXmlConfiguration.java
jvm     |      at java.security.AccessController.doPrivilegedNative Method
jvm     |      at org.eclipse.jetty.xml.XmlConfiguration.mainXmlConfiguration.java
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeUnknown Source
jvm     |      at sun.reflect.DelegatingMethodAccessorImpl.invokeUnknown Source
jvm     |      at java.lang.reflect.Method.invokeUnknown Source
jvm     |      at org.eclipse.jetty.start.Main.invokeMainMain.java
jvm     |      at org.eclipse.jetty.start.Main.startMain.java
jvm     |      at org.eclipse.jetty.start.Main.parseCommandLineMain.java
jvm     |      at org.eclipse.jetty.start.Main.mainMain.java
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeUnknown Source
jvm     |      at sun.reflect.DelegatingMethodAccessorImpl.invokeUnknown Source
jvm     |      at java.lang.reflect.Method.invokeUnknown Source
jvm     |      at org.tanukisoftware.wrapper.WrapperSimpleApp.runWrapperSimpleApp.java
jvm     |      at java.lang.Thread.runUnknown Source
jvm     | -- .INFOStarted SelectChannelConnector@... STARTING

When trying to go to localhostarchiva it says 
HTTP ERROR 
Problem accessing archiva. Reason 

    Service Unavailable


--------------------------------------------------------------------------------
Powered by Jetty ",Bug
"Import metadata for artifact in batch mode For the moment, its not possible to import metadata in batch mode. There isone rest service to add metadata one by one. The patch included add the possibility to add multiple metadatas. 
",Improvement
"Adding a Snapshot Managed Repository results in Releases being checked too. Every time I add a new snapshot managed repository, save it and return to the ""Repositories"" page, and then refresh the page, I see that my snapshot repository has a sun symbol listed under Releases.

I was able to repeat this process  times.

Afterward, I was able to edit the snapshot managed repository and disable Releases.  This could potentially confuse someone if he or she navigates to another page thinking that everything went as expected.",Bug
"Add a consumer which can push informations to a ci server The goal is to say to the ci server a new SNAPSHOT of those artifacts is available.
will be an Artifact list in json or xml must an option.
Per repo 
Other configurations options
 ci url to post jsonxml
 usernamepassword for BASIC authz to use.",New_Feature
"Archiva should set cache control headers instead of adding for maven-metadata.xml Looks like there might be an issue with how cache control header is added. This should use setHeader instead of an addHeader to protect against adding duplicate headers.

  private void setHeaders DavServletResponse response, DavResourceLocator locator, DavResource resource 
    {
         MRM- - Metadata file need Pragmano-cache response
         header.
        if  locator.getResourcePath.endsWith ""maven-metadata.xml""  
        {
            response.addHeader ""Pragma"", ""no-cache"" ;
            response.addHeader ""Cache-Control"", ""no-cache"" ;
        }

         We need to specify this so connecting wagons can work correctly
        response.addDateHeader ""last-modified"", resource.getModificationTime ;

         TODO MRM- determine http caching options for other types of files artifacts, sha, md, snapshots
    }

See below for a sample result with duplicate header.  Cache control header with public was added through servlet filter but then another cache control header got added.  Expected result should be that it should overwrite the exiting header

 HTTP.  OK
 Cache-Control public, max-age, s-maxage  Pragma no-cache  Cache-Control no-cache  Last-Modified Thu,  Jul   GMT  Content-Length   Vary Accept-Encoding  Connection close  Content-Type applicationxml;charsetUTF-
",Bug
"java.lang.ArrayIndexOutOfBoundsException from parsing maven-metadata.xml ArrayIndexOutOfBoundsException is thrown when parsing some maven-metadata.xml files.  Please see the attached sample maven-metadata.xml and the proposed patch to fix the problem.


-- , WARN 
org.apache.archiva.repository.metadata.MetadataTools Unable to read metadata
homeyvaryarchivadatarepositoriespublicyahooyinstlistings_reconciliation_framework
listings-reconciliation-frameworkmaven-metadata-dist.xml
org.apache.archiva.repository.metadata.RepositoryMetadataException Unable to
parse metadata xml
filehomeyvaryarchivadatarepositoriespublicyahooyinstlistings_reconciliation_frameworklisting
s-reconciliation-frameworkmaven-metadata-dist.xml null Nested exception null
        at
org.apache.archiva.repository.metadata.RepositoryMetadataReader.readRepositoryMetadataReader.java
        at
org.apache.archiva.repository.metadata.MetadataTools.readProxyMetadataMetadataTools.java
        at
org.apache.archiva.repository.metadata.MetadataTools.getMetadatasForManagedRepositoryMetadataTools.java
        at
org.apache.archiva.repository.metadata.MetadataTools.updateMetadataMetadataTools.java
        at


Caused by org.apache.archiva.xml.XMLException Unable to parse metadata xml
filehomeyvaryarchivadatarepositoriespublicyahooyinstlistings_reconciliation_frameworklistings-reconciliation-frameworkmaven-metadata-dist.xml
null Nested exception null
        at org.apache.archiva.xml.XMLReader.initXMLReader.java
        at org.apache.archiva.xml.XMLReader.initXMLReader.java
        at
org.apache.archiva.repository.metadata.RepositoryMetadataReader.readRepositoryMetadataReader.java
        ...  more
Caused by org.domj.DocumentException null Nested exception null
        at org.domj.io.SAXReader.readSAXReader.java
        at org.domj.io.SAXReader.readSAXReader.java
        at org.apache.archiva.xml.XMLReader.initXMLReader.java
        ...  more

",Bug
"Upload Artifact section doesnt clear uploaded artifacts . Log in as Admin
. Click on Upload Artifact over on the left-hand navigation section.
. Select a repository to where you wish to upload an artifact.
. Enter in the specifics, Choose an artifact to upload, check ""pomFile"" if you have one, and then click on ""Start Upload"".
Pausing here, I have a quick complaint, what are the check boxes next to ""Delete Upload"" for  I assume its for doing a mass delete or some other action on multiple uploaded artifacts, but the interface isnt intuitive enough at this point.
. Click on ""Save Files"".  Your artifact will get uploaded.
. Repeat steps  - .

Since the first uploaded artifact is still listed, youll get an error message stating ""Overwriting released artifacts in repository snapshots is not allowed.""  I also got this message for the internal repository as well.  Anyway, I tried checking the check box next to the ""Delete Upload"" button to apply the save command explicitly to the nd artifact.  Same error message again.  Then, I tried checking the check box next to the ""Delete Upload"" button underneath ""Generate Maven POM"".  Same error message again.

In order for the st artifact to get cleared from the page, I have to navigate to another page or refresh the page.  Once that occurs, I can upload my nd artifact.",Bug
"Delete artifact by groupIdartifactIdversionId in context when authenticated w Admin privileges... Ive consistently wished that as Im managing my process, restructuring projects, releasing artifacts, andor making our artifact naming more consistent, that I could just browse to the artifact that is obsolete and delete the desired artifact at the any level in the browsing structure including by groupId, artifactId or versionId, or even at the SNAPSHOT level without having to switch to a blank form that is out of context.

It would greatly simplify the management of the repository.  ",Improvement
"Remove a managed repository does not remove it from groups I created a managed repo, then I created a group in which I included the managed repo.
Then I decided to remove the repository.
When I switch back to the Administration of Repository Group, I still see the managed repo as part of the group.

 ",Bug
"Project-level metadata not deleted after artifact removal Im using the default configuration of Archiva for the repositories internal and snapshots.
When I delete a release artifact using the web interface, I can still browse to it but the download box is empty.
When I delete a snapshot artifact using the web interface, I can still browse to it but the download box is still here with the download links. If I click the one of the link, I get an ""unavailable resource"" error.",Bug
Please provide some UI element which shows degraded andor badly connected remote repository It would be helpful to users to be able to see from the adminrepositories.action if a particular remote repository is in a bad state.,Improvement
"search on artifacts with OSGI Metadatas fields Ability to search on some OSGI metadatas symbolic-name, version, export-packages.
See improvmenents in maven-indexer MINDEXER-
Need an update of maven-indexer .",New_Feature
"CSRF checks are not working properly and cause operations to fail It seems the upgrade of Struts caused a problem with the token check.

I tried to grant the guest user ""manager"" permission on a repository, and it always fails a CSRF check, where it does not on ...

I also tried to remove a permission from a repository and had the same problem. I had not visited other Archiva pages in the mean time.

All pages using token may need to be reviewed.",Bug
"Fix sample on how to use ldap in applicationContext.xml applicationContext.xml file in webapp module is not anymore correct regarding sample on how to use ldap.
its a reminder as since removing of plexus it has not been updated.",Bug
"Perm-Gen space exception on MAC using the wrapper When I launch archiva using the wrapper on my Mac I get a perm gen space exception very quickly.
And of course the server does not respond anymore.
",Bug
"Invalid reference result HTTP  for cssno-themejquery-ui-...theme.css Some pages reference  resource {code}cssno-themejquery-ui-...theme.css{code} for example httplocalhostarchivabrowsejunitjunit.. -- I verify that appsarchivacssno-themejquery.ui-...theme.css does exist though, so this appears to be a $baseurl kind of thing.",Improvement
"Not able to run Archiva in AIX Hello,
I am unable to run Archiva on AIX box. I am getting the following error.

bash-. .binarchiva console
Unable to locate any of the following binaries
  usrapache-archiva-..bin.wrapper-aix-ppc-
  usrapache-archiva-..bin.wrapper-aix-ppc-
  usrapache-archiva-..bin.wrapper

System info is given below
$ uname -a
AIX MSCAIX   BCAD

$ getconf -a | grep KERN
KERNEL_BITMODE   

Related issue i found is httpjira.codehaus.orgbrowseMRM-focusedCommentIdcomment-. That was for Solaris.

regards
krishna",Bug
"Error  when naughtily exploring webapp directory hierarchy While trying to diagnose MRM- I started exploring the directory structure of the archiva webapp, from the browser, and triggered

{code}jvm     | -- .WARN  archivacssno-theme
jvm     | java.lang.RuntimeException org.apache.jasper.JasperException Method public java.util.List org.apache.struts.components.Form.getValidatorsjava.lang.String threw an exception when invoked on org.apache.struts.components.Form@abab - Class freemarker.ext.beans.SimpleMethodModel
jvm     | File SimpleMethodModel.java
jvm     | Method exec
jvm     | Line  - freemarkerextbeansSimpleMethodModel.java-
jvm     |      at com.opensymphony.sitemesh.webapp.decorator.BaseWebAppDecorator.renderBaseWebAppDecorator.java
jvm     |      at com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilterSiteMeshFilter.java
jvm     |      at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
jvm     |      at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
jvm     |      at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
jvm     |      at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternalCharacterEncodingFilter.java
jvm     |      at org.springframework.web.filter.OncePerRequestFilter.doFilterOncePerRequestFilter.java
jvm     |      at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
jvm     |      at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
jvm     |      at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
jvm     |      at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
jvm     |      at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
jvm     |      at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
jvm     |      at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
jvm     |      at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
jvm     |      at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
jvm     |      at org.mortbay.jetty.Server.handleServer.java
jvm     |      at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
jvm     |      at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
jvm     |      at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
jvm     |      at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
jvm     |      at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
jvm     |      at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
jvm     |      at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java
{code}",Bug
"configure http connection pool values for wagon http to setup resources  maxTotal maxPerroute.

",Improvement
web browser does not display different classifiers the browse item in the Archiva web GUI does not show me the different classifiers for a given artifact. So I cannot see nor download a given _grouparticfactclassifiertype_.,Improvement
"missing classifier field in the delete artifact web page We add artifacts with the same groupidversion and different classifier.
The web GUI for deleting artifact does not propose to enter the qualifier, or I would like to remove one artifact for a given qualifier not all the artifacts with any qualifiers.
Can you add an extra field for the qualifier, that may be optional if you do not want to break current use case.",Bug
"Managed Repositories  Show Snippet ought to include a pluginRepositories section With Maven  laying down the law wrt repositories vs pluginRepositories, it would be nice if the example snippet would also include a section for pluginRepositories as well as repositories.",Improvement
"add some initial memory setup in wrapper.conf the current generated wrapper.conf doesnt have initial memory settings.
mx and ms to m",Improvement
"Make version number in delete artifact accept a regexp In the web interface you have the possibility to delete an artifact by entering Group Id, Artifact Id, Version and Repository Id.
In several occasions I have had the need to delete several versions of an artifact due to continuous building.

It would have been easier to accept a regexp for the version number to delete several versions.
Also if several version is to bee deleted, a list of versions found and an approval to perform the delete should come up. 	
",Improvement
"Artifact data incomplete Hi folks,

I have a strange error using the .-M or .-M  when browsing an artifact using a parent with snapshot version.

Artifact metadata is incomplete Error in resolving artifacts parent POM file.
complexpathparent-.-SNAPSHOT.pom No such file or directory

This folder exists but contains only timestamped pom and the metadata. The metadata show a valid build number.

Is it fine to have snapshot parent  should I use a non-snapshot one

I try to post first to users archiva mailing list before registration sorry.

Best regards
Eric
",Bug
"Provide DEB installation packages Please provide RPM and DEB installation packages. This would increase installation rates, and make it generally easier for our users to deploy.",Improvement
Longer descriptions of artefacts overlap the Downloads box Multiline descriptions inside an artifact pom.xml are displayed in the browser at the same height as the Downloads box. The lines are wrapped in the middle of the Downloads box. This makes it very hard to read and to click on the download links inside the Downloads box.,Bug
"Add the possibility to schedule retrieve remote indexes when application startup When Starting Archiva, it would be nice to retreive all remote indexes that are checked to be used for remote repository before activating the automatic retreive actions.
Idealy a parameter would be nice to all download on startup.",New_Feature
"Artifact metadata is incomplete, opposite case to MRM- I am experiencing the opposite situation compare to MRM-

 repos
release_repo
sansphot_repo

while browsing the SNAPSHOT version of the artifact that is uploaded to the sanpshot_repo where its parent pom is a release version that located at the release_repo

I got the following error on the GUI

Artifact metadata is incomplete Error in resolving artifacts parent POM file. appsmavensnapshot_repoorgkpwpputilsparentpom..parentpom-...pom No such file or directory",Bug
add rest method to delete artifact. a rest call to delete an artifact in a repository.,Improvement
"use wagon-http instead of wagon-http-lightweight as it change proxy network system properties wagon-http-lightweight modify System properties regarding using proxy. 
So it causes thread concurrency issue when parallel request using proxy connector without proxy.",Improvement
"Error  when uploading an artifact in web interface Unable to upload an artifact in windows. Getting

Error in web

HTTP ERROR 

Problem accessing archivaupload!doUpload.action. Reason

    String index out of range -
Caused by

java.lang.StringIndexOutOfBoundsException String index out of range -
	at java.lang.String.substringUnknown Source
	at org.apache.archiva.web.action.UploadAction.doUploadUploadAction.java
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeUnknown Source
	at sun.reflect.DelegatingMethodAccessorImpl.invokeUnknown Source
	at java.lang.reflect.Method.invokeUnknown Source
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java

Error in UT..


Tests in error
  downloadWithRemoteRedirectorg.apache.archiva.DownloadArtifactsTest File httplocalhostrepositoryinternaljunitjunit.junit-..jar, ReasonPhraseNot a
 valid request path layout, too short..
  testArtifactUploadWithPomSuccessfulorg.apache.archiva.web.action.UploadActionTest String index out of range -
  testArtifactUploadWithClassifierorg.apache.archiva.web.action.UploadActionTest String index out of range -
  testArtifactUploadGeneratePomSuccessfulorg.apache.archiva.web.action.UploadActionTest String index out of range -
  testArtifactUploadNoPomSuccessfulorg.apache.archiva.web.action.UploadActionTest String index out of range -
  testArtifactUploadSnapshotsorg.apache.archiva.web.action.UploadActionTest String index out of range -
  testChecksumIsCorrectWhenArtifactIsReUploadedorg.apache.archiva.web.action.UploadActionTest String index out of range -
  testUploadArtifactAlreadyExistingRedeploymentsBlockedorg.apache.archiva.web.action.UploadActionTest String index out of range -
  testUploadArtifactAlreadyExistingRedeploymentsAllowedorg.apache.archiva.web.action.UploadActionTest String index out of range -

Tests run , Failures , Errors , Skipped ",Bug
"deprecated configuration warning for default install Default .-M package, no customization, binarchiva wrapper yields
 
jvm     | -- .WARN  Deprecated configuration used for .apps
",Improvement
"Clustering of Archiva instances We must think about a way to clustering Archiva instances
 artifacts replication between nodes for managed repos
 jcr repository distribution
 maybe etc... -",New_Feature
"scanner failed with trying to scan maven indexes Logs 
{code}
valid artifact path in a Maven  repository, not enough directories .indexernexus-maven-repository-index.zip
java.lang.IllegalArgumentException Not a valid artifact path in a Maven  repository, not enough directories .indexernexus-maven-repository-index.zip
	at org.apache.archiva.metadata.repository.storage.maven.MavenRepositoryPathTranslator.getArtifactForPathMavenRepositoryPathTranslator.java
	at org.apache.archiva.metadata.repository.storage.maven.MavenRepositoryStorage.readArtifactMetadataFromPathMavenRepositoryStorage.java
	at org.apache.archiva.consumers.metadata.ArchivaMetadataCreationConsumer.processFileArchivaMetadataCreationConsumer.java
	at org.apache.archiva.consumers.metadata.ArchivaMetadataCreationConsumer.processFileArchivaMetadataCreationConsumer.java
	at org.apache.archiva.repository.scanner.functors.ConsumerProcessFileClosure.executeConsumerProcessFileClosure.java
	at org.apache.commons.collections.functors.IfClosure.executeIfClosure.java
	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	at org.apache.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStepRepositoryScannerInstance.java
	at org.codehaus.plexus.util.DirectoryWalker.fireStepDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirectoryWalker.java
	at org.apache.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutor.executeTaskArchivaRepositoryScanningTaskExecutor.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
	at java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
	at java.util.concurrent.FutureTask$Sync.innerRunFutureTask.java
	at java.util.concurrent.FutureTask.runFutureTask.java
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTaskThreadPoolExecutor.java
	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
	at java.lang.Thread.runThread.java
{code}",Improvement
"validation doesnt work for Windows users on path of add managed repository page Windows paths typically have  in them for the drive letter, but this is no longer accepted as valid in the location field of the repository.

This applies to other settings such as "" "" as well, we should only exclude those that are a problem for XSS.",Bug
"repository statistics time has blown out again This may be the cause of the failures  hangs Ive been seeing. In my local environment

{code}
-- , pool--thread- INFO  org.apache.archiva.metadata.repository.stats.DefaultRepositoryStatisticsManager  - Gathering statistics executed in ms
{code}

For repo

{code}
. Scan of internal .__________________________________________
  Repository Dir     UsersbrettLibraryApplication SupportArchivadatarepositoriesinternal
  Repository Name    Archiva Managed Internal Repository
  Repository Layout  default
  Known Consumers     configured
                      create-missing-checksums
                      auto-remove
                      auto-rename
                      repository-purge Total ms; Avg. ; Count 
                      index-content Total ms; Avg. ; Count 
                      create-archiva-metadata
                      duplicate-artifacts Total ms; Avg. ; Count 
  Invalid Consumers  none
  Duration            Minutes  Seconds  Milliseconds
  When Gathered        AM
  Total File Count   
  Avg Time Per File   Milliseconds
______________________________________________________________
{code}

This was a longer scan than usual, typically  -  minutes, but the statistics scans have been mins then too.

Also worth noting that the purge seems to be triggering each time but not affecting those files.

Ill look into both.",Bug
"downloading optionnaly remote index to display remote artifacts in search results if a managed repo has remote repos, artifacts are available but not display in a search result.
 configure an optionnel remote index url
 running this download in a configurable schedule",New_Feature
"Please provide RPM installation packages Please provide RPM and DEB installation packages. This would increase installation rates, and make it generally easier for our users to deploy.",Improvement
"Deploy failed in Glassfish. and Tomcat I got this error during my first deployment of archiva
Application deployed with name archiva. WARNING Command _deploy did not complete successfully on server instance st_demo remote failure Failed to load the application on instance st_demo. The application will not run properly. Please fix your application and redeploy. Exception while loading the app  java.lang.IllegalStateException ContainerBase.addChild start org.apache.catalina.LifecycleException org.springframework.beans.factory.BeanDefinitionStoreException Invalid bean definition with name jcr-config defined in URL filehomeyhjhooziparchivaappsarchivaWEB-INFclassesMETA-INFspring-context.xml Could not resolve placeholder appserver.base. Please see server.log for more details.",Bug
move to a struts theme based on bootstrap css and jquery so the name of this new struts theme will be jqboot jquerybootstrap - ,New_Feature
"Add a new module for repository administration management Currently most part of the logic regarding repositories administration is done in webapp part and duplicate in xmlrpc.
As we are adding some rest services, in order to avoid an other duplication, the logic will be moved in a new module archiva-repository-admin",Improvement
"Cannot authentify myself when in search page When accessing the search page from the following URL.
httplocalhostarchivaarchivafilteredSearch.actionsearchFieldversion&fromFilterSearchtrue&repositoryIdtalend-update-user&groupIdorg.talend&version..

I have the following exception when clicking on the top-right hyperlink to identify myself.

{code} 
HTTP ERROR 

Problem accessing archivasecuritylogin.action. Reason

    Failed referrer security check Request did not come from the same server. Detected HTTP Referer header is httplocalhostarchivaarchivafilteredSearch.actionsearchFieldversion&fromFilterSearchtrue&repositoryIdtalend-update-user&groupIdorg.talend&version...
Caused by

java.lang.RuntimeException Failed referrer security check Request did not come from the same server. Detected HTTP Referer header is httplocalhostarchivaarchivafilteredSearch.actionsearchFieldversion&fromFilterSearchtrue&repositoryIdtalend-update-user&groupIdorg.talend&version...
	at org.codehaus.plexus.redback.struts.interceptor.SecureActionInterceptor.executeReferrerSecurityCheckSecureActionInterceptor.java
	at org.codehaus.plexus.redback.struts.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.EnvironmentCheckInterceptor.interceptEnvironmentCheckInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	at org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ConversionErrorInterceptor.interceptConversionErrorInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.doInterceptParametersInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.doInterceptParametersInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
{code}",Bug
"Add a getArtifactLastVersion method to the SearchService REST service A useful method that is missing in the SearchService is a method which returns the last version of an artifact and which would have this signature 
{code}
Artifact getArtifactLastVersionString groupId, String artifactId, String packaging;
{code}
A workaround can be done but its not clean since the last version information is managed by Archiva in the maven-metadata.xml files.",Improvement
"download artifacts from remote repository create  connection for every artifacts as we use maven wagon to download artifacts from remote repos,  connection are not reused.
maybe improvment with WAGON-",Improvement
"missing dependency on velocity - ClassNotFoundException org.apache.velocity.tools.view.ToolboxManager Testing out builds.apache.orgviewA-FviewArchivajobarchiva-all-maven-.x-jdk-.org.apache.archiva$archiva-jetty to rule out MRM- validated, yaay! and hit a problem with CNFE for org.apache.velocity.tools.view.ToolboxManager.",Bug
"version sort order in search page is not working fine Searching for artifacts using the default-search will sort them using a dictionary sort order, 
e.g. ., ., ., ., .
In this case . will not be the newest entry. 

Maybe a different sort-algorithm than a plain dictionary sort order could be used But the problem is, that version-numbers can also contain characters. 

This bug was found in Archiva .., but i couldnt find any hint in this jira and the changelog. ",Bug
"Wrong URL returned by SearchService.getArtifactVersions {codetitleArchivaRestTest.java|borderStylesolid}
import java.util.List;

import org.apache.archiva.rest.api.model.Artifact;
import org.apache.archiva.rest.api.services.SearchService;
import org.apache.cxf.jaxrs.client.JAXRSClientFactory;
import org.apache.cxf.jaxrs.client.WebClient;
import org.apache.logj.BasicConfigurator;
import org.apache.logj.Logger;
import org.junit.Test;

public class ArchivaRestTest
{
	private final Logger logger  Logger.getLoggerArchivaRestTest.class;
	
	@Test
	public void test throws Exception
	{
		BasicConfigurator.configure;
		
		logger.debug""test"";
		
		String authzHeader  ""Basic ""  org.apache.cxf.common.util.BaseUtility.encode""adminadmin"".getBytes;
		SearchService searchService  JAXRSClientFactory.create""httplocalhostarchivarestServicesarchivaServices"",SearchService.class;
		WebClient.clientsearchService.header""Authorization"",authzHeader;
		WebClient.getConfigsearchService.getHttpConduit.getClient.setReceiveTimeout;
		
		ListArtifact artifacts  searchService.getArtifactVersions""org.apache.maven.reporting"",""maven-reporting-api"",""jar"";
		
		ifartifacts ! null
		{
			logger.debug""artifacts ! null"";
			
			forArtifact artifact  artifacts
			{
				logger.debug""artifact""artifact;
			}
		}
		else
		{
			logger.debug""artifacts  null"";
		}
	}
}
{code}

produces the following output 

{noformat} 
 main DEBUG ArchivaRestTest  - test
 main DEBUG ArchivaRestTest  - artifacts ! null
 main DEBUG ArchivaRestTest  - artifactArtifact{contextinternal, urlhttplocalhostarchivarepositoryinternalorgapachemavenreportingmaven-reporting-api.maven-reporting-api-..jar, groupIdorg.apache.maven.reporting, artifactIdmaven-reporting-api, repositoryIdinternal, version, prefixnull, goalsnull, bundleVersionnull, bundleSymbolicNamenull, bundleExportPackagenull, bundleExportServicenull, bundleDescriptionnull, bundleNamenull, bundleLicensenull, bundleDocUrlnull, bundleImportPackagenull, bundleRequireBundlenull, classifiernull, packagingjar, fileExtensionjar}
 main DEBUG ArchivaRestTest  - artifactArtifact{contextinternal, urlhttplocalhostarchivarepositoryinternalorgapachemavenreportingmaven-reporting-api.maven-reporting-api-..jar, groupIdorg.apache.maven.reporting, artifactIdmaven-reporting-api, repositoryIdinternal, version.., prefixnull, goalsnull, bundleVersionnull, bundleSymbolicNamenull, bundleExportPackagenull, bundleExportServicenull, bundleDescriptionnull, bundleNamenull, bundleLicensenull, bundleDocUrlnull, bundleImportPackagenull, bundleRequireBundlenull, classifiernull, packagingjar, fileExtensionjar}
 main DEBUG ArchivaRestTest  - artifactArtifact{contextinternal, urlhttplocalhostarchivarepositoryinternalorgapachemavenreportingmaven-reporting-api.maven-reporting-api-..jar, groupIdorg.apache.maven.reporting, artifactIdmaven-reporting-api, repositoryIdinternal, version.., prefixnull, goalsnull, bundleVersionnull, bundleSymbolicNamenull, bundleExportPackagenull, bundleExportServicenull, bundleDescriptionnull, bundleNamenull, bundleLicensenull, bundleDocUrlnull, bundleImportPackagenull, bundleRequireBundlenull, classifiernull, packagingjar, fileExtensionjar}
{noformat}

If you look at the last two artifacts, the URL doesnt match the version, the URL seems to be the same for all artifacts in the returned list.",Bug
"Unit tests derby.log file should be located in the target folder In order to be removed by a mvn clean, the derby.log files generated during unit tests should be located in the target folder.",Improvement
"configure a java.io.tmpdir in .temp for jetty distrib the current distrib write files in java.io.tmpdir ehcache files, on unix this directory is shared for all uid.
So currently you cannot start  archiva instances with different uid in the same unix instance.
create a .temp directory in the jetty distrib and configure java.io.tmpdir to use it.",Improvement
"Left Nav links are disabled on ""User Management"", ""User Roles"", and ""Appearance"" pages with Internet Explorer Steps to replicate
. Login as an Administrator.
. Click on the User Management link on the left nav. 
. After the page loads, click on any of the left nav links.

Actual Result in IE
 all links are disabled

Actual Result in IE
 User Management, User Roles and Appearance links are disabled

Expected Result
 Links should not be disabled and should work when clicked.

Tested this in IE and it works fine.",Bug
"artifact display doesnt show eventual classifiers Using the artifact display info ui  httplocalhostarchivabrowseorg.foobar-foo.
If there are some artifacts with classifier there are not displayed in the UI.",Improvement
"NTLM proxy no longer works After upgrading Archiva from .. to .-M NTLM proxy no longer works. This is most likely caused by switching to wagon http.

-- , qtp- DEBUG org.apache.archiva.proxy.common.DebugTransferListener  - transferInitiated for resource orgcodehausplexusplexus-utils.plexus-utils-..pom on repository url httprepo.maven.orgmaven
-- , qtp- DEBUG org.apache.http.wire  -  ""GET httprepo.maven.orgmavenorgcodehausplexusplexus-utils.plexus-utils-..pom HTTP.rn""
-- , qtp- DEBUG org.apache.http.wire  -  ""Cache-control no-cachern""
-- , qtp- DEBUG org.apache.http.wire  -  ""Cache-store no-storern""
-- , qtp- DEBUG org.apache.http.wire  -  ""Pragma no-cachern""
-- , qtp- DEBUG org.apache.http.wire  -  ""Expires rn""
-- , qtp- DEBUG org.apache.http.wire  -  ""Accept-Encoding gziprn""
-- , qtp- DEBUG org.apache.http.wire  -  ""Host repo.maven.orgrn""
-- , qtp- DEBUG org.apache.http.wire  -  ""Proxy-Connection Keep-Alivern""
-- , qtp- DEBUG org.apache.http.wire  -  ""rn""
-- , qtp- DEBUG org.apache.http.headers  -  GET httprepo.maven.orgmavenorgcodehausplexusplexus-utils.plexus-utils-..pom HTTP.
-- , qtp- DEBUG org.apache.http.headers  -  Cache-control no-cache
-- , qtp- DEBUG org.apache.http.headers  -  Cache-store no-store
-- , qtp- DEBUG org.apache.http.headers  -  Pragma no-cache
-- , qtp- DEBUG org.apache.http.headers  -  Expires 
-- , qtp- DEBUG org.apache.http.headers  -  Accept-Encoding gzip
-- , qtp- DEBUG org.apache.http.headers  -  Host repo.maven.org
-- , qtp- DEBUG org.apache.http.headers  -  Proxy-Connection Keep-Alive
-- , qtp- DEBUG org.apache.http.wire  -  ""HTTP.  Proxy Authentication Requiredrn""
-- , qtp- DEBUG org.apache.http.wire  -  ""Proxy-Authenticate NTLMrn""
-- , qtp- DEBUG org.apache.http.wire  -  ""Proxy-Authenticate BASIC realm""Auth_Seq_NTLM_to_ldap""rn""
-- , qtp- DEBUG org.apache.http.wire  -  ""Cache-Control no-cachern""
-- , qtp- DEBUG org.apache.http.wire  -  ""Pragma no-cachern""
-- , qtp- DEBUG org.apache.http.wire  -  ""Content-Type texthtml; charsetutf-rn""
-- , qtp- DEBUG org.apache.http.wire  -  ""Proxy-Connection closern""
-- , qtp- DEBUG org.apache.http.wire  -  ""Set-Cookie BCSI-CS-DDBAACE; Pathrn""
-- , qtp- DEBUG org.apache.http.wire  -  ""Connection closern""
-- , qtp- DEBUG org.apache.http.wire  -  ""Content-Length rn""
-- , qtp- DEBUG org.apache.http.wire  -  ""rn""
-- , qtp- DEBUG org.apache.http.headers  -  HTTP.  Proxy Authentication Required
-- , qtp- DEBUG org.apache.http.headers  -  Proxy-Authenticate NTLM
-- , qtp- DEBUG org.apache.http.headers  -  Proxy-Authenticate BASIC realm""Auth_Seq_NTLM_to_ldap""
-- , qtp- DEBUG org.apache.http.headers  -  Cache-Control no-cache
-- , qtp- DEBUG org.apache.http.headers  -  Pragma no-cache
-- , qtp- DEBUG org.apache.http.headers  -  Content-Type texthtml; charsetutf-
-- , qtp- DEBUG org.apache.http.headers  -  Proxy-Connection close
-- , qtp- DEBUG org.apache.http.headers  -  Set-Cookie BCSI-CS-DDBAACE; Path
-- , qtp- DEBUG org.apache.http.headers  -  Connection close
-- , qtp- DEBUG org.apache.http.headers  -  Content-Length 
-- , qtp- ERROR org.apache.http.client.protocol.RequestProxyAuthentication  - Proxy authentication error Credentials cannot be used for NTLM authentication org.apache.http.auth.UsernamePasswordCredentials
-- , qtp- DEBUG org.apache.http.wire  -  ""GET httprepo.maven.orgmavenorgcodehausplexusplexus-utils.plexus-utils-..pom HTTP.rn""
-- , qtp- DEBUG org.apache.http.wire  -  ""Cache-control no-cachern""
-- , qtp- DEBUG org.apache.http.wire  -  ""Cache-store no-storern""
-- , qtp- DEBUG org.apache.http.wire  -  ""Pragma no-cachern""
-- , qtp- DEBUG org.apache.http.wire  -  ""Expires rn""
-- , qtp- DEBUG org.apache.http.wire  -  ""Accept-Encoding gziprn""
-- , qtp- DEBUG org.apache.http.wire  -  ""Host repo.maven.orgrn""
-- , qtp- DEBUG org.apache.http.wire  -  ""Proxy-Connection Keep-Alivern""
-- , qtp- DEBUG org.apache.http.wire  -  ""Cookie BCSI-CS-DDBAACErn""
-- , qtp- DEBUG org.apache.http.wire  -  ""rn""
",Bug
"Update to Archiva as OSGi compliant application In addition of the OBR support, Archiva itself should be OSGi compliant.
It means that most of Archiva modules should be OSGi bundles.",Improvement
"add administrator guide for migrating from Sonatype Nexus to Apache Archiva It would be nice to have some documentation about how an administrator can migrate from an existing Sonatype Nexus installation to Apache Archiva. This may be very easy, I have no idea - I just have about  Gb of artifacts already managed by Nexus that I would like to move into Archiva ...

Combine this with MRM- and MRM- and I think we will have a dramatic improvement in installation and switch over rates.",Improvement
"integrated  Feed Item Query LanguageFIQL to search rest services  CXF propose a nice feature httpcxf.apache.orgdocsjax-rs-advanced-features.htmlJAX-RSAdvancedFeatures-FIQLsearchqueries .
So could be nice to integrate that in REST Search Service.",New_Feature
"ProxyConfiguration enhancements According to brett, these are the need improvements
 - make repoCache a member of the ProxyManager, which will remove ArtifactRepositoryFactory
 - browsable should be a configuration of the webapp
 - remove field storage for the layout and use plexus to lookup valid values
 - loadMavenProxyConfiguration should be in a separate reader class
",Improvement
"Make the registerUser and registerAdminUser pages share the same form The  pages look different, but have the same elements. Use @include  for the form elements.",Improvement
"ability to update an existing index without relying on timestamp due to the possibility that timestamps can get out of sync, it should be possible to update an index without relying on these in a performant way ie, not rebuilding from scratch.

for example, compare the artifact timestamp to the target location before deciding if an additionupdate is needed and reading the JAR possibly the slowest part of indexing - should confirm what  it takes

this will also need to process deletions which may not be handled in the normal indexing, depending on how that is implemented for discovery
",Improvement
"broken extensions on security pages causes some servlet containers to freak out I think these are all incorrect - please change cimport to @include and the xwork results to jsp. jspf is just a convention for fragments of a JSP used in @include.

srcmainwebappWEB-INFclassesxwork-security.xml     These configurations point to the overlaid jspf files.
srcmainwebappWEB-INFclassesxwork-security.xml      resultWEB-INFjspsecurityadminsystemInformation.jspfresult
srcmainwebappWEB-INFclassesxwork-security.xml      resultWEB-INFjspsecurityadminconsole.jspfresult
srcmainwebappWEB-INFclassesxwork-security.xml      result name""input""WEB-INFjsppssincludeassignments.jspfresult
srcmainwebappWEB-INFclassesxwork-security.xml      result name""error""WEB-INFjsppssincludeerror.jspfresult
srcmainwebappWEB-INFclassesxwork-security.xml      result name""success""WEB-INFjsppssincludeassignments.jspfresult
srcmainwebappWEB-INFclassesxwork-security.xml      result name""success""WEB-INFjsppssincludegrantRoles.jspfresult
srcmainwebappWEB-INFclassesxwork-security.xml      result name""success""WEB-INFjsppssincluderemoveRoles.jspfresult
srcmainwebappWEB-INFjspadmincreateAdmin.jspcimport url""WEB-INFjsppssincludeformValidationResults.jspf"" 
srcmainwebappWEB-INFjspadmincreateAdmin.jsp  cimport url""WEB-INFjsppssincludeuserCredentials.jspf"" 
srcmainwebappWEB-INFjspdecoratorsdefault.jsp    cimport url""WEB-INFjsppssincludesecurityLinks.jspf"" 
srcmainwebappWEB-INFjsppssaccount.jspcimport url""WEB-INFjsppssincludeformValidationResults.jspf"" 
srcmainwebappWEB-INFjsppssaccount.jsp  cimport url""WEB-INFjsppssincludeuserCredentials.jspf"" 
srcmainwebappWEB-INFjsppssadminoperationList.jspcimport url""WEB-INFjsppssincluderbacListNavigation.jspf"" 
srcmainwebappWEB-INFjsppssadminoperationList.jspcimport url""WEB-INFjsppssincludeformValidationResults.jspf"" 
srcmainwebappWEB-INFjsppssadminpermissionList.jspcimport url""WEB-INFjsppssincluderbacListNavigation.jspf"" 
srcmainwebappWEB-INFjsppssadminpermissionList.jspcimport url""WEB-INFjsppssincludeformValidationResults.jspf"" 
srcmainwebappWEB-INFjsppssadminresourceList.jspcimport url""WEB-INFjsppssincluderbacListNavigation.jspf"" 
srcmainwebappWEB-INFjsppssadminresourceList.jspcimport url""WEB-INFjsppssincludeformValidationResults.jspf"" 
srcmainwebappWEB-INFjsppssadminroleCreate.jspcimport url""WEB-INFjsppssincludeformValidationResults.jspf"" 
srcmainwebappWEB-INFjsppssadminroleList.jspcimport url""WEB-INFjsppssincluderbacListNavigation.jspf"" 
srcmainwebappWEB-INFjsppssadminroleList.jspcimport url""WEB-INFjsppssincludeformValidationResults.jspf"" 
srcmainwebappWEB-INFjsppssadminuserCreate.jspcimport url""WEB-INFjsppssincludeformValidationResults.jspf"" 
srcmainwebappWEB-INFjsppssadminuserCreate.jsp  cimport url""WEB-INFjsppssincludeuserCredentials.jspf"" 
srcmainwebappWEB-INFjsppssadminuserEdit.jspcimport url""WEB-INFjsppssincludeformValidationResults.jspf"" 
srcmainwebappWEB-INFjsppssadminuserEdit.jsp  cimport url""WEB-INFjsppssincludeuserCredentials.jspf"" 
srcmainwebappWEB-INFjsppssadminuserList.jspcimport url""WEB-INFjsppssincludeformValidationResults.jspf"" 
srcmainwebappWEB-INFjsppsslogin.jspcimport url""WEB-INFjsppssincludeformValidationResults.jspf"" 
srcmainwebappWEB-INFjsppssregister.jspcimport url""WEB-INFjsppssincludeformValidationResults.jspf"" 
srcmainwebappWEB-INFjsppssregister.jsp  cimport url""WEB-INFjsppssincludeuserCredentials.jspf"" 
",Bug
"provide way of zipping the repository index for remote distribution for use in the IDEs, it would be nice to have the index for the remote repository readily available for download. the attached path solves that by always creating a zip file after the index is updated and placing it into the repository in .index folder. That way the IDE can easily check the location only with the knowledge of the repository url.
",New_Feature
"improve error reporting on corrupt jars, poms, etc currently, many failures can be detected during indexing but none are reported anywhere other than the logs. Either these need to be sent through the regular reporting mechanism, or the regular reporting mechanism needs to be able to come back later and pick up the same issues.",Improvement
"add Last-Modified header in proxy response When used as a maven proxy, Archiva doesnt send Last-modified header. This cause maven .-beta to fail due to a bug in Wagon. The wagon bug is corrected in SVN but there is no corrected maven . distribution available yet. 
Setting a Last-Modifier header in proxy response can solve this issue. I dont know webwork enough to add support for this.",Improvement
"track repositry manager base url in the metadata of a managed repository repository.manager.url  httplocalhost for requesting the index
repository.manager.id  releases

This is needed in the metadata at the root of the repo, so that when a pom configures a repository httplocalhostreleases, the tools can recognise where it comes from",New_Feature
Make the artifact discoverers use the artifact utils The parsing of an artifact path both for m and m have been extracted into the MRM-utils module and the discovery should use this instead.,Improvement
"add support for javadoc bundles and maven plugins in LegacyDiscoverer path for ""mavenpluginsmaven-test-plugin-..jar"" or ""javax.sqljavadoc.jarsjdbc-.-javadoc.jar"" are not converted to Artifact by LegacyArtifactDiscoverer.

The attached patch includes testcase for such path and some enhancements to LegacyArtifactDiscoverer to parse them as expected.",Improvement
"identify skins and adjust type in index accordingly like we identify archetypes, attempt to identify skins and index them accordingly.

It may be beneficial to introduce a proper packaging type for this in Maven itself.

While it is not entirely deterministic as a skin is simply a set of files laid onto the site, the existence of one of cssmaven-base.css and site.vm would be a reliable predictor.",Improvement
"ProxyManager enhancements As brett pointed out, the DefaultProxyManager needs some refactoring especially on these points

- remove cache period
- get ignores the return of getRemoteFile
- make the proxy check for the checksum and metadata files first, before parsing the path for an artifact
- getArtifactFile should use artifact.setFile and not return the file anymore.
- temp should be setup to deleteOnExit
- rename copyTempToTarget to moveTempToTarget
- rename preparerelease checksums to preparerelease ChecksumListeners
- use FileUtils.read when applicable",Improvement
"prevent potential out of memory problems in large search results currently, it is possible to search and return all the records, which would probably cause a problem.

We should limit the number of results returned beyond what is useful, or at least lazily initialise those after the first few pages.Ã",Improvement
"make discovery only discover new artifacts currently every artifact is discovered every time. A technique that facilitates only finding new artifacts is needed.

Note gotchas
- different operations will run at different times, so there cant be a single repository discovery timestamp. For example, indexing might check based on the last time the index was updated
- some operations are not atomic eg indexing may not complete, but the index is newer than some artifacts created afterwards, and artifacts created between discovery and indexing will fall through the cracks

Id suggest narrowing down the times to some atomic operations eg, updating index for all new artifacts, where index is only written at the end, and tracking the timestamp based on the conclusion of discovery, not the operation, then recording those timestamps in a metadata file in the root of the repository.",Bug
"Creation of MetadataReposiotryIndex fails if provided index directory exists, but works if the directory does not exists Here is  the stacktrace

org.apache.maven.repository.indexing.RepositoryIndexException Cdevindex is not a valid index directory.
	at org.apache.maven.repository.indexing.AbstractRepositoryIndex.indexExistsAbstractRepositoryIndex.java
	at org.apache.maven.repository.indexing.MetadataRepositoryIndex.deleteIfIndexedMetadataRepositoryIndex.java
	at org.apache.maven.repository.indexing.MetadataRepositoryIndex.indexMetadataMetadataRepositoryIndex.java
	at org.apache.maven.repository.indexing.MetadataRepositoryIndex.indexMetadataRepositoryIndex.java
 ...

the directory exists, if you will pass the path that does not exists, all works fine.",Bug
"web service interface this needs a new jira component.

We need a comprehensive web services interface to the application. Like RSS, it should be a new view on the same actions. The more we can derive that from the repository-core interfaces, the better.
This should include administration and security.

",New_Feature
"DigestUtils fails to verify checksum from ibiblio Downloading servletapi-.pom fails.

DigestUtils.cleanChecksum check for filename in remote checksum file to be same as local, but tets is inverted 

                String filename  m.group  ;
                if  !path.endsWith filename  
                {
                    throw new DigesterException ""Supplied checksum does not match checksum pattern"" ;
                }

filename  ""homeprojectsmavenrepository-stagingto-ibibliomavenservletapiservletapi.servletapi-..pom""
path  ""servletapi-..pom"".


Patch provided to test if  !path.endsWith filename  ",Bug
"parralellise index creation for a large index creation - first time on a large repo, it could be much more efficient by having multiple processing threads for different sections of the repository",Improvement
Use cacheFailure configuration in remote repositories Currently a todo in the source code,New_Feature
"project builder cache needs to be configurable to prevent memory leaking need to investigate if there is a memory leak, since the server received an OOME some time after successfully completing a full index with Gb heap with just some browsingsearching. It is most likely in the indexing itself, but there may be some in the browsesearch interface too",Bug
"LegacyArtifactDiscoverer doesn""t handle ""javadoc.jars"" type ""javadoc.jars"" type is used in maven repo for javadoc bundles. It is not commonly used, but support for it has recently be added to eclipse plugin, and it can be usefull for non-redistribuable artifacts that have private sources.

",Improvement
"revise logging granularity in particular, check that JPOX logging is at the correct level, but generally turn the noise down.",Improvement
"should not respond with a  if proxying a file results in a remote error if any repository returns success, return success
otherwise, if any repository returns in error, return a generic error , saying to check the logs.
",Bug
login fails I am unable to successfully log in with the users created either by standard registration or the admin user created.,Bug
Indenting the artifact information on the dependenciesdependend-on-by pages Attached is a CSSHTML patch to improve the look of the dependency pages.,Improvement
"re-introduce index of developers and dependencies it will be useful to identify which projects a developer are associated with, and the dependency index will be needed to do the depended-on page on the browse artifact page",Improvement
support multiple repository proxy and artifact cache   expose the ProxyManager as an action for requesting artifacts,New_Feature
"incorrect validation on register page I noticed the following problems
- validation is not done with javascript
- only username & full name validation work.
- if I omit email, I get a successful registration, and and error that email is required
- if I omit confirm password, I get a successful registration
- if I use an incorrect confirm password, I get a successful registration
- if I reuse an email already in the system, I think I should get a failed registration
",Bug
"refactor and review indexing and search the indexing that is currently in place doesnt seem to be working well.
- creating the metadata index erases all artifacts
- the ms count for the initial index seems shorter than it takes
- design improvements needed

for search
- general search simply iterates all fields looking for keywords, which probably doesnt rank optimally
- search fails on ""maven"" as it tries to load a metadata file that contains it incorrectly. It shouldnt need to read the metadata files of the search results.
- general search doesnt appear to search metadata
- design improvements needed
",Bug
"logging misconfiguration it seems since switching to the new plexus-xwork integration that the logging is not correct or complete perhaps just that it is initialised later than some things need to log, going by the warning that appears on startup.",Bug
"Codehaus Snapshots Repository missing in POM The Codehaus Snapshots Repository is missing from the root POM. As a result, the build fails to locate certain Plexus artifacts. 
",Bug
"automatically index proxied artifacts currently the proxied artifacts will only be indexed when the indexer is next run.

We should automatically index them, but some care needs to be taken
- make sure the indexer is thread safe and wont regularly fail with a failed lock
- find the best way to hook this up by design need to separate proxied artifacts from proxied files as this is internal to the proxy code, and dont want the indexer into the proxy code but rather in the core.",Improvement
"scheduler issues the current scheduler has some issues
- it allows a task already in progress to run again the ability to allowprevent this should be configurable on a task by task basis - it should be either execute double up anyway, wait execute when the last finished, or skip just wait until next scheduled
- it appears that the task scheduler is swallowing runtime exceptions
- shutdown often throws exceptions because of the way the tasks seem to be shutdowndestroyed after the scheduler itself",Bug
"discovery might not find artifacts added as a result of rsync currently, the ""last discovered"" timestamp for an operation is set to the current time. There are two problems with that
- artifacts added in the last minute are not discovered, and because of this setting never will be
- artifacts added with timestamps in the past eg, using rsync will never be discovered.

For the first, the time recorded can simply be set in the past.

However, for the second another alternative needs to be found whether it be querying the target to check if it already exists or not rather than a single timestamp, or some other solution",Bug
"Updates to MRM-Utils Digester to support incremental hashcodeschecksums In order to support a more robust checksum routine needed for automatic jar discovery operations in MRM and MPIR, a set of new functions to allow for incremental digester calculations have been created.

These routines are in use by MNG- to produce a bytecode checksum needed for a more accurate way to identify unknown artifacts.

",Improvement
detect jarsartifacts that contain only pom.xml and pom.properties and consider them as empty these should be treated as invalid uploads,Improvement
"paginate results reports page, search results, dependencies",Improvement
"archiva hangs on repository.maven.org after running for some time, Archiva hangs.",Bug
"add user management and basic security this issue just needs the ability to create and manage users and groups, log in, and restrict access to the administration interface. Further operations may add the need for more security later on.",New_Feature
"add RSS view to repository manager possibly needs a new component in JIRA. Items that could have RSS
- a particular search
- preset for ""latest added"" artifacts
- preset for ""new versions"" of artifacts
- preset for ""new artifacts from a given sync partner""",New_Feature
complete the proxy interface the current proxy interface is not well integrated and the tests are failing. Complete this integration.,New_Feature
"Lucene test sometime fail on Windows When building archiva, I sometime get Failures on some Lucene tests 
   java.io.IOException Directory Dopensourcesarchivaarchiva-indexertargettest-index unable to be deleted.

This exception is throwed by commons-io FileUtils.deleteDirectory.

According to httpwww.gossamer-threads.comlistslucenejava-user, some file handler opened by Lucene may stay opened and must wait for GC to be closed. Maybe this is an Lucene issue handler may be closed explicitly, not just waiting for GC to do the job ",Bug
"Archiva-plexus-runtime doesnt run Without changing any of the configuration files, I get the log included belog. Fiddling with the database configuration doesnt really help at all. Running jettyrun in archiva-webapp gives a java.lang.NoSuchMethodError org.codehaus.plexus.DefaultPlexusContainer.initLjavalangString;LjavalangClassLoader;LjavaioReader;LjavautilMap;V

Using PLEXUS_HOME   homewilfredworkspacemaven-repository-managerarchiva-plexus-runtimetargetarchiva
Using PLEXUS_CONF   homewilfredworkspacemaven-repository-managerarchiva-plexus-runtimetargetarchivaconf
Using PLEXUS_TMPDIR homewilfredworkspacemaven-repository-managerarchiva-plexus-runtimetargetarchivatemp
Using JAVA_HOME     usrjavajdk.._
INFO Services will be deployed in homewilfredworkspacemaven-repository-managerarchiva-plexus-runtimetargetarchivaservices.
INFO Applications will be deployed in homewilfredworkspacemaven-repository-managerarchiva-plexus-runtimetargetarchivaapps.
INFO Service Supervisor is deploying plexus-appserver-service-jetty-.-alpha--SNAPSHOT.
INFO Loading on start role,roleHint org.codehaus.plexus.appserver.service.PlexusService,jetty
Sep ,   PM org.mortbay.http.HttpServer doStart
INFO Version Jetty..
Sep ,   PM org.mortbay.util.Container start
INFO Started org.mortbay.jetty.Server@dff
INFO Application Supervisor is deploying archiva-plexus-application-.-SNAPSHOT.
INFO Extracting homewilfredworkspacemaven-repository-managerarchiva-plexus-runtimetargetarchivaappsarchiva-plexus-application-.-SNAPSHOT.jar to homewilfredworkspacemaven-repository-managerarchiva-plexus-runtimetargetarchivaappsarchiva.
INFO Deploying application archiva at homewilfredworkspacemaven-repository-managerarchiva-plexus-runtimetargetarchivaappsarchiva.
INFO Using application configurator file homewilfredworkspacemaven-repository-managerarchiva-plexus-runtimetargetarchivaappsarchivaconfapplication.xml.
INFO Using appDir  homewilfredworkspacemaven-repository-managerarchiva-plexus-runtimetargetarchivaappsarchiva
INFO Deploying homewilfredworkspacemaven-repository-managerarchiva-plexus-runtimetargetarchivaappsarchivawebapp with context path of 
INFO Using standard webapp classloader for webapp.
INFO Deploying appserver archiva.
INFO Adding HTTP listener on 
Sep ,   PM org.mortbay.http.SocketListener start
INFO Started SocketListener on ...
INFO Starting Jetty Context 
Sep ,   PM org.mortbay.util.FileResource clinit
INFO Checking Resource aliases
Sep ,   PM org.mortbay.util.Container start
INFO Started org.mortbay.jetty.servlet.WebApplicationHandler@f
Sep ,   PM org.mortbay.jetty.servlet.ServletHandler$Context log
INFO Loading plexus context properties from WEB-INFplexus.properties
Sep ,   PM org.mortbay.jetty.servlet.ServletHandler$Context log
INFO Could not load plexus context properties from WEB-INFplexus.properties
-- , main INFO  PlexusContainer                - Loading on start role org.apache.maven.archiva.scheduler.RepositoryTaskScheduler
-- , main INFO  RAMJobStore                    - RAMJobStore initialized.
-- , main INFO  StdSchedulerFactory            - Quartz scheduler defaultScheduler initialized from an externally provided properties instance.
-- , main INFO  StdSchedulerFactory            - Quartz scheduler version ..
-- , main INFO  QuartzScheduler                - Scheduler defaultScheduler_$_NON_CLUSTERED started.
-- , main WARN  ConfigurationStore             - Configuration file homewilfred.marchiva.xml not found. Using defaults.
-- , main INFO  RepositoryTaskScheduler        - Not scheduling indexer - index path is not configured
-- , main INFO  PlexusContainer                - Loading on start role org.apache.maven.archiva.web.ArchivaSecurityDefaults
Sep ,   PM org.mortbay.jetty.servlet.ServletHandler$Context log
INFO  FATAL ERROR STARTING UP PLEXUS-WEBWORK INTEGRATION 
Looks like the Plexus listener was not configured for your web app!
You need to add the following to web.xml

    listener
        listener-classorg.codehaus.plexus.xwork.PlexusLifecycleListenerlistener-class
    listener
ERROR Error while deploying appserver archiva-plexus-application-.-SNAPSHOT.jar.
org.codehaus.plexus.appserver.ApplicationServerException Error in the app server lifecycle post-app-container-init-service-call phase.
        at org.codehaus.plexus.appserver.application.deploy.DefaultApplicationDeployer.deployJarDefaultApplicationDeployer.java
        at org.codehaus.plexus.appserver.application.deploy.DefaultApplicationDeployer.deployDefaultApplicationDeployer.java
        at org.codehaus.plexus.appserver.lifecycle.phase.ApplicationDeploymentPhase$.onJarDiscoveredApplicationDeploymentPhase.java
        at org.codehaus.plexus.appserver.supervisor.DefaultSupervisor.scanDirectoryDefaultSupervisor.java
        at org.codehaus.plexus.appserver.supervisor.DefaultSupervisor.scanDefaultSupervisor.java
        at org.codehaus.plexus.appserver.lifecycle.phase.ApplicationDeploymentPhase.executeApplicationDeploymentPhase.java
        at org.codehaus.plexus.appserver.DefaultApplicationServer.startDefaultApplicationServer.java
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.StartPhase.executeStartPhase.java
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.startAbstractLifecycleHandler.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycleAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstanceAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponentClassicSingletonComponentManager.java
        at org.codehaus.plexus.DefaultComponentLookupManager.lookupDefaultComponentLookupManager.java
        at org.codehaus.plexus.DefaultPlexusContainer.lookupDefaultPlexusContainer.java
        at org.codehaus.plexus.appserver.PlexusApplicationHost.startPlexusApplicationHost.java
        at org.codehaus.plexus.appserver.PlexusApplicationHost.mainPlexusApplicationHost.java
        at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
        at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
        at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
        at java.lang.reflect.Method.invokeMethod.java
        at org.codehaus.classworlds.Launcher.launchEnhancedLauncher.java
        at org.codehaus.classworlds.Launcher.launchLauncher.java
        at org.codehaus.classworlds.Launcher.mainWithExitCodeLauncher.java
        at org.codehaus.classworlds.Launcher.mainLauncher.java
Caused by org.codehaus.plexus.appserver.application.deploy.lifecycle.AppDeploymentException Error calling service in pre-app init phase.
        at org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.AfterAppStartServiceSetupPhase.executeAfterAppStartServiceSetupPhase.java
        at org.codehaus.plexus.appserver.application.deploy.DefaultApplicationDeployer.deployJarDefaultApplicationDeployer.java
        ...  more
Caused by org.codehaus.plexus.jetty.ServletContainerException Error while starting the context 
        at org.codehaus.plexus.jetty.AbstractJettyServletContainer.startApplicationAbstractJettyServletContainer.java
        at org.codehaus.plexus.service.jetty.JettyPlexusService.afterApplicationStartJettyPlexusService.java
        at org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.AfterAppStartServiceSetupPhase.executeAfterAppStartServiceSetupPhase.java
        ...  more
Caused by org.jpox.exceptions.ConnectionFactoryNotFoundException Connection Factory ""javacompenvjdbcusers"" not found
NestedThrowables
javax.naming.NameNotFoundException
        at org.jpox.AbstractPersistenceManagerFactory.lookupDataSourceAbstractPersistenceManagerFactory.java
        at org.jpox.AbstractPersistenceManagerFactory.freezeConfigurationAbstractPersistenceManagerFactory.java
        at org.jpox.PersistenceManagerFactoryImpl.getPersistenceManagerFactoryPersistenceManagerFactoryImpl.java
        at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
        at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
        at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
        at java.lang.reflect.Method.invokeMethod.java
        at javax.jdo.JDOHelper.getPersistenceManagerFactoryJDOHelper.java
        at javax.jdo.JDOHelper.getPersistenceManagerFactoryJDOHelper.java
        at org.codehaus.plexus.jdo.AbstractConfigurableJdoFactory.doConfigureAbstractConfigurableJdoFactory.java
        at org.codehaus.plexus.jdo.AbstractConfigurableJdoFactory.configureAbstractConfigurableJdoFactory.java
        at org.codehaus.plexus.jdo.AbstractConfigurableJdoFactory.getPersistenceManagerFactoryAbstractConfigurableJdoFactory.java
        at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.initializeJdoTool.java
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializePhase.executeInitializePhase.java
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.startAbstractLifecycleHandler.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycleAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstanceAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponentClassicSingletonComponentManager.java
        at org.codehaus.plexus.DefaultComponentLookupManager.lookupDefaultComponentLookupManager.java
        at org.codehaus.plexus.DefaultPlexusContainer.lookupDefaultPlexusContainer.java
        at org.codehaus.plexus.component.composition.CompositionUtils.findRequirementCompositionUtils.java
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementToFieldFieldComponentComposer.java
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementFieldComponentComposer.java
        at org.codehaus.plexus.component.composition.AbstractComponentComposer.assembleComponentAbstractComponentComposer.java
        at org.codehaus.plexus.component.composition.DefaultComponentComposerManager.assembleComponentDefaultComponentComposerManager.java
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.CompositionPhase.executeCompositionPhase.java
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.startAbstractLifecycleHandler.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycleAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstanceAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponentClassicSingletonComponentManager.java
        at org.codehaus.plexus.DefaultComponentLookupManager.lookupDefaultComponentLookupManager.java
        at org.codehaus.plexus.DefaultPlexusContainer.lookupDefaultPlexusContainer.java
        at org.codehaus.plexus.component.composition.CompositionUtils.findRequirementCompositionUtils.java
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementToFieldFieldComponentComposer.java
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementFieldComponentComposer.java
        at org.codehaus.plexus.component.composition.AbstractComponentComposer.assembleComponentAbstractComponentComposer.java
        at org.codehaus.plexus.component.composition.DefaultComponentComposerManager.assembleComponentDefaultComponentComposerManager.java
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.CompositionPhase.executeCompositionPhase.java
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.startAbstractLifecycleHandler.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycleAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstanceAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponentClassicSingletonComponentManager.java
        at org.codehaus.plexus.DefaultComponentLookupManager.lookupDefaultComponentLookupManager.java
        at org.codehaus.plexus.DefaultPlexusContainer.lookupDefaultPlexusContainer.java
        at org.codehaus.plexus.container.initialization.StartLoadOnStartComponentsPhase.executeStartLoadOnStartComponentsPhase.java
        at org.codehaus.plexus.DefaultPlexusContainer.initializePhasesDefaultPlexusContainer.java
        at org.codehaus.plexus.DefaultPlexusContainer.initializeDefaultPlexusContainer.java
        at org.codehaus.plexus.DefaultPlexusContainer.initDefaultPlexusContainer.java
        at org.codehaus.plexus.DefaultPlexusContainer.initDefaultPlexusContainer.java
        at org.codehaus.plexus.xwork.PlexusLifecycleListener.contextInitializedPlexusLifecycleListener.java
        at org.mortbay.jetty.servlet.WebApplicationContext.doStartWebApplicationContext.java
        at org.mortbay.util.Container.startContainer.java
        at org.codehaus.plexus.jetty.AbstractJettyServletContainer.startApplicationAbstractJettyServletContainer.java
        ...  more
Caused by javax.naming.NameNotFoundException
        at org.mortbay.jndi.NamingContext.lookupNamingContext.java
        at org.mortbay.jndi.NamingContext.lookupNamingContext.java
        at org.mortbay.jndi.local.localContext.lookuplocalContext.java
        at javax.naming.InitialContext.lookupInitialContext.java
        at org.jpox.AbstractPersistenceManagerFactory.lookupDataSourceAbstractPersistenceManagerFactory.java
        ...  more
INFO The appserver server has been initialized.
INFO The appserver server has started.
",Bug
"wrong incomplete models returned from search Ive started using the trunk of maven repository indexer in the maven support for netbeans.
my usecases involve querying what groupIdsartifactId are available for a given prefix for code completion in pom.xml

 consider this usecase
. need to get the list of plugin groupIds. artifact repository is not enough as its not able to query for packaging correctly. - use pom repository index.
. feed the repository index with pom models. Need to load the models with MavenProjectBuilder because otherwise the groupId is not declared for most poms unfortunately as its declared in the parent pom usually
. ERROR. when retrieving the hits based on a query that checks the groupIds, the actual result hits model is created using only Model reader. thus mostly returning null in groupId field.

patch involves creating a super class for defaultindexsearcher and providing  implementations based on what approach was chosen when populating the repository index.
",Bug
investigate using compass for the indexing api httpwww.opensymphony.comcompass,Improvement
"Create a report on available plugins The report for plugins should include

- description
- download location
- last release date
- developers
- contributors
- issues outstanding

The are not all things that can be taken from the repository but is a report that would be useful to see what the actual state of a particular plugin is.",New_Feature
"Create a report on available Archetypes The report for archetypesshould include

- description
- download location
- last release date
- developers
- contributors
- issues outstanding

The are not all things that can be taken from the repository but is a report that would be useful to see what the actual state of a particular archetype is.",New_Feature
improve proxy logging currently it doesnt give a good indication of progress or what the results are,Improvement
"if there are multiple proxy repos, and no default, or an incorrect id is given,  length results are returned if you request proxypathtoartifact with not default, or proxyinvalid_repopathtoartifact, you get a  length result",Bug
"improve performance of the browse interface currently the browser reads the entire index to be able to present some pages. It should be able to just read the terms, and some of this information should be cached",Improvement
"add a report on artifacts that have external repositoriesplugin repositories in them this may have certain constraints - eg, we report on release repo if it has any snapshot repos, etc.",New_Feature
"Add support for serving JARDiff-ed Maven artifacts It would save bandwith, accelerate artifact downloading and enhance the maven  experience to use the same JARDiff algorithm as the one used in the JnlpDownloadServlet which is fully documented here
httpjava.sun.comjse..docsguidejavawsdevelopersguidedownloadservletguide.html

The idea is to download or upload the incremental updates to a JAR instead of the full JAR.

There is already support for this algorithm in the maven community in the JNLP related Maven Webstart Plugin
httpmojo.codehaus.orgwebstart-maven-plugin-parentwebstart-maven-plugin

For this to work, JARDiff support must be added at least to the MRM Server and to the MRM Wagon, but the best would be to add JARDiff support to all maven wagons as a standard way of downloading and uploading artifacts.

Cheers
",Improvement
"Getting Started page for the site Attached is a patch to provide a Getting Started page for Archiva. It covers building from SVN, using the Plexus runtime and deploying to Tomcat. ",Improvement
"When proxy is used by mavenartifact are stored in managed repo using legacy layout. When Archiva downloads a maven artifact, lets say servletapi-. the artifact is stored using legacy layout maven path. When a maven client asks for it, the artifact is downloaded a second time and stored using maven layout.
This may produce lots of duplicates in the managed repo.

request for ""proxyxxxservletapijarsservletapi-..jar""
- servletapiservletapi.servletapi-..jar.sha
- servletapijarsservletapi-..jar

request for ""proxyxxxservletapiservletapi.servletapi-..jar ""
- servletapiservletapi.servletapi-..jar 

",Bug
"flush the index periodically during rebuild currently, the indexing can take some time when it is done from scratch on a large repository, and requires a large amount of memory. It would be good to periodically checkpoint the index with a set of artifacts already completed.

How this affects the timestamp used needs to be interpreted, as if the indexing is stopped it may want to avoid reindexing those already done. Perhaps an alternative is to sort the discovered artifacts by timestamp, and setting it to the most recent one done - this can be considered in conjunction with the current issue that synced artifacts sometimes are new but have a timestamp older than the last indexing time and so are not indexed.",Improvement
"better handling of jar artifacts without a pom when indexing jar artifacts, the name and description plus other fields are read from the artifacts pom file. When indexing local repository I figured that some artifacts dont have pom files. Specifically the archetype artifacts see ARCHETYPE-, there might be otehr cases.

So it would be nice to consult the pom file in the actual artifact if pom not present. its stored at META-INFmaven if I recall correctly
",Bug
Create a group relocator tool Migrating old group names to new ones is painful. We need a tool that copies the artifacts and poms renaming the group from the old one to the new one and then adds relocation info to the old pom,New_Feature
"improve search results page currently, the search results are very plain. We should
- provide more information about the artifact
- provide more information about the relevance of the result
- provide information about how the search hit occurred what field
- paginate the results",Improvement
"when used as a maven proxy, Archiva should handle relocation from maven poms When a maven client asks for servletapijarsservletapi-..jar, Archiva converts path to the maven location of this artifact. As maven has no relocation support, the jar is required in the repo. 
Archiva can be more that a proxy  download the artifact POM, read relocation infos, and return the relocated jar.

attached Patch add a new ""applyRelocation"" to DefaultProxyManager.
Ive tried this code with the servletapi example, but it may be bad designed as I just discovered maven  archiva APIs.",Improvement
"adjustments to role granting pages - roles already assigned appear in grant area, they should be omitted
- likewise, roles that are children of assigned roles should be omitted from grant and assigned
- when role additionremoval is complete, return to the user page, not the user list page",Bug
"ProxyManagerFactory is not needed ""It shouldnt be modifying the configuration from a parameter when the configuration is also a parameter - just set it in the original configuration. The caller can lookup the proxy manager directly and configure it."" - brett",Improvement
improve appearance of schedule entry fields would be nice not to have to enter cron expressions or at least provide an alternative,Improvement
"additional index fields this patch from MRM- includes additional fields in the index records. However, it is not completely wired up yet, and it is debatable whether these belong in the minimal index at all. Filing here for further follow up. Submitted by Joakim Erdfelt.",Improvement
"ability to have multiple reports currently the reports are all aggregated into one representation and execution. It should be possible to have separate groups, with just the health ones tied to the indexing and the others run on demand.",New_Feature
"browse interface should accept URL paths currently browsing the repository uses inconvenient URLs
- browse.action
- browseGroup.actiongroupId...
- browseArtifact.actionartifactId...&groupId....
- showArtifact.actionartifactId...&groupId...&version...

Instead, the following paths should be used
browsegroupIdartifactIdversion",Improvement
"optimize lucene indexing parameters we shuld review the merge sizes to make them work most effectively, using different settings depending on whether it is an incremental or large set.",Improvement
"Downloadable incremental repository indexes and common embedder API Index I build for ibiblio is nearly Mb with class names and it is not really good idea to download whole index on every update.

We discussed this with jason and agreed on the following structure.

-- since lucene index is actually a folder it would make sense to have zip it
-- we need some metadata in a common repository place. That metadata will enumerate all existing index zips, their type full or incremental and also specify date interval for incremental indexes
-- full index for those who dont have anything yet
-- incremental indexes for last N months, M last weeks and K last days.

We also need this stuff exposed trough Embedder API,  e.g. get index updates for given repository and put them into given location or perhaps somewhere under local repository and probably merge incremental chunks into the local index copy

This is quite critical since there is no direct access to centrl repository and local indexer cant be used...",New_Feature
"add a general job scheduler to the interface it would be useful to put all jobs through a central interface, and for the scheduling of that to be managed by the web console, rather than being on a case by case basis as it is now.",New_Feature
"Archiva needs to enable WebDav access into the repositories. The repositories that are configured in Archiva need to be accessible via WebDav.
There also needs to be security at least for the upload process for those files added.",Bug
"Archiva Plexus Runtime works only when copying tools.jar to the core directory Archiva Plexus Runtime works only when copying tools.jar to the core directory. Othwerwise it will complain about the fact that is unable to find the compiler classes from the JDK, and suggests to set JAVA_HOME.",Bug
"complete artifact browsing currently some features of the artifact display page are not implemented links to dependencies, displaying other information from the pom, and so on",Improvement
appears to be no way to add a remote repository there is no link on the repository page to add a remote repository,Bug
"Admin  Users the colors of the user admin screen needs correcting. When the change from plexus-security to redback occured, the colors of the user admin screen changed from the desired orange, back to the default blue.",Bug
"Limit in description size causes problems with Apache parent POM When running from jettyrun and trying to look at the Apache parent pom you end up with a problem with the max length of the description - see httplocalhostbrowseorg.apacheapache

javax.jdo.JDOFatalUserException Attempt to store value ""The Apache Software Foundation provides support for the Apache community of open-source software projects. The Apache projects are characterized by a collaborative, consensus based development process, an open and pragmatic software license, and a desire to create high quality software that leads the way in its field. We consider ourselves not simply a group of projects sharing a server, but rather a community of developers and users."" in column ""DESCRIPTION"" that has maximum length of . Please correct your data!
	at org.jpox.store.rdbms.mapping.CharRDBMSMapping.setStringCharRDBMSMapping.java
	at org.jpox.store.mapping.SingleFieldMapping.setStringSingleFieldMapping.java
	at org.jpox.store.rdbms.fieldmanager.ParameterSetter.storeStringFieldParameterSetter.java
	at org.jpox.state.StateManagerImpl.providedStringFieldStateManagerImpl.java
	at org.apache.maven.archiva.model.ArchivaProjectModel.jdoProvideFieldArchivaProjectModel.java
	at org.apache.maven.archiva.model.ArchivaProjectModel.jdoProvideFieldsArchivaProjectModel.java
	at org.jpox.state.StateManagerImpl.provideFieldsStateManagerImpl.java

I would imagine we would want to store descriptions to allow them to hold far more data.",Bug
"Changes arent saved when updating Archiva Managed Snapshot Repository Steps

 Log in as admin.
 In the left menu, under Administration, click Repositories.
 Edit Archiva Managed Snapshot Repository.
 Since this is a snapshot repository, uncheck Releases Included.
 Click Update Repository.

Notice that ""Releases Included"" is still set to ""True"" for Archiva Managed Snapshot Repository.",Bug
"Maven requests are not served I got one managed repository with two proxied repositories, one for our locally built artifacts and the central repository.

When I try to retreive an artifact with maven path layout e.g. antant..ant-...jar everything works fine.
When I try to retreive the same artifact with maven path layout antjarsant-...jar the jar gets downloaded from the proxied repository but is not delivered to the client. Client response is a  s. below. In the local directory it is stored with the maven path layout

-- log output
-- ,  http--Processor DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandlerdefault  - Artifact requested is antantjar..runtime
-- ,  http--Processor DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandlerdefault  - Retrieving antant..ant-...pom from ComBOTS Maven Repository
-- ,  http--Processor DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandlerdefault  - Artifact not found in repository ComBOTS Maven Repository File datamaven-repocombots-maven-repoantant..ant-...pom does not exist
-- ,  http--Processor DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandlerdefault  - Retrieving antant..ant-...pom from Maven Central Repository
-- ,  http--Processor DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandlerdefault  - Successfully downloaded

-- http response
Error  Not Found

Resource in error httpmavenproxyarchivarepositoryantjarsant-...jarantjarsant-...jar

Exception details

it.could.webdav.DAVException Not found
	at it.could.webdav.methods.HEAD.processHEAD.java
	at it.could.webdav.methods.GET.processGET.java
	at it.could.webdav.DAVProcessor.processDAVProcessor.java
	at org.codehaus.plexus.webdav.simple.SimpleDavServerComponent.processSimpleDavServerComponent.java
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.processProxiedDavServer.java
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.serviceMultiplexedWebDavServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at org.apache.catalina.core.StandardWrapperValve.invokeStandardWrapperValve.java
	at org.apache.catalina.core.StandardContextValve.invokeStandardContextValve.java
	at org.apache.catalina.core.StandardHostValve.invokeStandardHostValve.java
	at org.apache.catalina.valves.ErrorReportValve.invokeErrorReportValve.java
	at org.apache.catalina.core.StandardEngineValve.invokeStandardEngineValve.java
	at org.apache.catalina.connector.CoyoteAdapter.serviceCoyoteAdapter.java
	at org.apache.coyote.http.HttpProcessor.processHttpProcessor.java
	at org.apache.coyote.http.HttpBaseProtocol$HttpConnectionHandler.processConnectionHttpBaseProtocol.java
	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocketPoolTcpEndpoint.java
	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runItLeaderFollowerWorkerThread.java
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.runThreadPool.java
	at java.lang.Thread.runThread.java

",Bug
"Update Consumers button in Database - Artifact Scanning doesnt work  Log in as admin.
 Click the Database button in the left menu under Administration.
 In Database - Unprocessed Artifacts Scanning, uncheck ""validate-repository-metadata"" to disable it.
 Click the Update Consumers button.

Once the page is refreshed, notice that ""validate-repository-metadata"" is still enabled.

Note Try the same procedure in Database - Artifact Cleanup Scanning. The changes made will not be saved.",Bug
"Ability to disable the checksum applet used in Find Artifact Applets that access the local filesystem are forbidden in some corporate environments.  We need a way to disable the Find Artifact applet without breaking the web UI.  

The ability to find an artifact by providing the md checksum should be preserved.",Improvement
"reimplement Show Artifact Reports tab Clicking the Reports tab of an artifact will result to

HTTP ERROR 

Internal Server Error

RequestURIarchivashowArtifactReports.action",Bug
"Incorrect cron expressions in default-archiva.xml This results in a ""ParseException"" when the application starts, which disables the repository scanning.

I attached a patch with valid cron expressions.",Bug
"NPE when trying to proxy a request for a plugin My first test for Archiva . was to delete maven-clean-plugin from my local repository, then try mvn clean on the Struts  build.

I noted that it is pre-configured to proxy the central repo through internal and deleted the pre-configured network proxy.

$ cd pathtoproject
$ rm -rf $M_REPOorgapachemavenpluginsmaven-clean-plugin
$ mvn clean
INFO Scanning for projects...
INFO Reactor build order
INFO   Struts 
INFO   Struts Annotations
INFO   Struts  Core
INFO   Struts  API
INFO -------------------------------------------------------------------------
---
INFO Building Struts 
INFO    task-segment clean
INFO -------------------------------------------------------------------------
---
INFO ------------------------------------------------------------------------
ERROR BUILD ERROR
INFO ------------------------------------------------------------------------
INFO The plugin org.apache.maven.pluginsmaven-clean-plugin does not exist or no valid version could be found
INFO ------------------------------------------------------------------------
INFO For more information, run Maven with the -e switch
INFO ------------------------------------------------------------------------
INFO Total time  second
INFO Finished at Fri May   MST 
INFO Final Memory MM
INFO ------------------------------------------------------------------------

In the Archiva logconsole

INFO   | jvm     |   | May ,   PM org.mortbay.jetty.servlet.ServletHandler handle
INFO   | jvm     |   | WARNING archivarepositoryinternalorgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml 
INFO   | jvm     |   | java.lang.NullPointerException
INFO   | jvm     |   | 	at java.util.regex.Matcher.getTextLengthMatcher.java
INFO   | jvm     |   | 	at java.util.regex.Matcher.resetMatcher.java
INFO   | jvm     |   | 	at java.util.regex.Matcher.initMatcher.java
INFO   | jvm     |   | 	at java.util.regex.Pattern.matcherPattern.java
INFO   | jvm     |   | 	at org.apache.maven.archiva.common.utils.VersionUtil.getBaseVersionVersionUtil.java
INFO   | jvm     |   | 	at org.apache.maven.archiva.repository.layout.DefaultBidirectionalRepositoryLayout.toPathDefaultBidirectionalRepositoryLayout.java
INFO   | jvm     |   | 	at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxiesDefaultRepositoryProxyConnectors.java
INFO   | jvm     |   | 	at org.apache.maven.archiva.web.repository.ProxiedDavServer.fetchContentFromProxiesProxiedDavServer.java
INFO   | jvm     |   | 	at org.apache.maven.archiva.web.repository.ProxiedDavServer.processProxiedDavServer.java
INFO   | jvm     |   | 	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.serviceMultiplexedWebDavServlet.java
INFO   | jvm     |   | 	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   | 	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   | 	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   | 	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.WebApplicationHandler.dispatchWebApplicationHandler.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
INFO   | jvm     |   | 	at org.mortbay.http.HttpContext.handleHttpContext.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.WebApplicationContext.handleWebApplicationContext.java
INFO   | jvm     |   | 	at org.mortbay.http.HttpContext.handleHttpContext.java
INFO   | jvm     |   | 	at org.mortbay.http.HttpServer.serviceHttpServer.java
INFO   | jvm     |   | 	at org.mortbay.http.HttpConnection.serviceHttpConnection.java
INFO   | jvm     |   | 	at org.mortbay.http.HttpConnection.handleNextHttpConnection.java
INFO   | jvm     |   | 	at org.mortbay.http.HttpConnection.handleHttpConnection.java
INFO   | jvm     |   | 	at org.mortbay.http.SocketListener.handleConnectionSocketListener.java
INFO   | jvm     |   | 	at org.mortbay.util.ThreadedServer.handleThreadedServer.java
INFO   | jvm     |   | 	at org.mortbay.util.ThreadPool$PoolThread.runThreadPool.java",Bug
"Rename ""Local Repositories"" in the web ui The label ""Local Repositories"" is confusing.

In Maven terminology, your local repository is the one in .mrepository.

This needs to be changed back to ""Managed Repositories"".",Bug
"Find artifact always displays error message even with a valid file input. Steps

. Click on the ""Find Artifact"" on the left menu.
. On the search field, click on browse and select a valid jar for example, ant-..jar
. Hit the ""Go!"" button.

Notice that even though you selected a valid jar, it always prompts the error message saying "" You must select a file, or enter the checksum. If the file was given and you receive this message, there may have been an error generating the checksum.""",Bug
"configurationInterceptor intercepts adminaddRepository so one cannot add repository Fresh installation started from plexus fresh build archiva-.-alpha--SNAPSHOT-bin.tar.gz creates new admin user, but when he logs in, browser informs, that circular  redirect occurs. The only way to solve this problem is to restart archiva. This way you can see repositories, but there is no ArchivaRoleConstants.OPERATION_REPOSITORY_ACCESS permission created for internal and snapshot repositories, so no one even admin can access repository by WebDAV.",Bug
Selenium test cases fail due to an HTTP  The selenium tests fail because an HTTP  is encountered.  This is caused by the missing archiva.xml in the ${appserver-base} directory.,Bug
"Release artifacts are missing license and notice files All released artifacts must contain license and notice files.  The files are missing from the .-alpha- build.

Probably needs to be fixed on trunk also.",Bug
"Unable to add new file types for Repository Scanning In the Repository Scanning page, unable to add new file types in auto-remove, ignored and indexable-content sections. Always displays the message Unable to process blank pattern.",Bug
"Web application to add new artifacts to the repository A web application to add new artifacts to the repository might be a good feature. If an organization have existing non-Maven  builds and would like to migrate, it would be easier for them to use a form to do so instead of a command line deploy.",New_Feature
"ConcurrentModificationException Archiva is deployed as maven repository proxy for my company

I get ConcurrentModificationExceptions in logs, that looks from maven-side as HTTP .
This is related to WAGON-. 

Solving this issue requires to upgrade dependency to Wagon-.-SNAPSHOT. The . branch introduces some new methods on Wagon interface that requires some simple changes in archiva code, like adding delegates methods in org.apache.maven.archiva.proxy.WagonDelegate
",Bug
"Admin  Repository Scanning Need informational messages describing purpose of sections The repository scanning screen is a bit sparse, and could use some descriptive text explaining the purpose of the various sections.",Bug
"Unable to add a remote repository There is no ""Add Repository"" link to the right of ""Remote Repositories"".

Assuming that the Add Repository link at the top to the right of ""Local Repositories"" is intended to also add remote repositories, if I supply a URL rather than a directory, the new repo does not appear in the list.  There is no error in the log, it just doesnt happen.



",Bug
"Adding a Proxy Connector displays a blank page To replicate

. Click the Proxy Connectors link in the left navigation menu
. Click the Add Proxy Connector link in the upper right part of the page

Result A blank archiva page",Bug
"archiva fails to serve maven plugin from legacy repository Archiva is configured to proxy httpdist.codehaus.org  legacy layout

the xdoclet maven plugin is deployed under xdocletmaven-plugins. This looks right as the type is set to ""maven-plugin"".

trying to download httparchivarepositorymavenxdocletmaven-xdoclet-plugin..maven-xdoclet-plugin-...jar fails
archiva has no info from the specified URL about trying to get a maven-plugin !
httparchivarepositorymavenxdocletmaven-xdoclet-plugin..maven-xdoclet-plugin-...maven-plugin works as expected.

 options suggestions are wecome 

  - use a ""-plugin"" pattern that a plugin is required just a hack, and requires all plugin to follow this convention
  - read the requested artifact POM to get the artifact type.",Improvement
"Unable to configure archiva if configuration file did not already exist - remove archiva configuration and database first install scenario
- fill in admin details on startup
- log in

EXPECTED go to configuration page for repositories
ACTUAL Archiva goes into an infinite redirect loop trying to access addRepository!input.action",Bug
"Admin Cron Defaults are wrong Repositories & Database The defaults for cronscheduling are wrong.

 Repository Scanning should be hourly.
 Database Updates should be every  hours.",Bug
"Remove index from artifacts of deleted managed repositories Steps to Reproduce
. Run archiva
. Add managed repositories
. Scan repositories
. Browse
.a Verify that you can see the artifacts of the added repositories
. Deleted managed repositories
. Browse
.b Verify that you can no longer see the artifacts of the deleted repositories
. Add a managed repository which is empty
. Scan that empty managed repository
. Browse
.c Verify that you can no longer see the artifacts of the deleted repositories

Results
.a Correct
.b Incorrect, you can still the artifacts of the deleted repositories
.c Incorrect, you can still the artifacts of the deleted repositories",Bug
"Repository Admin - ""Index Repository"" appears to not do anything. The link for ""Index Repository"" appears to not do anything.

 Provide feedback.  ""Indexing has started.""
 Change link to state ""Index pending or in progress""
 Change ""Never Indexed"" to say ""Never scanned.""
",Bug
"Unable to sort users by Tasks In the List of Users page, the Tasks column header is not clickable. Therefore, sorting of users by tasks is impossible.",Bug
"Admin  Repositories long urls andor directory names cause the screen to be too large. If you have a large directory configured for your repository the width of the adminrepositories screen is too large.

Consider one of the following solutions.

 Use the CSS overflow- attributes to specify a max width of those fields.
 Use a server side shortening technique ""usrlocalapps ... internal""
 Use a javascript client side shortening of the string based on browser width.
 Break the text up at the slashes with a space to allow the browser to auto-wrap the text.
",Bug
"Admin  Proxy Connectors AddEdit screen doesnt display red ""X"" for removing a whitelistblacklist pattern. The addedit screen is missing the red ""X"" for removing of patterns.

Looking at the browser side ""view source"" you can see img src"""" which is an empty image.

What needs to occur.
 The img src"""" needs to be corrected to actually include the URL to the imageicon.
 The img tag needs to include an alt""X"" tag.

This bug exists for blacklists, whitelists, and patterns.",Bug
" Error when trying to access archiva after install I pulled down the latest version of archiva from the svn and built it with ""mvn install"". If I run it with the integrated Jetty mvn jettyrun I get the following page as soon as I point my browser to httphost

""HTTP ERROR 
Caught Exception while registering Interceptor class pssEnvironmentCheckInterceptor""

... - see attachment

A similar thing happens, if I try to run it via integrated Plexus this does not show an exception in the browser but on the console.",Bug
"when a proxied repository is remove, it re-appears when Archiva is restarted Deleted proxied repositories reappear when Archiva is restarted.

To reproduce
. Log in as admin
. Artifact Rpository - Proxied Repositories
. Delete the default central proxied repo
. Restart
. Repeat steps -

Result
The previously deleted proxied repo appears in the list.

Expected Result
The deleted repo should not appear.

Workaround
Edit confarchiva.xml and remove the proxiedRepository element.",Bug
"CSS declarations dont support Reverse-proxy Im using a reverse proxy to see archiva like httprepositories.myserver instead of httpmyserverarchiva

Actually to load CSS we have the following syntax 
  style type""textcss"" media""all""
    @import url ""curl value""cssmaven-base.css"" "" ;
    @import url ""curl value""cssmaven-theme.css"" "" ;
    @import url ""curl value""csspsstable.css"" "" ;
    @import url ""curl value""csssite.css"" "" ;
  style

But these urls arent rewritten because its not in a href",Improvement
"Clicking on the tabs in the artifact detail page doesnt change the view Steps

 Search for an artifact.
 In the search results page, click on the artifact to view its details.
 Click the other tabs Dependencies, Dependency Tree, etc..

Notice that the view doesnt change.",Bug
remove true and false from the descriptions on the repository admin page the  and x are sufficient,Bug
"Admin  Repositories The Name field and value is missing from the displayed repositories. Add the ""Name"" field and value back to the display of local and remote repositories.",Bug
configure guest access by default for pre-configured repositories I think it makes sense for repositories to be readable by guests by default for a good OOTB experience.,Bug
no WEB-INFjspadmindeleteProxyConnector.jsp required by action deleteProxyConnector there is nothing to add - this function simply doesnt work now ,Bug
Remove  in Password and Confirm Password fields It would be better if we remove the  in the Password and Confirm Password fields in the Create User page since both fields are not required. It might just cause confusion to the user.,Improvement
"Repository Scanning Exception on update to pre-existing artifact. When scanning a repository that has an artifact that has been updated on disk, and exists in the database already, the following exception occurs.

{code}
com.mysql.jdbc.exceptions.MySQLIntegrityConstraintViolationException Duplicate entry commons-httpclient--commons-httpclient-jar-.. for key 
        at com.mysql.jdbc.SQLError.createSQLExceptionSQLError.java
        at com.mysql.jdbc.MysqlIO.checkErrorPacketMysqlIO.java
        at com.mysql.jdbc.MysqlIO.sendCommandMysqlIO.java
        at com.mysql.jdbc.ServerPreparedStatement.serverExecuteServerPreparedStatement.java
        at com.mysql.jdbc.ServerPreparedStatement.executeInternalServerPreparedStatement.java
        at com.mysql.jdbc.PreparedStatement.executeUpdatePreparedStatement.java
        at com.mysql.jdbc.PreparedStatement.executeUpdatePreparedStatement.java
        at com.mysql.jdbc.PreparedStatement.executeUpdatePreparedStatement.java
        at org.jpox.store.rdbms.RDBMSManager.executeStatementUpdateRDBMSManager.java
        at org.jpox.store.rdbms.request.InsertRequest.executeInsertRequest.java
        at org.jpox.store.rdbms.table.ClassTable.insertClassTable.java
        at org.jpox.store.StoreManager.insertStoreManager.java
        at org.jpox.state.StateManagerImpl.internalMakePersistentStateManagerImpl.java
        at org.jpox.state.StateManagerImpl.makePersistentStateManagerImpl.java
        at org.jpox.AbstractPersistenceManager.internalMakePersistentAbstractPersistenceManager.java
        at org.jpox.AbstractPersistenceManager.makePersistentAbstractPersistenceManager.java
        at org.apache.maven.archiva.database.jdo.JdoAccess.saveObjectJdoAccess.java
        at org.apache.maven.archiva.database.jdo.JdoAccess.saveObjectJdoAccess.java
        at org.apache.maven.archiva.database.jdo.JdoArtifactDAO.saveArtifactJdoArtifactDAO.java
        at org.apache.maven.archiva.consumers.database.ArtifactUpdateDatabaseConsumer.processFileArtifactUpdateDatabaseConsumer.java
        at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.executeConsumerProcessFileClosure.java
        at org.apache.commons.collections.functors.IfClosure.executeIfClosure.java
        at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
        at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStepRepositoryScannerInstance.java
        at org.codehaus.plexus.util.DirectoryWalker.fireStepDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirectoryWalker.java
        at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
        at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
        at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTaskArchivaRepositoryScanningTaskExecutor.java
        at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
        at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
        at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
        at java.lang.Thread.runThread.java
{code}

Need logic to prevent the Table constraint violation.
To update the table entry if it exists.",Bug
"Unscanned Repositories do not auto-scan themselves on startup. On startup of the webapp, if a repository has never had its contents scanned or indexed, those repositories are supposed to be added to the task list for immediate scanning.",Bug
"relocated artifacts are not delivered One managed repository with two proxied repositories.
When I request an artifact that is relocated in the proxied repository, the relocaated artifact is downloaded to the local repository but not delivered to the requestor.

-- log messages
-- ,  http--Processor DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandlerdefault  - Artifact requested is easymockeasymockjar.runtime
-- ,  http--Processor DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandlerdefault  - Retrieving easymockeasymock.easymock-..pom from ComBOTS Maven Repository
-- ,  http--Processor DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandlerdefault  - Artifact not found in repository ComBOTS Maven Repository File datamaven-repocombots-maven-repoeasymockeasymock.easymock-..pom does not exist
-- ,  http--Processor DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandlerdefault  - Retrieving easymockeasymock.easymock-..pom from Maven Central Repository
-- ,  http--Processor DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandlerdefault  - Successfully downloaded
-- ,  http--Processor DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandlerdefault  - Artifact easymockeasymock. has been relocated to org.easymockeasymock.
-- ,  http--Processor DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandlerdefault  - Retrieving orgeasymockeasymock.easymock-..pom from ComBOTS Maven Repository
-- ,  http--Processor DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandlerdefault  - Artifact not found in repository ComBOTS Maven Repository File datamaven-repocombots-maven-repoorgeasymockeasymock.easymock-..pom does not exist
-- ,  http--Processor DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandlerdefault  - Retrieving orgeasymockeasymock.easymock-..pom from Maven Central Repository
-- ,  http--Processor DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandlerdefault  - Successfully downloaded
-- ,  http--Processor DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandlerdefault  - Retrieving orgeasymockeasymock.easymock-..jar from ComBOTS Maven Repository
-- ,  http--Processor DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandlerdefault  - Artifact not found in repository ComBOTS Maven Repository File datamaven-repocombots-maven-repoorgeasymockeasymock.easymock-..jar does not exist
-- ,  http--Processor DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandlerdefault  - Retrieving orgeasymockeasymock.easymock-..jar from Maven Central Repository
-- ,  http--Processor DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandlerdefault  - Successfully downloaded

-- html response
Error  Not Found

Resource in error httpmavenproxyarchivarepositoryeasymockeasymock.easymock-..jareasymockeasymock.easymock-..jar

Exception details

it.could.webdav.DAVException Not found
	at it.could.webdav.methods.HEAD.processHEAD.java
	at it.could.webdav.methods.GET.processGET.java
	at it.could.webdav.DAVProcessor.processDAVProcessor.java
	at org.codehaus.plexus.webdav.simple.SimpleDavServerComponent.processSimpleDavServerComponent.java
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.processProxiedDavServer.java
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.serviceMultiplexedWebDavServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at org.apache.catalina.core.StandardWrapperValve.invokeStandardWrapperValve.java
	at org.apache.catalina.core.StandardContextValve.invokeStandardContextValve.java
	at org.apache.catalina.core.StandardHostValve.invokeStandardHostValve.java
	at org.apache.catalina.valves.ErrorReportValve.invokeErrorReportValve.java
	at org.apache.catalina.core.StandardEngineValve.invokeStandardEngineValve.java
	at org.apache.catalina.connector.CoyoteAdapter.serviceCoyoteAdapter.java
	at org.apache.coyote.http.HttpProcessor.processHttpProcessor.java
	at org.apache.coyote.http.HttpBaseProtocol$HttpConnectionHandler.processConnectionHttpBaseProtocol.java
	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocketPoolTcpEndpoint.java
	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runItLeaderFollowerWorkerThread.java
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.runThreadPool.java
	at java.lang.Thread.runThread.java
",Bug
"NPE trying to access an artifact that should be proxied I have just the default repository configuration, with no existing content. I have enabled guest access through the global observer role.

RequestURIrepositoryinternalorgapachemavenmaven-core..maven-core-...jar
Caused by

java.lang.NullPointerException
	at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxiesDefaultRepositoryProxyConnectors.java
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.fetchContentFromProxiesProxiedDavServer.java
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.processProxiedDavServer.java
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.serviceMultiplexedWebDavServlet.java",Bug
"incorrectly displayed groupId for dependencies the list in the ""Dependencies"" tab contains correct artifacts, but with groupId taken from the library being explored, not from the dependency itself.
Example
library {{org.hibernatehibernate...ga}} depends on
- {{net.sf.ehcacheehcache..}}
- {{javax.transactionjta..B}}
- etc

but the page displays this information
- {{{colorred}org.hibernate{color}ehcache..}}
- {{{colorred}org.hibernate{color}jta..B}}
- etc

The same bug appears on tabs ""Dependency tree"" and ""Used by"".
",Bug
"ProxiedDavServer breaks update policy The ProxiedDavServer use hasResource to bypass proxyRequestHandler if requested resource is allready in the managed repo.

This sounds a good optimization, but breaks any update capability of archiva.

When I deploy a new snapshot, developper never get an updated one...
",Bug
The default Cron expression is invalid The default cron expression is invalid when when you setup archiva. You have to add the  in the year field.,Bug
Reference to derby.jar but the artifact isnt in the folder specified Need to update the docs to point to either .morgapachederby or to the remote repository.,Bug
"Browse repository should display a suitable message when empty When the configured repositories are empty, the browse page simply lists nothing.

A suitable message indicating that no repositories are configured, or are not indexed, or whatever is necessary should be displayed instead.",Bug
"Editing a Remote Repository will delete this repository Steps

 Log in as admin.
 On the left menu, under Administation, click Repositories.
 Edit a pre-configured remote repository.
 Click Update Repository.

Notice that the repository is no longer in the list.",Bug
Admin Add UI to see and adjust Scheduled Tasks  Task Queues. Create an admin screen to see  edit  manage the Scheduled Tasks and Queued Jobs,New_Feature
"Admin  Repositories Fix ""Index Repository"" link. Tasks to do about ""Index Repository"" link on repositories page.

 Move Link to left hand side. - done
 Make into button. - done
 Rename to ""Scan Repository Now"" - done

Remaining is new functionality, perhaps add status field to repositories to allow different actions to set statuses on a particular repository for conditionally wrapping the Scan Repository Now button.

 Add verbiage to repository screen to show if a scan is in progress.",Bug
"Previous repository configuration doesnt reflect in the Edit Repository page Steps

 Log in as admin.
 On the left menu, under Administration, click Repositories.

Please take note of the default values for Archiva Managed Internal Repository
     Releases Included - true
     Snapshots Included - false
     Scanned - true

 Edit this repository.

Notice that in the Edit Repository page of Archiva Managed Internal Repository, Releases Included, Snapshots Included and Scanned were all unchecked. 

Note Same goes with Archiva Managed Snapshot Repository. The previous repository configuration doesnt reflect in the Edit Repository page.",Bug
"header still shows the current user even if the application has timed-out After the application has timed-out, the header still shows the current user see attached screenshot and the login page is also displayed. The Manage and Administration sections in the left menu are also shown. When I tried to click one of the links in the left menu, it will just show the login page. This means that no user is currently logged in. Therefore, it shouldnt show the current user in the header and the Manage and Administration sections in the left menu.",Bug
"Clicking an artifact in the Search Results page results to HTTP ERROR  Steps
 On the left menu, under Find, click Search.
 Enter a keyword that you want to search. e.g. ant
 Click Submit. The search results will be displayed.
 Click an artifact from the list. In my case, I clicked ""ant"".

Resulted to

HTTP ERROR 

Unable to find Database Object antant.pom of type org.apache.maven.archiva.model.ArchivaArtifactModel using no fetch-group

RequestURIarchivabrowseantant.
",Bug
"Roles arent created if the repository isnt created within the web UI If we create some repositories directly in the archiva.xml config file, we dont have the roles to observe or manage these repositories.",Bug
"Tomcat deployment of archiva results in unstable instance. When deploying archiva to a tomcat instance, the resulting instance is unstable and causes many other problems.

We need to identify, and document a tomcat installation.

Wiki docs httpdocs.codehaus.orgdisplayMAVENUSERArchivaonTomcat

If a specific tomcat topic arises, please link it to this issue.",Bug
"Finding an Artifact gives an HTTP  To replicate 
A. Using any existing file
. Click the Find Artifact link in the left navigation menu
. Enter a valid input in Search for text area, existing file
. Click the Go! button 
B. Using any checksum
. Click the Find Artifact link in the left navigation menu
. Enter validinvalid input in Checksum text area
. Click the Go! button 
Result snipped 
HTTP ERROR 
RequestURIchecksumSearch.action
java.lang.NullPointerException
at org.apache.maven.archiva.web.action.SearchAction.findArtifactSearchAction.java
at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
at java.lang.reflect.Method.invokeMethod.java",Bug
"When trying to look at project with empty groupId When going to look at a project which has an empty groupId - see maven-rar-plugin as an example.

Therefore if you goto - httplocalhostbrowseorg.apache.maven.pluginsmaven-rar-plugin.

You end up with 

HTTP ERROR 

Field org.apache.maven.archiva.model.ArchivaProjectModel.groupId is null, but is mandatory as its described in the jdo metadata

RequestURIbrowseorg.apache.maven.pluginsmaven-rar-plugin.
Caused by

javax.jdo.JDOUserException Field org.apache.maven.archiva.model.ArchivaProjectModel.groupId is null, but is mandatory as its described in the jdo metadata
	at org.jpox.store.rdbms.fieldmanager.ParameterSetter.storeStringFieldParameterSetter.java
	at org.jpox.state.StateManagerImpl.providedStringFieldStateManagerImpl.java
	at org.apache.maven.archiva.model.ArchivaProjectModel.jdoProvideFieldArchivaProjectModel.java
	at org.apache.maven.archiva.model.ArchivaProjectModel.jdoProvideFieldsArchivaProjectModel.java
	at org.jpox.state.StateManagerImpl.provideFieldsStateManagerImpl.java
	at org.jpox.store.rdbms.request.InsertRequest.executeInsertRequest.java
	at org.jpox.store.rdbms.table.ClassTable.insertClassTable.java
",Bug
"Maven config docs refer to proxy urls The Maven Configuration page still refers to urls containing ""proxy"".  These no longer exist.

httpmaven.apache.orgarchivaguidesmaven-configuration.html

Also incorporate info from httpdocs.codehaus.orgdisplayMAVENUSERArchivaasaProxy",Improvement
"When logging for the very first time as admin, the ""add repository"" page fails _ To reproduce the bug, clean your file system like it would be the first time you run Archiva basically, delete the database and the archiva files in .m _

When you start Archiva for the first time, you have to create an admin user first, and then you are redirected to the repository configuration page, which fails with the following stack trace

{code}
-- , http--Processor INFO  com.opensymphony.xwork.interceptor.InterceptorconfigurationInterceptor  - No repositories exist - forwarding to repository configuration page
-- , http--Processor ERROR com.opensymphony.xwork.util.CompoundRootAccessor  - No object in the CompoundRoot has a publicly accessible property named externalResult no setter could be found.
-- , http--Processor ERROR com.opensymphony.xwork.util.OgnlValueStack  - Error setting expr externalResult with value Ljava.lang.String;@f
No object in the CompoundRoot has a publicly accessible property named externalResult no setter could be found. - unknown location
	at com.opensymphony.xwork.util.CompoundRootAccessor.setPropertyCompoundRootAccessor.java
	at ognl.OgnlRuntime.setPropertyOgnlRuntime.java
	at ognl.ASTProperty.setValueBodyASTProperty.java
	at ognl.SimpleNode.evaluateSetValueBodySimpleNode.java
	at ognl.SimpleNode.setValueSimpleNode.java
	at ognl.Ognl.setValueOgnl.java
	at com.opensymphony.xwork.util.OgnlUtil.setValueOgnlUtil.java
	at com.opensymphony.xwork.util.OgnlValueStack.setValueOgnlValueStack.java
	at com.opensymphony.xwork.util.OgnlValueStack.setValueOgnlValueStack.java
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.setParametersParametersInterceptor.java
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.beforeParametersInterceptor.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionProxy.executeDefaultActionProxy.java
	at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at org.apache.catalina.core.StandardWrapperValve.invokeStandardWrapperValve.java
	at org.apache.catalina.core.StandardContextValve.invokeStandardContextValve.java
	at org.apache.catalina.core.StandardHostValve.invokeStandardHostValve.java
	at org.apache.catalina.valves.ErrorReportValve.invokeErrorReportValve.java
	at org.apache.catalina.core.StandardEngineValve.invokeStandardEngineValve.java
	at org.apache.catalina.connector.CoyoteAdapter.serviceCoyoteAdapter.java
	at org.apache.coyote.http.HttpProcessor.processHttpProcessor.java
	at org.apache.coyote.http.HttpBaseProtocol$HttpConnectionHandler.processConnectionHttpBaseProtocol.java
	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocketPoolTcpEndpoint.java
	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runItLeaderFollowerWorkerThread.java
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.runThreadPool.java
	at java.lang.Thread.runThread.java
-- , http--Processor ERROR com.opensymphony.xwork.interceptor.ParametersInterceptor  - Developer Notification set webwork.devMode to false to disable this message
No object in the CompoundRoot has a publicly accessible property named externalResult no setter could be found. 
-- , http--Processor ERROR com.opensymphony.xwork.util.CompoundRootAccessor  - No object in the CompoundRoot has a publicly accessible property named externalResult no setter could be found.
-- , http--Processor ERROR com.opensymphony.xwork.util.OgnlValueStack  - Error setting expr externalResult with value Ljava.lang.String;@f
No object in the CompoundRoot has a publicly accessible property named externalResult no setter could be found. - unknown location
	at com.opensymphony.xwork.util.CompoundRootAccessor.setPropertyCompoundRootAccessor.java
	at ognl.OgnlRuntime.setPropertyOgnlRuntime.java
	at ognl.ASTProperty.setValueBodyASTProperty.java
	at ognl.SimpleNode.evaluateSetValueBodySimpleNode.java
	at ognl.SimpleNode.setValueSimpleNode.java
	at ognl.Ognl.setValueOgnl.java
	at com.opensymphony.xwork.util.OgnlUtil.setValueOgnlUtil.java
	at com.opensymphony.xwork.util.OgnlValueStack.setValueOgnlValueStack.java
	at com.opensymphony.xwork.util.OgnlValueStack.setValueOgnlValueStack.java
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.setParametersParametersInterceptor.java
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.beforeParametersInterceptor.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.webwork.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionProxy.executeDefaultActionProxy.java
	at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at org.apache.catalina.core.StandardWrapperValve.invokeStandardWrapperValve.java
	at org.apache.catalina.core.StandardContextValve.invokeStandardContextValve.java
	at org.apache.catalina.core.StandardHostValve.invokeStandardHostValve.java
	at org.apache.catalina.valves.ErrorReportValve.invokeErrorReportValve.java
	at org.apache.catalina.core.StandardEngineValve.invokeStandardEngineValve.java
	at org.apache.catalina.connector.CoyoteAdapter.serviceCoyoteAdapter.java
	at org.apache.coyote.http.HttpProcessor.processHttpProcessor.java
	at org.apache.coyote.http.HttpBaseProtocol$HttpConnectionHandler.processConnectionHttpBaseProtocol.java
	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocketPoolTcpEndpoint.java
	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runItLeaderFollowerWorkerThread.java
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.runThreadPool.java
	at java.lang.Thread.runThread.java
-- , http--Processor ERROR com.opensymphony.xwork.interceptor.ParametersInterceptor  - Developer Notification set webwork.devMode to false to disable this message
No object in the CompoundRoot has a publicly accessible property named externalResult no setter could be found. 
{code}",Bug
"No access to repositories with guest as a global repo observer After granting the Global Repository Observer role to the guest user, I am prompted for an id and password when accessing the url for a managed repository such as the preconfigured internal repo.

MRM- seems to be the same thing, but on Tomcat.

",Bug
"Undefined ${appserver.home} and ${appserver.base} When I run 
mvn jettyrun 
from trunk at r, the ""appserver.base"" property is undefined, resulting in the creation of this directory 
Directory of Cdevapache-mavenarchivaarchiva-webarchiva-webapp
  PM DIR ${appserver.base}
  AM , pom.xml
  AM DIR src
  AM DIR target",Bug
"Unable to delete the pre-configured example network proxy Archiva comes pre-configured with a network proxy.

When I delete it in the web UI, it comes back the next time I start Archiva.  It does not get removed from .marchiva.xml.

Workaround  stop Archiva and edit .marchiva.xml, then restart",Bug
Archiva startup on first run is very slow Something in creating the application database after adding the admin account is very slow  minute,Improvement
"Searching gives an HTTP  To replicate 
. Click the Search link in the left navigation menu
. Enter any input valid or invalid
. Click the Submit button 
Result snipped 
HTTP ERROR 
RequestURIquickSearch.action
java.lang.IllegalArgumentException Only supports managed repositories.
at org.apache.maven.archiva.indexer.lucene.LuceneRepositoryContentIndexFactory.toIndexDirLuceneRepositoryContentIndexFactory.java
at org.apache.maven.archiva.indexer.lucene.LuceneRepositoryContentIndexFactory.createBytecodeIndexLuceneRepositoryContentIndexFactory.java
at org.apache.maven.archiva.indexer.search.DefaultCrossRepositorySearch.getBytecodeIndexesDefaultCrossRepositorySearch.java
at org.apache.maven.archiva.indexer.search.DefaultCrossRepositorySearch.searchForTermDefaultCrossRepositorySearch.java
at org.apache.maven.archiva.web.action.SearchAction.quickSearchSearchAction.java
at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
at java.lang.reflect.Method.invokeMethod.java",Bug
"java.lang.ArithmeticException  by zero - when scanning repository. Stack trace ...

{code}
INFO   | jvm     |   |  Thread- ERROR org.codehaus.plexus.taskqueue.execution.TaskQueueExecutorrepository-scanning - Error executing task
INFO   | jvm     |   | edu.emory.mathcs.backport.java.util.concurrent.ExecutionException java.lang.ArithmeticException  by zero
INFO   | jvm     |   |       at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.getResultFutureTask.java
INFO   | jvm     |   |       at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.getFutureTask.java
INFO   | jvm     |   |       at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.waitForTaskThreadedTaskQueueExecutor.java
INFO   | jvm     |   |       at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.runThreadedTaskQueueExecutor.java
INFO   | jvm     |   | Caused by java.lang.ArithmeticException  by zero
INFO   | jvm     |   |       at org.apache.maven.archiva.model.RepositoryContentStatistics.toDumpRepositoryContentStatistics.java
INFO   | jvm     |   |       at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTaskArchivaRepositoryScanningTaskExecutor.java
INFO   | jvm     |   |       at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
INFO   | jvm     |   |       at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
INFO   | jvm     |   |       at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
INFO   | jvm     |   |       at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runTaskThreadPoolExecutor.java
INFO   | jvm     |   |       at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   |       at java.lang.Thread.runThread.java

{code}",Bug
"AddingEditing network proxies doesnt have validation To replicate

A. Adding a network proxy
. Click the Network Proxies link in the left navigation menu
. Click the Add Network Proxy link in the upper right part of the page
. Enter invalid values in Identifier, Protocol, Hostname and Port, empty Strings
. Click the Add Network Proxy button

Result Network Proxies Administration page displayed, network proxy identifier"""", protocol"""", hostname"""", port added
Expected Result Validation errors

B. Editing a network proxy
. Click the Network Proxies link in the left navigation menu
. Click the Edit Network Proxy link in the same row as the network proxys header
. Enter invalid values in Protocol, Hostname and Port, empty Strings
. Click the Save Network Proxy button

Result Network Proxies Administration page displayed, network proxy updated into protocol"""", hostname"""", port
Expected Result Validation errors
",Bug
"Managed repo in archiva cannot be accessed thru direct webdav url even with valid credentials Archiva deployed in Tomcat Steps to re-create issue
- Deploy Archiva in Tomcat, then start tomcat
- Access Archiva in browser and set the required configurations
- Add A Managed Repository with the following configuration
  - id snapshots
  - name snapshots
  - url snapshots it would have the value httplocalhostPORTarchivarepositorysnapshots
  - directory snapshots
- Go to User Management and add the Repository Observer role for the snapshots repo to the current user
- Open a new tab in your browser then type the webdav URL httplocalhostPORTarchivarepositorysnapshots
- Supply the user credentials for the snapshots repository. You still wouldnt be able to access it even if you supply the correct credentials. 


Also, the following error shows up in the Archiva logs when you try to build a Maven project with your settings.xml file configured to use the repositories in archiva

 http--Processor ERROR org.apache.catalina.core.ContainerBase.Catalina.localhost.archiva.RepositoryServlet  - Servlet.service for servlet RepositoryServlet threw exception
javax.servlet.ServletException Unable to service DAV request due to unconfigured DavServerComponent for prefix snapshots.
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.serviceMultiplexedWebDavServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at org.apache.catalina.core.StandardWrapperValve.invokeStandardWrapperValve.java
	at org.apache.catalina.core.StandardContextValve.invokeStandardContextValve.java
	at org.apache.catalina.core.StandardHostValve.invokeStandardHostValve.java
	at org.apache.catalina.valves.ErrorReportValve.invokeErrorReportValve.java
	at org.apache.catalina.core.StandardEngineValve.invokeStandardEngineValve.java
	at org.apache.catalina.connector.CoyoteAdapter.serviceCoyoteAdapter.java
	at org.apache.coyote.http.HttpProcessor.processHttpProcessor.java
	at org.apache.coyote.http.HttpBaseProtocol$HttpConnectionHandler.processConnectionHttpBaseProtocol.java
	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocketPoolTcpEndpoint.java
	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runItLeaderFollowerWorkerThread.java
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.runThreadPool.java
	at java.lang.Thread.runThread.java

",Bug
"Move maven-artifact-converter and maven-transaction to archiva. Move the following modules out of maven shared and into archiva.

 maven-artifact-converter
 Becomes archiva-artifact-converter
 maven-transaction
 Becoms archiva-transaction

Be sure to change the package names to fit within the org.apache.maven.archiva namespace.
For the sake of expediency, keep them as seperate modules.",Bug
"Global Repository Manager privililege do not grant deployment privilege  Archiva sends status Unauthorized when deploying  a snapshot 
release to Archiva with a user holding the ""Global Repository Manager""
role.

Deployment works when the user is granted individual repository 
manager roles.
",Bug
Add proxied repository page lacks  on identifier field. The Identifier field is required so  should be put beside it just like the other required fields in the application.,Improvement
"Update Consumers button in Repository Scanning doesnt work  Log in as admin.
 Click the Repository Scanning button in the left menu under Administration.
 In Repository Scanning - Consumers of Known Content, check ""validate-checksums"" to enable it.
 Click the Update Consumers button.

Once the page is refreshed, notice that ""validate-checksums"" is still disabled.",Bug
"Inconsistent button text and page headers For configuration, the button label is Settings but the page header is  Administration with a sub-section named Configuration. 

In Continuum, the button is Configuration and the page header is General Configuration.",Improvement
"Admin  Repositories Change ""Index"", ""Indexed"" to refer to ""Scanning"", and ""Scanned"" The text for ""Index"" and ""Indexing"" is misleading.  Change them to ""Scanning"" to better reflect their nature.",Bug
"default remote repositories central, java.net are not available in remote repositories list - without having added any configuration, add a new proxy connector
- note that remote repositories list is empty

Not sure if this is deliberate - is it valid to have two connectors to the same remote repository

Two potential solutions
a if they are allowed, repositories should be in the list
b if duplicates are not allowed not sure why this would be the case, then the add form should present an error message saying there are no available remote repositories",Bug
"pressing return in the blacklistwhitelist form field submits whole form and validates, not pressing associated button - add a proxy connector
- dont fill in any fields
- type ""foo"" into blacklist field
- press return

EXPECTED add foo to blacklist
ACTUAL submits form, gives validation errors",Bug
"Show Artifact results in error . When browsing into an artifacts details, an error  is the result.",Bug
"releaseprepare fails due to missing archiva-applet During releaseprepare, the build fails with

    INFO Building Archiva Web Application
    INFO    task-segment clean, integration-test
...
    ERROR BUILD ERROR
    INFO ------------------------------------------------------------------------
    INFO Failed to resolve artifact.

    GroupId org.apache.maven.archiva
    ArtifactId archiva-applet
    Version .-alpha-

    Reason Unable to download the artifact from any repository

    Try downloading the file manually from the project website.

    Then, install it using the command
        mvn installinstall-file -DgroupIdorg.apache.maven.archiva -DartifactIdarchiva-applet              
        -Dversion.-alpha- -Dpackagingjar -Dfilepathtofile


      org.apache.maven.archivaarchiva-appletjar.-alpha-
",Bug
"Admin  Repositories the consumers need to identify and highlight Permanent  Mandatory consumers better. Some consumers are flagged on the compile time side as permanent aka mandatory and cannot be disabled.
The UI screens need to show this concept to the users.",Bug
"Unable to delete network proxies To replicate

. Click the Network Proxies link in the left navigation menu
. Click on the Delete Network Proxy link in the same row as the repositorys header
. Click the Delete button

Result Nothing happens, user stays at the same page.
Expected Result Network Proxies Administration page displayed, network proxy deleted
",Bug
"If .m does not exist when running the webapp for the first time, a folder "".m"" is created A path separator is just missing in the AbstractAppearanceActioncreateLocalRepository method.

I attached the patch. If you want, I can commit it IIRC, the maven permission groups have been collapsed to allow this.",Bug
"Browsing shows no information. When browsing, there is no information shown.",Bug
"background of the archiva logo is not transparent in repositories page - the grey shading seems to indicate some special property of a given repository when there are just two I presume it alternates. I dont think any alternate shading is needed in boxes of this size
- the background of the archiva logo is not transparent",Bug
"The Reports link gives an HTTP  Clicking the Reports link in the side navigation menu displays the following editedsnipped stacktrace 
HTTP ERROR 
RequestURIadminreports.action
Caused by javax.el.PropertyNotFoundException The class org.apache.maven.archiva.reporting.artifact.OldArtifactReport does not have the property groupId.
at javax.el.BeanELResolver.getBeanPropertyBeanELResolver.java
at javax.el.BeanELResolver.getValueBeanELResolver.java
at javax.el.CompositeELResolver.getValueCompositeELResolver.java
at com.sun.el.parser.AstValue.getValueAstValue.java
at com.sun.el.ValueExpressionImpl.getValueValueExpressionImpl.java
at org.apache.jasper.runtime.PageContextImpl.evaluateExpressionPageContextImpl.java
at org.apache.jsp.WEB_dINF.jsp.reports.reports_jsp._jspx_meth_c_forEach_org.apache.jsp.WEB_dINF.jsp.reports.reports_jsp
at org.apache.jsp.WEB_dINF.jsp.reports.reports_jsp._jspServiceorg.apache.jsp.WEB_dINF.jsp.reports.reports_jsp
at org.apache.jasper.runtime.HttpJspBase.serviceHttpJspBase.java
at javax.servlet.http.HttpServlet.serviceHttpServlet.java
at org.apache.jasper.servlet.JspServletWrapper.serviceJspServletWrapper.java",Bug
"Cant delete blacklistwhitelist pattern not sure if this only occurs when the form isnt complete - havent tested other scenarios

 add a proxy connector
 dont fill in fields
 add a blacklist pattern ""foo""
 attempt to delete ""foo"" from blacklist pattern

EXPECTED delete the blacklist pattern
ACTUAL nothing happens

Same applies to whitelist",Bug
"AddingEditing repositories doesnt have validation To replicate

A. Adding a repository
. Click the Repositories link in the left navigation menu
. Click the Add Repository link in the upper right part of the page
. Enter invalid values in Identifier, Name, Directory or URL, empty Strings
. Click the Add Repository button

Result Repositories Administration page is displayed, no repository is added
Expected Result Validation errors

B. Editing a repository
. Click the Repositories link in the left navigation menu
. Click the Edit Repository link in the same row as the repositorys header
. Enter invalid values in Name, Directory or URL, empty Strings and using default values for Type and Cron
. Click the Update Repository button

Result Repositories Administration page displayed, repository is updated
Expected Result Validation errors
",Bug
"Configuration page should display http proxy settings  When adding a proxied repository, there is a checkbox for Use HTTP Proxy.  Its not obvious where to go to set up the proxy.

The Configuration - Settings page only displays information about the index, it should also display the http proxy settings.

",Improvement
"ldap.config.mapper.attribute.user.filter using ldap not working correctly with commas. Redback i guess security system replace in a wrong way the key user id in ldap.config.mapper.attribute.user.filter property.

Using ldap.config.mapper.attribute.user.filterismemberofcnapps.archiva,ougroup,dcexample,dccom

Cases ldap query be like this
&objectClassSOME_STRUCTURAL_OCismemberofcnapps.archivauidadmin

The correct query, IMO, should be like this
&objectClassSOME_STRUCTURAL_OCismemberofcnapps.archiva,ougroup,dcexample,dccomuidadmin,

as I specified before.

SOME_STRUCTURA_OC may be something like this objectClassposixAccount, assembled using ldap.config.mapper.attribute.user.object.class property.
 
To solve workarounding the problem I had to hardcode all my ldap user mapping settings, in application.xml, like this

component
  roleorg.codehaus.plexus.redback.common.ldap.UserMapperrole
  role-hintldaprole-hint
  implementationorg.codehaus.plexus.redback.common.ldap.LdapUserMapperimplementation
  configuration
    email-attributeemailemail-attribute
    full-name-attributecnfull-name-attribute
    password-attributeuserPasswordpassword-attribute
    user-id-attributeuiduser-id-attribute
    user-base-dnoupeople,dcampliato,dccom,dcbruser-base-dn
    user-object-classposixAccountuser-object-class
    user-filterismemberofcnapps.archiva,ougroup,dcampliato,dccom,dcbruser-filter
  configuration
  requirements
    requirement
      roleorg.codehaus.plexus.redback.configuration.UserConfigurationrole
    requirement
  requirements
component

Thats another related link around the same problem
httpjira.codehaus.orgbrowseREDBACK-

Solved, but It just doesnt fix the problem.",Bug
"NPE when merging through XMLRPC In line  and  of AdministrationServiceImpl, were passing a null value for the metadataRepository which is why were getting an NPE when merging.",Bug
"Paths in JavaScript on repository scanning page get remapped incorrectly in CollabNets Lab Manager Though this is not a bug in Archiva, it is easily worked around without any negative effects.

When pages are rendered in Lab Manager, paths are rewritten httpstage.help.collab.netindex.jsptopicfaqcubit_siteadmin.html. However, this doesnt work even in the aggressive setting if the path is in JavaScript, which is the case in the Repository Scanning page.

The page could do with other improvements, however a quick workaround is to move the path into the function call in a onclick instead of the script.",Improvement
Message for successful merging should be shown as an info message instead of as a section heading See attached screen shot.,Bug
"monitor repository scanning progress currently its hard to tell where a repository scanning task is up to. Even though the percentage completion may not be easy to estimate, we can assess how many files have already been processed.",New_Feature
"Archiva http proxy connector does not seem to work when authentication required by proxy The proxy connector Ive setup does not grant me access to the outside world even though it should.

Steps to reproduce
. Make sure you are behind a firewall that requires you to use a proxy server and make sure the proxy server requires authentication.
. Install Archiva ..
. Enter proxy credentials in the Network Proxies section of archiva admin interface.  E.G.
 Identifier  	schwabproxy
 Protocol 	http
 Host 	        someproxyserver.schwab.com
 Port 	        
 Username 	nicholas.grabowski@schwab.com
 Password 	ÂÂÂÂÂÂÂÂ
. Configure a proxy connector to use your Network Proxies configuration;
 Network Proxy  schwabproxy
 Policies 	
 releases 	once
 checksum 	fix
 snapshots 	never
 cache-failures 	yes
 White List 	""""
. Attempt to download an artifact hosted in the maven repo
  httplocalhostarchivarepositoryinternalabbotabbot..abbot-...jar

Outcomes
Archiva UI
    HTTP ERROR 

    Problem accessing archivarepositoryinternalabbotabbot..abbot-...jar. Reason

        Unable to fetch artifact resource.

archiva.log with debug on
-- , btpool- DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Applying releases policy with once
-- , btpool- DEBUG org.apache.maven.archiva.policies.AbstractUpdatePolicy  - OK to update releases, local file does not exist.
-- , btpool- DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Applying snapshots policy with never
-- , btpool- DEBUG org.apache.maven.archiva.policies.AbstractUpdatePolicy  - OK to update, snapshot policy does not apply for non-snapshot versions.
-- , btpool- DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Applying cache-failures policy with yes
-- , btpool- DEBUG org.apache.maven.archiva.policies.CachedFailuresPolicy  - OK to fetch, check-failures detected no issues.
-- , btpool- DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Using network proxy myproxy.mycompany.com to connect to remote repository httprepo.maven.orgmaven; as user someusername@schwab.com
-- , btpool- DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Retrieving abbotabbot..abbot-...pom from Central Repository
-- , btpool- DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Applying propagate-errors policy with queue error
-- , btpool- DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Applying propagate-errors-on-update policy with artifact not already present
-- , btpool- WARN  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer error from repository ""central"" for artifact abbotabbot..pom, continuing to next repository. Error message Download failure on resource httprepo.maven.orgmavenabbotabbot..abbot-...pomError transferring file Server redirected too many  times  cause java.net.ProtocolException Server redirected too many  times 
-- , btpool- DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Full stack trace
org.apache.maven.archiva.proxy.ProxyException Download failure on resource httprepo.maven.orgmavenabbotabbot..abbot-...pomError transferring file Server redirected too many  times  cause java.net.ProtocolException Server redirected too many  times 
    at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferSimpleFileDefaultRepositoryProxyConnectors.java
    at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFileDefaultRepositoryProxyConnectors.java
    at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxiesDefaultRepositoryProxyConnectors.java
    at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.applyServerSideRelocationArchivaDavResourceFactory.java
    at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxiesArchivaDavResourceFactory.java
    at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.processRepositoryArchivaDavResourceFactory.java
    at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResourceArchivaDavResourceFactory.java
    at org.apache.maven.archiva.webdav.RepositoryServlet.serviceRepositoryServlet.java
    at javax.servlet.http.HttpServlet.serviceHttpServlet.java
    at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
    at org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
    at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
    at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternalCharacterEncodingFilter.java
    at org.springframework.web.filter.OncePerRequestFilter.doFilterOncePerRequestFilter.java
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
    at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
    at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
    at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
    at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
    at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
    at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
    at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
    at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
    at org.mortbay.jetty.Server.handleServer.java
    at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
    at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
    at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
    at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
    at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
    at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
    at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java
Caused by org.apache.maven.wagon.TransferFailedException Error transferring file Server redirected too many  times 
    at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputDataLightweightHttpWagon.java
    at org.apache.maven.wagon.StreamWagon.getInputStreamStreamWagon.java
    at org.apache.maven.wagon.StreamWagon.getIfNewerStreamWagon.java
    at org.apache.maven.wagon.StreamWagon.getStreamWagon.java
    at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferSimpleFileDefaultRepositoryProxyConnectors.java
    ...  more
Caused by java.net.ProtocolException Server redirected too many  times 
    at sun.reflect.NativeConstructorAccessorImpl.newInstanceNative Method
    at sun.reflect.NativeConstructorAccessorImpl.newInstanceNativeConstructorAccessorImpl.java
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstanceDelegatingConstructorAccessorImpl.java
    at java.lang.reflect.Constructor.newInstanceConstructor.java
    at sun.net.www.protocol.http.HttpURLConnection$.runHttpURLConnection.java
    at java.security.AccessController.doPrivilegedNative Method
    at sun.net.www.protocol.http.HttpURLConnection.getChainedExceptionHttpURLConnection.java
    at sun.net.www.protocol.http.HttpURLConnection.getInputStreamHttpURLConnection.java
    at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputDataLightweightHttpWagon.java
    ...  more
Caused by java.net.ProtocolException Server redirected too many  times 
    at sun.net.www.protocol.http.HttpURLConnection.getInputStreamHttpURLConnection.java
    at java.net.HttpURLConnection.getResponseCodeHttpURLConnection.java
    at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputDataLightweightHttpWagon.java
    ...  more
-- , btpool- DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Path abbotabbot..abbot-...pom is not part of defined whitelist skipping transfer from repository Java.net Repository for Maven .
-- , btpool- ERROR org.apache.maven.archiva.webdav.ArchivaDavResourceFactory  - Failures occurred downloading from some remote repositories
    central Download failure on resource httprepo.maven.orgmavenabbotabbot..abbot-...pomError transferring file Server redirected too many  times  cause java.net.ProtocolException Server redirected too many  times 
org.apache.maven.archiva.policies.ProxyDownloadException Failures occurred downloading from some remote repositories
    central Download failure on resource httprepo.maven.orgmavenabbotabbot..abbot-...pomError transferring file Server redirected too many  times  cause java.net.ProtocolException Server redirected too many  times 
    at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxiesDefaultRepositoryProxyConnectors.java
    at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.applyServerSideRelocationArchivaDavResourceFactory.java
    at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxiesArchivaDavResourceFactory.java
    at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.processRepositoryArchivaDavResourceFactory.java
    at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResourceArchivaDavResourceFactory.java
    at org.apache.maven.archiva.webdav.RepositoryServlet.serviceRepositoryServlet.java
    at javax.servlet.http.HttpServlet.serviceHttpServlet.java
    at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
    at org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
    at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
    at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternalCharacterEncodingFilter.java
    at org.springframework.web.filter.OncePerRequestFilter.doFilterOncePerRequestFilter.java
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
    at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
    at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
    at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
    at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
    at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
    at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
    at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
    at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
    at org.mortbay.jetty.Server.handleServer.java
    at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
    at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
    at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
    at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
    at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
    at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
    at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java
",Bug
Web services for repository merging or artifact promotion I think CRUD for managed repositories should be a pre-requisite of this.,New_Feature
"Suspicious  RepositoryMetadataMerge.clonePlugins The method RepositoryMetadataMerge.clonePlugins seems oddly wrong to me, it clones a plugin, but then doesnt use the clone, but uses the original

private static ListPlugin clonePluginsListPlugin plugins
    {
        if plugins  null
        {
            return null;
        }
        
        ListPlugin result  new ArrayListPlugin;
        
        for Plugin plugin  plugins
        {
            Plugin clonedPlugin  new Plugin;
            clonedPlugin.setArtifactIdplugin.getArtifactId;
            clonedPlugin.setNameplugin.getName;
            clonedPlugin.setPrefixplugin.getPrefix;
            result.addplugin;                                                                                      should this be clonedPlugin 
        }
        
        return result;
    }",Bug
"Exsiting Network Location Access for JAR files Hi,

I have one quick Question for you guys. 

I am having one issue to adopt Archiva and Maven. My company needs following features available with Archiva. I am trying to force my company to choose Archiva but they have one critical question for you guys. 


My company is looking for a tool, Which can provide existing network path location as Maven Local Repository. Example is as followed. 

Existing network Path  

CnetworkfolderErrorLogging.JavaErrorLogClient.jar

And my MAVEN repository should show-up path something like this. 

httplocalhostarchivabrowseErrorLogClientErrorLogClient.ErrorClient-..jar

Is there any work around for this, That Archiva can provide me  

The company has more then  products which is using something like this so we have to start with only  project for now. And for that there are so many dependency with each projects so we cant create a new network location and where we point as a MAVEN repository so i am looking for something which can provide me to use existing network path which actually has different kind of directory structure which is archiva is expecting at this moment. 

Can you please reply me as soon as possible. AS i need to figure it out can i choose Archiva for this or not  

Let me know if you are confused or not clear with my requirement. 

Thanks,
Daivish. 





",New_Feature
"Cpu usage  we use Archiva and we have problems with our cpu usage.
If i restart archiva everything is running fine. After - hours the
java process of archiva use  of the cpu from one to the next
moment. We had this problem on Archiva .. and ... On Archiva
.. it came after the - times where the db artefacts were updated.
The snapshot repository need  minutes. I deleted some snapshots.
Lasst week we updated it to .. and now i cant find something
important on log. On the last  usage problem i got a message from
nagios the usage of cpu is critcal at  oclock, but in the log i
found only this messages.

At the moment archiva .. is installed.


 Am .. , schrieb Brent Atkinson
  The screen with the red
  bar at , you need to select the thread and expand the bottom window. It
  should show the stack trace which will give us the location in the code
  where the cpu time is being consumed.

  Hi,
  i added  screenshots.
  Now  threads use many cpu.
  
  Jconsole-stack-trace.png and Jconsole-stack-trace.png is from btpool-
  and Jconsole-stack-trace.png from btpool-.
",Bug
Upgrade Atlassian XMLRPC Binder to . There a fix for multi-threading issue in Apache XMLRPC .. XMLRPC-|issues.apache.orgjirabrowseXMLRPC-. Version . of Atlassian XMLRPC Binder uses Apache XMLRPC ... ,Improvement
"Staging repo is not deleted when the managed repo it is attached to was removed To reproduce
 Create a managed repository and tick Create stage repository. The managed repo and a corresponding stage repo should be created in the file system.
 Delete the managed repository created in the previous step. Make sure to choose Delete Configuration and Contents. The managed repo would be removed in the file system but its attached staging repo is not.
",Bug
"LDAP authentication forces ""Change Password"" even upon authentication success I have a split configuration and for the life of me cannot figure out why Archiva is prompting users to change their passwords upon successful login.  I have set security.policy.password.expiration.enabledfalse to no avail.  I have made this change in the split conf area as well as in the security.properties AND security_en.properties under the ...WEB-INF... area.  Nothing seems to work.  The other values in the security.properties get picked up fine, so I can only assume this is a bug.

Please let me know what additional information would be useful.",Bug
"Enable DB caching Second level JDO caching should be enabled to prevent thousands of SQL queries just to login
",Improvement
"Do not show the artifact and its pom as separate items in the conflicting artifacts page when merging repos  See attached screenshot. The artifact should only be listed as one, maybe in a namespaceprojectproject-version format

This affects MRM- branch. ",Improvement
"Better Layout for Artifact Download Box The download box in Archiva behaves not well regarding following conerns
 box is too small, in any case with our namin conventions where artifacts may have up to  characters
 size is display in raw byte value, which is more confusion than useful when sizes become bigger
 when several artifacts for a given version, only distinguished by classifier, are deployed in repository, not clear hint is display to recognized them

I tried to improve this issues with folloowing changes
 enlarged box to px CSS and images
 display size in KB, MB, GB depending on effektive size
 added classifier next to type when available

Hope this path may be use fule for Archiva team and would be applied for one of the next maintenance releases.",Improvement
"maven-metadata.xml is not generated or updated  I just upgraded from .. to .. when this problem started to occur. Before archiva would generate the maven-metadata.xml through the web interface and using the ant task from ivy. Now neither generate the maven-metadata.xml file.

I also tried the repository scanner would to create the maven-metadata.xml, but it does not either metadata-updater is enabled.

",Bug
Ability to do user management through xmlrpc Redback already has an xmlrpc api we just need to expose them in Archiva,Improvement
"Slow proxy behavior with multiple proxies configured I am seeing an issue with the remote proxying code that looks like it can cause a significant amount of unnecessary network traffic if multiple remote proxies have been configured.

Here is an example of what is happening after enabling logging in org.apache.maven.archiva.proxy package

DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Retrieving orgapachemavensharedmaven-shared-io.maven-shared-io-..pom from Central Repository if updated
DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Artifact org.apache.maven.sharedmaven-shared-io.pom not updated on repository ""central"".
DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Path orgapachemavensharedmaven-shared-io.maven-shared-io-..pom is not part of defined whitelist skipping transfer from repository Java.net Repository for Maven .
DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Retrieving orgapachemavensharedmaven-shared-io.maven-shared-io-..pom from neoj-public-repository if updated
DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Artifact org.apache.maven.sharedmaven-shared-io.pom not found on repository ""neoj"".
DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Retrieving orgapachemavensharedmaven-shared-io.maven-shared-io-..pom from JBoss if updated
DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Artifact org.apache.maven.sharedmaven-shared-io.pom not found on repository ""jboss"".
DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Retrieving orgapachemavensharedmaven-shared-io.maven-shared-io-..pom from Codehaus Repository if updated
DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Artifact org.apache.maven.sharedmaven-shared-io.pom not found on repository ""codehaus"".
DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Exhausted all target repositories, artifact org.apache.maven.sharedmaven-shared-io.pom not found.

From the logs it appears that the first proxy repository returned that the resource is not out of date and exists on disk. However, this doesnt cause Archiva to stop looking for the repository - instead it looks for the ""found"" resource in all of the other repositories.

The code in question is the loop in fetchFromProxies in DefaultRepositoryProxyConnectors.java. I think it should return immediately after finding that the resource hasnt been modified on the first proxy it finds when catching NotModifiedException.",Improvement
"Repository Purge  Error  Invalid path to Artifact filename format is invalid,expected timestamp format in filename. Hi,
We were using Archiva . and the snapshots were not getting purged due to the Layout exception.
Recently we upgraded to .. and even then the repository purge is not happening due to the following error

Can you help us out here Its really a tough task to clean the repository without this purge option.

The configuration and the error message are as follows

Configuration
Identifier snapshots
Name Testing
Directory uxxx.mrepository
WebDAV URL httpxxxarchivarepositorysnapshots
Type Maven .x Repository
Releases Included
Snapshots Included
Delete Released Snapshots
Repository Purge By Days Older Than 
Repository Purge By Retention Count 
Scanned
Scanning Cron      

Error message -- , pool--thread- INFO org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer - Not processing path that is not an artifact abcdefSNAPSHOTdef-.-.jar Invalid path to Artifact filename format is invalid,expected timestamp format in filename.

Thanks,
Gayathri
",Bug
Ability to do user management through xmlrpc Redback already has an xmlrpc api we just need to expose them in Archiva,Improvement
"DB error during ""Database - Unprocessed Artifacts Scanning"" see error in the archiva.log everytime it executes ""Database - Unprocessed Artifacts Scanning"", can this error be ignored",Bug
"Add Implementation details to MANIFEST.MF in the produced war Could we please add the implementation information, derived from the pom into the manifest.mf file

Specifically, Im looking for Implementation-Version. This allows my deployment scripts to determine the version being installed.

",Improvement
"Archiva does not start up on Solaris -bit. Attempting to launch causes causes error
$ .apache-archiva-..binarchiva console

Bad string
Bad string
Bad string
Bad string
Unable to locate any of the following binaries
  exporthomeastineapache-archiva-..bin.wrapper---
  exporthomeastineapache-archiva-..bin.wrapper---
  exporthomeastineapache-archiva-..bin.wrapper


necessary files appear to be missing or misnamed.",Bug
"After some time running fails to handle any request --- returns   I have no idea whether its a redback or archiva issue. 

Ill be happy do debug it. Just tell me what do you need. 

javax.servlet.ServletException org.codehaus.plexus.redback.users.UserManagerException Unable to get object org.codehaus.plexus.redback.users.jdo.JdoUser, id guest, fetch-group null from jdo store.
	org.apache.struts.dispatcher.Dispatcher.serviceActionDispatcher.java
	org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	org.springframework.web.filter.CharacterEncodingFilter.doFilterInternalCharacterEncodingFilter.java
	org.springframework.web.filter.OncePerRequestFilter.doFilterOncePerRequestFilter.java

root cause

org.codehaus.plexus.redback.users.UserManagerException Unable to get object org.codehaus.plexus.redback.users.jdo.JdoUser, id guest, fetch-group null from jdo store.
	org.codehaus.plexus.redback.users.jdo.JdoUserManager.getObjectByIdJdoUserManager.java
	org.codehaus.plexus.redback.users.jdo.JdoUserManager.findUserJdoUserManager.java
	org.codehaus.plexus.redback.users.AbstractUserManager.getGuestUserAbstractUserManager.java
	org.codehaus.plexus.redback.users.cached.CachedUserManager.getGuestUserCachedUserManager.java
	org.codehaus.plexus.redback.users.cached.CachedUserManager.findUserCachedUserManager.java
	org.codehaus.plexus.redback.users.configurable.ConfigurableUserManager.findUserConfigurableUserManager.java
	org.apache.maven.archiva.security.DefaultUserRepositories.createSessionDefaultUserRepositories.java
	org.apache.maven.archiva.security.DefaultUserRepositories.getAccessibleRepositoryIdsDefaultUserRepositories.java
	org.apache.maven.archiva.security.DefaultUserRepositories.getObservableRepositoryIdsDefaultUserRepositories.java
	org.apache.maven.archiva.web.action.SearchAction.getObservableReposSearchAction.java
	org.apache.maven.archiva.web.action.SearchAction.prepareSearchAction.java
	com.opensymphony.xwork.interceptor.PrepareInterceptor.doInterceptPrepareInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.interceptor.ServletConfigInterceptor.interceptServletConfigInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AliasInterceptor.interceptAliasInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.struts.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.struts.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.impl.StrutsActionProxy.executeStrutsActionProxy.java
	org.apache.struts.dispatcher.Dispatcher.serviceActionDispatcher.java
	org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	org.springframework.web.filter.CharacterEncodingFilter.doFilterInternalCharacterEncodingFilter.java
	org.springframework.web.filter.OncePerRequestFilter.doFilterOncePerRequestFilter.java
",Bug
"Broken remote repository confuses Archiva I used to have this repository in archiva

ODF Release Repository
Identifier 	odf-snapshots
Name 	ODF Release Repository
URL 	httpodftoolkit.orgsvnodfdommavenrelease
Type 	Maven .x Repository

Since today when i started using archiva, though my third-party repository looks like this for ""jersey-server""

-rw-r--r--  archiva archiva   . Aug  jersey-server-..pom
-rw-r--r--  archiva archiva    . Aug  jersey-server-..pom.sha
-rw-r--r--  archiva archiva    . Aug  jersey-server-..pom.md
-rw-r--r--  archiva archiva   . Aug  jersey-server-..jar
-rw-r--r--  archiva archiva    . Aug  jersey-server-..jar.sha
-rw-r--r--  archiva archiva    . Aug  jersey-server-..jar.md

Both jar and pom look the same

admin@archivadataarchivadatarepositoriesthird-partycomsunjerseyjersey-server.$ cat jersey-server-..pom
!DOCTYPE HTML PUBLIC ""-IETFDTD HTML .EN""
htmlhead
title Foundtitle
headbody
hFoundh
pThe document has moved a href""svn.odftoolkit.orgsvnodfdommavenreleasecomsunjerseyjersey-server.jersey-server-..pom""herea.p
bodyhtml
!DOCTYPE HTML PUBLIC ""-IETFDTD HTML .EN""
htmlhead
admin@archivadataarchivadatarepositoriesthird-partycomsunjerseyjersey-server.$ cat jersey-server-..jar
title Foundtitle
headbody
hFoundh
pThe document has moved a href""svn.odftoolkit.orgsvnodfdommavenreleasecomsunjerseyjersey-server.jersey-server-..jar""herea.p
bodyhtml

This is weird. Why Archiva even consider this 

When i call by browser

- httpsvn.odftoolkit.orgsvnodfdommavenreleasecomsunjerseyjersey-server.jersey-server-..jar

I get a  redirect to 

- svn.odftoolkit.orgsvnodfdommavenreleasecomsunjerseyjersey-server.jersey-server-..jar

Which then result in a proper .

Is it possible, that Archiva does not consider redirects or it considers a  with a body as a proper object

In any way, i ended up now with lots of broken artifacts in my third-party repository -",Bug
"Property xmlns cannot be set! error during startup when using with IBM JDK Below is the stack trace provided by jieryn-w

{code}
-- , WrapperSimpleAppMain INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory  - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@fefe defining beans registrycommons-configuration,jdoFactoryarchiva,jdoFactoryusers,loggerManager,environmentChecklocked-admin-check,actiondisableProxyConnectorAction,actionsortProxyConnectorsAction,actionsearchAction,resolverFactoryInit,componentdownload-artifact,actiondeleteLegacyArtifactPathAction,actionbrowseAction,actionuploadAction,actionlegacyArtifactPathAction,actionaddLegacyArtifactPathAction,actionsortRepositoriesAction,actionaddProxyConnectorAction,securitySynchronization,actionconfigureNetworkProxyAction,actioneditProxyConnectorAction,actionrepositoriesAction,interceptorconfigurationInterceptor,actioneditRemoteRepositoryAction,actionshowArtifactAction,actioneditManagedRepositoryAction,actiondeleteManagedRepositoryAction,actionaddRemoteRepositoryAction,actionrepositoryScanningAction,actiondeleteArtifactAction,actionnetworkProxiesAction,actiongenerateReport,actionproxyConnectorsAction,actionschedulerAction,actionorganisationInfo,actionaddManagedRepositoryAction,actiondeleteRemoteRepositoryAction,actionviewAuditLogReport,actioneditOrganisationInfo,actionenableProxyConnectorAction,dependencyTree,actiondeleteProxyConnectorAction,actiondatabaseAction,actionrepositoryGroupsAction,actiondeleteRepositoryGroupAction,archetypeDataSourcenexus,nexusIndexer,indexCreatormin,indexCreatorjarContent,indexPacker,queryCreator,scanner,artifactContextProducer,searchEngine,indexerEngine,indexTreeView,indexUpdater,incrementalHandler,gavCalculatormaven,gavCalculatormaven,nexusEnforcer,velocityComponent,cachekeys,projectModelResolverdatabase,repositoryContentStatisticsDAOjdo,archivaAuditLogsDaojdo,projectModelDAOjdo,artifactDAOjdo,jdoAccessarchiva,repositoryProblemDAOjdo,databaseUpdaterjdo,archivaDAOjdo,repositoryBrowsing,projectModelResolutionListenermodel-to-db,repositoryListenerdatabase,dependencyGraphBuilderproject-model,taskQueuedatabase-update,taskQueueExecutordatabase-update,taskQueuerepository-scanning,taskQueueExecutorrepository-scanning,taskExecutorindexing,taskExecutorrepository-scanning,taskExecutordatabase-update,archivaTaskScheduler,taskQueueindexing,taskQueueExecutorindexing,cacheurl-failures-cache,preDownloadPolicyreleases,postDownloadPolicychecksum,preDownloadPolicysnapshots,downloadErrorPolicypropagate-errors-on-update,preDownloadPolicycache-failures,downloadErrorPolicypropagate-errors,archivaArtifactConsumerduplicate-artifacts,dynamicReportSourceold-snapshots,dynamicReportSourceduplicate-artifacts,archivaArtifactConsumervalidate-artifacts-location,dynamicReportSourceartifact-location,dynamicReportSourceold-artifacts,knownRepositoryContentConsumerauto-remove,knownRepositoryContentConsumermetadata-updater,knownRepositoryContentConsumerrepository-purge,knownRepositoryContentConsumervalidate-checksum,knownRepositoryContentConsumerauto-rename,reportingManager,repositoryStatisticsReportGeneratorsimple,wagonManager,repositoryMetadataManager,artifactTransformationsnapshot,artifactTransformationrelease,artifactTransformationlatest,artifactTransformationManager,artifactResolver,artifactInstaller,artifactDeployer,artifactRepositoryFactory,repositoryMetadataBuilder,cacheoperations,cachepermissions,cacheresources,cacheroles,cacheeffectiveRoleSet,cacheuserAssignments,cacheuserPermissions,wagonfile,interceptorredbackEnvironmentCheckInterceptor,actionInvocationTrackersimple,actionredback-admin-user-edit,actionredback-role-create,actionredback-admin-user-delete,interceptorredbackPolicyEnforcementInterceptor,actionredback-role-edit,actionredback-admin-console,actionredback-report,actionredback-role-model,actionredback-sysinfo,actionredback-account,actionredback-operations,interceptorredbackAutoLoginInterceptor,resultsecurityExternalResult,actionredback-password-reset,actionredback-login,actionredback-admin-user-create,interceptorredbackForceAdminUserInterceptor,actionredback-roles,actionredback-admin-user-list,interceptorredbackSecureActionInterceptor,actionredback-resources,actionredback-admin-account,actionredback-permissions,actionbackup-restore,environmentCheckExpectedStandardWebXworkActions,actionredback-logout,actionredback-assignments,actionredback-register,actionredback-redirect,actionredback-password,userSecurityPolicy,repositoryProxyConnectors,wagon,wagonhttp,rssFeedProcessornew-artifacts,rssFeedProcessornew-versions,rssFeedGenerator,artifactRepositoryLayout,artifactRepositoryLayoutlegacy,artifactHandlerManager,artifactHandlerejb,artifactHandlerjar,artifactHandlertest-jar,artifactHandlermaven-plugin,artifactHandlerpom,artifactHandlerjava-source,artifactHandlerjavadoc,artifactHandlerwar,artifactHandlerear,artifactHandlerejb-client,artifactHandlerrar,artifactHandlerpar,artifactHandlerejb,artifactFactory,artifactCollector,cacheusers,cacheeffective-project-cache,repositoryScanner,metadataTools,projectModelFilterexpression,managedRepositoryContent,auditListenerlogging,repositoryContentFactory,managedRepositoryContentlegacy,remoteRepositoryContent,projectModelFiltereffective,repositoryRequest,projectModelResolverFactory,pathParserlegacy,remoteRepositoryContentlegacy,cacheehcache,scheduler,mimeTypes,archivaDavResourceFactory,nexusIndexerarchiva,cacheBuilder,userRepositories,environmentCheckrequired-roles,servletAuthenticator,archivaConfiguration,fileTypes,checksumFile,digestersha,streamingDigestersha,streamingDigestermd,digestermd,databaseCleanupConsumernot-present-remove-db-project,databaseUnprocessedArtifactConsumerupdate-db-project,databaseCleanupConsumernot-present-remove-db-artifact,knownRepositoryContentConsumerupdate-db-artifact,oldArchetype,archetypeFilesResolver,pomManager,archetypeArtifactManager,archetypeRegistryManager,repositoryCrawler,filesetArchetypeGenerator,archetypeGenerator,archetypeDataSourceremote-catalog,archetypeDataSourcecatalog,archetypeDataSourceinternal-catalog,archetype,archetypeCreatorfileset,downloader,expressionSourceproperties,expressionSourcesysprops,expressionEvaluator,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,authenticationDataSourcetoken,authenticationDataSourcepassword,authenticationManager,authenticatorkeystore,authenticatoruser-manager,authenticatorldap,keyManagercached,databaseConsumers,ldapConnectionFactoryconfigurable,userMapperldap,indexerConsumer,indexCleanupConsumer,urlFailureCache,artifactMissingChecksumsConsumer,userConfiguration,dataManagementTooljdo,keyManagerjdo,rBACManagercached,rBACManagerjdo,jdoTool,wagonFactory,roleManager,roleModelValidator,roleTemplateProcessor,roleModelProcessor,userManagercached,repositoryContentConsumers,securitySystem,userManagerconfigurable,userValidationSettings,passwordEncodersha,passwordEncoderplaintext,passwordEncodersha,cookieSettingsrememberMe,cookieSettingssignon,passwordRuleno-whitespaces,passwordRulealpha-count,passwordRulealpha-numeric,passwordRulecharacter-length,passwordRulereuse,passwordRulenumerical-count,passwordRulemust-have,authorizerrbac,permissionEvaluator,nexusSearch,userManagerldap,defaultLdapController,userManagerjdo,httpAuthenticatorbasic,httpClientHeader,httpAuthenticatordigest,reportrolesmatrix-csv,reportManager,reportuserlist-csv,autoLoginCookies,environmentCheckguest-user-check,environmentCheckExpectedJsps,mailGeneratorvelocity,mailer,propertyPlaceholder,xmlRpcUserRepositories,pingService,searchService,administrationService,xmlrpcServicesList,xmlRpcAuthenticator,mailSession,mailSender; root of factory hierarchy
-- , WrapperSimpleAppMain ERROR org.springframework.web.context.ContextLoader  - Context initialization failed
org.springframework.beans.factory.BeanCreationException Error creating bean with name nexusSearch defined in URL jarfilehomejesseDownloadsapache-archiva-..appsarchivaWEB-INFlibarchiva-indexer-...jar!META-INFspring-context.xml Cannot resolve reference to bean archivaConfiguration while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name archivaConfiguration FactoryBean threw exception on object creation; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name registrycommons-configuration Post-processing of the FactoryBeans object failed; nested exception is org.springframework.beans.factory.BeanInitializationException Failed to invoke plexus lifecycle Initializable.initialize on registrycommons-configuration; nested exception is org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializationException org.apache.commons.configuration.ConfigurationRuntimeException org.apache.commons.configuration.ConfigurationRuntimeException Property xmlns cannot be set!
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReferenceBeanDefinitionValueResolver.java
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessaryBeanDefinitionValueResolver.java
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArgumentsConstructorResolver.java
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructorConstructorResolver.java
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructorAbstractAutowireCapableBeanFactory.java
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstanceAbstractAutowireCapableBeanFactory.java
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$.runAbstractAutowireCapableBeanFactory.java
	at java.security.AccessController.doPrivilegedAccessController.java
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
	at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletonsDefaultListableBeanFactory.java
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitializationAbstractApplicationContext.java
	at org.springframework.context.support.AbstractApplicationContext.refreshAbstractApplicationContext.java
	at org.springframework.web.context.ContextLoader.createWebApplicationContextContextLoader.java
	at org.springframework.web.context.ContextLoader.initWebApplicationContextContextLoader.java
	at org.springframework.web.context.ContextLoaderListener.contextInitializedContextLoaderListener.java
	at org.mortbay.jetty.handler.ContextHandler.startContextContextHandler.java
	at org.mortbay.jetty.servlet.Context.startContextContext.java
	at org.mortbay.jetty.webapp.WebAppContext.startContextWebAppContext.java
	at org.mortbay.jetty.handler.ContextHandler.doStartContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.doStartWebAppContext.java
	at org.mortbay.component.AbstractLifeCycle.startAbstractLifeCycle.java
	at org.mortbay.jetty.handler.HandlerCollection.doStartHandlerCollection.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.doStartContextHandlerCollection.java
	at org.mortbay.component.AbstractLifeCycle.startAbstractLifeCycle.java
	at org.mortbay.jetty.handler.HandlerCollection.doStartHandlerCollection.java
	at org.mortbay.component.AbstractLifeCycle.startAbstractLifeCycle.java
	at org.mortbay.jetty.handler.HandlerWrapper.doStartHandlerWrapper.java
	at org.mortbay.jetty.Server.doStartServer.java
	at org.mortbay.component.AbstractLifeCycle.startAbstractLifeCycle.java
	at org.mortbay.xml.XmlConfiguration.mainXmlConfiguration.java
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	at java.lang.reflect.Method.invokeMethod.java
	at org.mortbay.start.Main.invokeMainMain.java
	at org.mortbay.start.Main.startMain.java
	at org.mortbay.start.Main.startMain.java
	at org.mortbay.start.Main.mainMain.java
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	at java.lang.reflect.Method.invokeMethod.java
	at org.tanukisoftware.wrapper.WrapperSimpleApp.runWrapperSimpleApp.java
	at java.lang.Thread.runThread.java
Caused by 
org.springframework.beans.factory.BeanCreationException Error creating bean with name archivaConfiguration FactoryBean threw exception on object creation; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name registrycommons-configuration Post-processing of the FactoryBeans object failed; nested exception is org.springframework.beans.factory.BeanInitializationException Failed to invoke plexus lifecycle Initializable.initialize on registrycommons-configuration; nested exception is org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializationException org.apache.commons.configuration.ConfigurationRuntimeException org.apache.commons.configuration.ConfigurationRuntimeException Property xmlns cannot be set!
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$.runFactoryBeanRegistrySupport.java
	at java.security.AccessController.doPrivilegedAccessController.java
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBeanFactoryBeanRegistrySupport.java
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBeanFactoryBeanRegistrySupport.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstanceAbstractBeanFactory.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReferenceBeanDefinitionValueResolver.java
	...  more
Caused by 
org.springframework.beans.factory.BeanCreationException Error creating bean with name registrycommons-configuration Post-processing of the FactoryBeans object failed; nested exception is org.springframework.beans.factory.BeanInitializationException Failed to invoke plexus lifecycle Initializable.initialize on registrycommons-configuration; nested exception is org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializationException org.apache.commons.configuration.ConfigurationRuntimeException org.apache.commons.configuration.ConfigurationRuntimeException Property xmlns cannot be set!
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$.runFactoryBeanRegistrySupport.java
	at java.security.AccessController.doPrivilegedAccessController.java
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBeanFactoryBeanRegistrySupport.java
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBeanFactoryBeanRegistrySupport.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstanceAbstractBeanFactory.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
	at org.codehaus.plexus.spring.PlexusComponentFactoryBean.resolveRequirementPlexusComponentFactoryBean.java
	at org.codehaus.plexus.spring.PlexusComponentFactoryBean.createInstancePlexusComponentFactoryBean.java
	at org.codehaus.plexus.spring.PlexusComponentFactoryBean.getObjectPlexusComponentFactoryBean.java
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$.runFactoryBeanRegistrySupport.java
	...  more
Caused by 
org.springframework.beans.factory.BeanInitializationException Failed to invoke plexus lifecycle Initializable.initialize on registrycommons-configuration; nested exception is org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializationException org.apache.commons.configuration.ConfigurationRuntimeException org.apache.commons.configuration.ConfigurationRuntimeException Property xmlns cannot be set!
	at org.codehaus.plexus.spring.PlexusLifecycleBeanPostProcessor.postProcessAfterInitializationPlexusLifecycleBeanPostProcessor.java
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitializationAbstractAutowireCapableBeanFactory.java
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBeanAbstractAutowireCapableBeanFactory.java
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$.runFactoryBeanRegistrySupport.java
	...  more
Caused by 
org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializationException org.apache.commons.configuration.ConfigurationRuntimeException org.apache.commons.configuration.ConfigurationRuntimeException Property xmlns cannot be set!
	at org.codehaus.plexus.registry.commons.CommonsConfigurationRegistry.initializeCommonsConfigurationRegistry.java
	at org.codehaus.plexus.spring.PlexusLifecycleBeanPostProcessor.postProcessAfterInitializationPlexusLifecycleBeanPostProcessor.java
	...  more
Caused by 
org.apache.commons.configuration.ConfigurationException org.apache.commons.configuration.ConfigurationRuntimeException org.apache.commons.configuration.ConfigurationRuntimeException Property xmlns cannot be set!
	at org.apache.commons.configuration.DefaultConfigurationBuilder.createConfigurationAtDefaultConfigurationBuilder.java
	at org.apache.commons.configuration.DefaultConfigurationBuilder.initCombinedConfigurationDefaultConfigurationBuilder.java
	at org.apache.commons.configuration.DefaultConfigurationBuilder.getConfigurationDefaultConfigurationBuilder.java
	at org.codehaus.plexus.registry.commons.CommonsConfigurationRegistry.initializeCommonsConfigurationRegistry.java
	...  more
Caused by 
org.apache.commons.configuration.ConfigurationRuntimeException org.apache.commons.configuration.ConfigurationRuntimeException Property xmlns cannot be set!
	at org.apache.commons.configuration.beanutils.BeanHelper.createBeanBeanHelper.java
	at org.apache.commons.configuration.beanutils.BeanHelper.createBeanBeanHelper.java
	at org.apache.commons.configuration.beanutils.BeanHelper.createBeanBeanHelper.java
	at org.apache.commons.configuration.DefaultConfigurationBuilder.createConfigurationAtDefaultConfigurationBuilder.java
	...  more
Caused by 
org.apache.commons.configuration.ConfigurationRuntimeException Property xmlns cannot be set!
	at org.apache.commons.configuration.beanutils.BeanHelper.initPropertyBeanHelper.java
	at org.apache.commons.configuration.beanutils.BeanHelper.initBeanBeanHelper.java
	at org.apache.commons.configuration.beanutils.DefaultBeanFactory.initBeanInstanceDefaultBeanFactory.java
	at org.apache.commons.configuration.beanutils.DefaultBeanFactory.createBeanDefaultBeanFactory.java
	at org.apache.commons.configuration.DefaultConfigurationBuilder$ConfigurationProvider.getConfigurationDefaultConfigurationBuilder.java
	at org.apache.commons.configuration.DefaultConfigurationBuilder$ConfigurationBeanFactory.createBeanDefaultConfigurationBuilder.java
	at org.apache.commons.configuration.beanutils.BeanHelper.createBeanBeanHelper.java
	...  more
{code}",Bug
"create test-jar for consumers There are some parent test classes  that would be helpful to use when writing a consumer plugin.  It would be helpful if a test jar  was created with the -sources and -javadoc by maven.

Below is a sample that could be put into a parent pom.
{codexml} 
  build
    plugins
      plugin
        groupIdorg.apache.maven.pluginsgroupId
        artifactIdmaven-jar-pluginartifactId
        executions
          execution
            goals
              goaltest-jargoal
            goals
          execution
        executions
      plugin
    plugins
  build
{code} 

 httparchiva.apache.orgref..xref-testorgapachemavenarchivaconsumerscorerepositoryAbstractRepositoryPurgeTest.html
 httpmaven.apache.orgpluginsmaven-jar-plugintest-jar-mojo.html",Improvement
"Proxying of xml files from one archiva server to another fails, when jar files succeed This is what i did,

 Downloaded archiva .. standalone, and unzipped it into two directories called local and remote.

 Edited the jetty.xml file of the remote directory install to use port 

 Started both archivas

 On archiva in remote dir  added a remote repository thru the gui that had this information

    Identifier proxy
    Name Proxy of Local
    URL httplocalhostarchivarepositoryinternal
    UserName as defined
    Password as defined
    Timeout in Seconds 
    Type Maven .x repository

 On archiva in remote dir  added a proxy connector thru the gui that had this information

    Network Proxy direct connection
    Managed Repository internal
    Remote Repository proxy
    all other settings defaulted

 On archiva in local dir  uploaded an artifact thru the gui that had this information

    Group Id com.mebigfatguy
    Artifact Id fb-contrib
    Version ..
    Packaging jar
    Classifier blank
    Generate Maven  POM checked
    Artifact file fb-contrib.jar
    Repository Id internal

    and submitted it.

 Next brought up firefox and entered url for the archiva in the remote dir 

    httplocalhostarchivarepositoryinternalcommebigfatguyfb-contrib..fb-contrib-...xml httplocalhostarchivarepositoryinternalcommebigfatguyfb-contrib..fb-contrib-...xml

    and file is successfully downloaded

 On archiva in local dir  uploaded an artifact thru the gui that had this information

    Group Id com.mebigfatguy
    Artifact Id build
    Version ..
    Packaging xml
    Classifier blank
    Generate Maven  POM checked
    Artifact file build.xml
    Repository Id internal

    and submitted it.

 Next brought up firefox and entered url for the archiva in the local dir 

    httplocalhostarchivarepositoryinternalcommebigfatguybuild..build-...xml httplocalhostarchivarepositoryinternalcommebigfatguyfb-contrib..fb-contrib-...xml

    and the file is successfully downloaded

 Next brought up firefox and entered url for the archiva in the remote dir 

    httplocalhostarchivarepositoryinternalcommebigfatguybuild..build-...xml httplocalhostarchivarepositoryinternalcommebigfatguyfb-contrib..fb-contrib-...xml

    Artifact is not downloaded and get this error page


        HTTP ERROR 

    Problem accessing archivarepositoryinternalcommebigfatguybuild..build-...xml. Reason

        Resource does not exist

------------------------------------------------------------------------
Powered by Jetty
",Bug
"@Override are on interface methods which is only possible in java  @Override is on consumers methods that are from an interface.  This wont compile under java , only java .  Since the projects compiler plugin ""source"" version is set to java , I assume that this is a bug.",Bug
"OSGi Bundle support OBR repositories Add RFC- compliant OSGi Bundle Repository OBR support with the following feature set
 - Provide the ability to natively house OSGi bundles ie deployed from Felix maven plugin
 - Ability to create virtual OBR repositories that will scan existing traditional maven repos, extract necessary metadata, and proxy requests
 - Ability to create virtual OBR repositories that will proxy local and remote OBR repositories
 - Add web interfaces for managing OBR repositories

",Improvement
"Blacklisting doesnt remove artifacts that were previously proxied When using the remote proxy support, I found that updating proxies to add blacklisted items didnt trigger any sort of update of the metadata in the repository. I was expecting that any references to metadata or previously downloaded artifacts from the blacklisted portion of the repository would be removed.

For example, create two remote repositories - one for Maven central and one for JBoss public. Then run mvn archetypegenerate against Archiva. It will download the archetype plug-in metadata from both central and JBoss JBoss has SNAPSHOT versions.

Then configure a blacklist of orgapachemaven on the JBoss repository.

Expected behavior
 Metadata should be rebuilt to remove any references to artifacts in the blacklisted portion of the JBoss repository.

Actual behavior
 Metadata remains for the blacklisted paths.

The only way I could determine how to fix this was to remove this portion of Archiva and manually trigger a re-indexing of the repository.",New_Feature
"Build Error while building archiva-webapp module When trying to build archiva-webapp module I got this error also tried maven .. with same result

Exception in thread ""main"" java.lang.AssertionError
        at org.codehaus.plexus.metadata.ClassComponentDescriptorExtractor.extractClassComponentDescriptorExtractor.java
        at org.codehaus.plexus.metadata.DefaultMetadataGenerator.generateDescriptorDefaultMetadataGenerator.java
        at org.codehaus.plexus.maven.plugin.PlexusDescriptorMojo.executePlexusDescriptorMojo.java
        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojoDefaultBuildPluginManager.java
        at org.apache.maven.lifecycle.internal.MojoExecutor.executeMojoExecutor.java
        at org.apache.maven.lifecycle.internal.MojoExecutor.executeMojoExecutor.java
        at org.apache.maven.lifecycle.internal.MojoExecutor.executeMojoExecutor.java
        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProjectLifecycleModuleBuilder.java
        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProjectLifecycleModuleBuilder.java
        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuildLifecycleStarter.java
        at org.apache.maven.lifecycle.internal.LifecycleStarter.executeLifecycleStarter.java
        at org.apache.maven.DefaultMaven.doExecuteDefaultMaven.java
        at org.apache.maven.DefaultMaven.executeDefaultMaven.java
        at org.apache.maven.cli.MavenCli.executeMavenCli.java
        at org.apache.maven.cli.MavenCli.doMainMavenCli.java
        at org.apache.maven.cli.MavenCli.mainMavenCli.java
        at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
        at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
        at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
        at java.lang.reflect.Method.invokeMethod.java
        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhancedLauncher.java
        at org.codehaus.plexus.classworlds.launcher.Launcher.launchLauncher.java
        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCodeLauncher.java
        at org.codehaus.plexus.classworlds.launcher.Launcher.mainLauncher.java

Upgrading maven plugin org.codehaus.plexusplexus-component-metadata.-beta-.. to org.codehaus.plexusplexus-component-metadata.-beta-.. resolved this issue.
",Bug
"Archiva reaches fd limit and keeps complaining of too many open files Let me start by saying that I looked at MRM- but it seems to be a different problem because there they say that the accumulating file descriptors were sockets and here they are index files.

Being more specific, our Archiva is accumulating several open file descriptors to already deleted files. In less than one hour it can accumulate as much as  such file descriptors, quickly reaching the process file descriptor limit which we already increaded from K to K in an attempt to delay the problem.

This are the kind of descriptors Im talking about

{noformat}
 lsof -p |grep -F .cfs deleted|head
java     root  u   REG       ,      lhomearchivadssodatarepositoriesinternalinhousesnapshots.indexer_tkvx.cfs deleted
java     root  u   REG       ,      lhomearchivadssodatarepositoriesinternalinhousesnapshots.indexer_tkw.cfs deleted
java     root  u   REG       ,      lhomearchivadssodatarepositoriesinternalinhousesnapshots.indexer_tkw.cfs deleted
java     root  u   REG       ,      lhomearchivadssodatarepositoriesinternalinhousesnapshots.indexer_tkw.cfs deleted
java     root  u   REG       ,      lhomearchivadssodatarepositoriesinternalinhousesnapshots.indexer_tkv.cfs deleted
java     root  r   REG       ,      lhomearchivadssodatarepositoriesinternalinhousesnapshots.indexer_tkw.cfs deleted
java     root  u   REG       ,      lhomearchivadssodatarepositoriesinternalinhousesnapshots.indexer_tkw.cfs deleted
java     root  u   REG       ,      lhomearchivadssodatarepositoriesinternalinhousesnapshots.indexer_tkv.cfs deleted
java     root  u   REG       ,      lhomearchivadssodatarepositoriesinternalinhousesnapshots.indexer_tkw.cfs deleted
java     root  u   REG       ,      lhomearchivadssodatarepositoriesinternalinhousesnapshots.indexer_tkvl.cfs deleted

 lsof -p |grep -c -F .cfs deleted

{noformat}

",Bug
project information is missing if a POM could not be read correctly see screen shot attached.,Bug
"repository statistics collection can cause server to hang at the end of a repository scan, repository statics are collected before being stored in the database. This also happens to be the trigger before an initial scan can be deemed completed.

on a large repository, this can often hang due to the statistics attempting to load every artifact into memory to count them.",Bug
"CSRF vulnerability - Archiva doesnt check which form sends credentials As reported by Anatolia Security Research Group, Apache Archiva doesnt check which form sends credentials. An attacker can create a specially crafted page and force archiva administrators to view it and change their credentials.

Vulnerability reference key CVE-- Apache Archiva CSRF Vulnerability",Bug
Storing Maven sites in archiva see cwiki.apache.orgconfluencedisplayARCHIVAStoringMavensitesinArchiva,New_Feature
"Runnable war  be able to simply run archiva trough 
{code}
java -jar archiva.war
{code}
use embedded tomcat from tomcat .x ",New_Feature
"patch fix up useless boxing issues Code boxesunboxes values for no reason, code cleans these up.",Bug
Review metadata storage see wiki page cwiki.apache.orgconfluencedisplayARCHIVAMetadatastorage,New_Feature
patch better map handling code does map lookups in loops needlessly. patch switches to using the right iterator.,Improvement
"Unable to add a proxy connector See attached screen shot for errors encountered when trying to create a new proxy connector.

This was found in trunk -r.",Bug
"system status page While there are some individual issues filed for better contextual display of system status, itd be good to have a page that aggregates some of the important information that is useful for troubleshooting.

For example
- memory usage
- queue sizes
- caches",New_Feature
"Archiva browse urls are very slow We are running Archiva behind a proxy and getting  Proxy Error Reason Error reading from remote server quite often on ...browse... urls.

Accessing Archiva directly on port  results in the page eventually loading, but it takes more than five minutes which causes the proxy to time out.

While browse is slow, ...repositoryxxx... urls continue to respond quickly so Maven builds are not affected.",Bug
use new UI web framework  replace struts with a new web framework plain jshtml application,New_Feature
"Metadata is not merged with the metadata in the target repo when merging two repositories If you merge the staging repo to the managed repo it is attached to, notice that there are no metadata files merged nor updated from the staging repo to the target repository.",Bug
"Archiva Repostories Index is dissapearing with no reason After I migrated from Archiva .. to Archiva .. the repositories that already existed on my previous installation of Archiva are dissapearing from the Archiva browser index.

Everyday I need to do a re-scan of the repositories to have the repositories and artifacts listed again.

I have looked at the logs at the same time the repositories are been erased from the index but there is no output there.

I have also tried to identify if there is a cronjob or something that causes this behavior but havent find anything and also the time when this happens is random.

Please Help.

Thanks",Bug
"maven configuration to be able to run tomcatrun Id like to be able to use the tomcat-maven-plugin while hacking on Archiva.
With patch and maven  and from the top of the project, it will be possible to use  
{code}
mvn tomcatrun -Pdev
{code}
And this without installing all jars, the plugin will see artifacts in reactor and add it to the webapp classloader.",Improvement
OBR Repository capability See if some part of ace project can be reused,New_Feature
"Build Error while building archiva-webapp module I tried to build archiva-webapp module from sources, but ended with this error

Exception in thread ""main"" java.lang.AssertionError
        at org.codehaus.plexus.metadata.ClassComponentDescriptorExtractor.extractClassComponentDescriptorExtractor.java
        at org.codehaus.plexus.metadata.DefaultMetadataGenerator.generateDescriptorDefaultMetadataGenerator.java
        at org.codehaus.plexus.maven.plugin.PlexusDescriptorMojo.executePlexusDescriptorMojo.java
        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojoDefaultBuildPluginManager.java
        at org.apache.maven.lifecycle.internal.MojoExecutor.executeMojoExecutor.java
        at org.apache.maven.lifecycle.internal.MojoExecutor.executeMojoExecutor.java
        at org.apache.maven.lifecycle.internal.MojoExecutor.executeMojoExecutor.java
        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProjectLifecycleModuleBuilder.java
        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProjectLifecycleModuleBuilder.java
        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuildLifecycleStarter.java
        at org.apache.maven.lifecycle.internal.LifecycleStarter.executeLifecycleStarter.java
        at org.apache.maven.DefaultMaven.doExecuteDefaultMaven.java
        at org.apache.maven.DefaultMaven.executeDefaultMaven.java
        at org.apache.maven.cli.MavenCli.executeMavenCli.java
        at org.apache.maven.cli.MavenCli.doMainMavenCli.java
        at org.apache.maven.cli.MavenCli.mainMavenCli.java
        at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
        at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
        at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
        at java.lang.reflect.Method.invokeMethod.java
        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhancedLauncher.java
        at org.codehaus.plexus.classworlds.launcher.Launcher.launchLauncher.java
        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCodeLauncher.java
        at org.codehaus.plexus.classworlds.launcher.Launcher.mainLauncher.javaUpgrading dependency 

plexus-component-metadata from .-beta-.. to .-beta-.. semas to solve this issue.",Bug
"upload action may not always create a checksum the upload interface is expected to create checksums for the POM and artifact. However, if the artifact is not in the artifacts list repository scanning, and the create-missing-checksums consumer is enabled, then the checksum will not be created for the new artifact.

The action should create the checksums if this is the case.

It may be best for the upload form to validate the type against the list of artifacts to avoid any confusion as well.",Bug
review packaging to propose tomcat rather than jetty The distribution can be switched to use tomcat .x rather than jetty,New_Feature
upgrade to maven-indexer the indexer has been imported to maven-indexer now and released. We should update from the version we are using.,Improvement
"Archiva .. does not run on Java .. System requirement for Archiva .. is according httparchiva.apache.orgdownload.html Java .., but it does not run, because some classes require Java  runtime

{noformat}
$ apache-archiva-..bin  .archiva console
Running Apache Archiva...
wrapper  | -- Wrapper Started as Console
wrapper  | Launching a JVM...
jvm     | Wrapper Version .. httpwrapper.tanukisoftware.org
jvm     |   Copyright - Tanuki Software, Inc.  All Rights Reserved.
jvm     | 
jvm     | 
jvm     | WrapperSimpleApp Encountered an error running main java.lang.UnsupportedClassVersionError orgapachejasperservletJspServlet Unsupported major.minor version .
jvm     | java.lang.UnsupportedClassVersionError orgapachejasperservletJspServlet Unsupported major.minor version .
jvm     |      at java.lang.ClassLoader.defineClassNative Method
jvm     |      at java.lang.ClassLoader.defineClassClassLoader.java
jvm     |      at java.security.SecureClassLoader.defineClassSecureClassLoader.java
jvm     |      at java.net.URLClassLoader.defineClassURLClassLoader.java
jvm     |      at java.net.URLClassLoader.access$URLClassLoader.java
jvm     |      at java.net.URLClassLoader$.runURLClassLoader.java
jvm     |      at java.security.AccessController.doPrivilegedNative Method
jvm     |      at java.net.URLClassLoader.findClassURLClassLoader.java
jvm     |      at java.lang.ClassLoader.loadClassClassLoader.java
jvm     |      at sun.misc.Launcher$AppClassLoader.loadClassLauncher.java
jvm     |      at java.lang.ClassLoader.loadClassClassLoader.java
jvm     |      at java.lang.ClassLoader.loadClassInternalClassLoader.java
jvm     |      at java.lang.Class.forNameNative Method
jvm     |      at java.lang.Class.forNameClass.java
jvm     |      at org.mortbay.start.Main.isAvailableMain.java
jvm     |      at org.mortbay.start.Main.configureMain.java
jvm     |      at org.mortbay.start.Main.initMain.java
jvm     |      at org.mortbay.start.Main.startMain.java
jvm     |      at org.mortbay.start.Main.mainMain.java
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
jvm     |      at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
jvm     |      at java.lang.reflect.Method.invokeMethod.java
jvm     |      at org.tanukisoftware.wrapper.WrapperSimpleApp.runWrapperSimpleApp.java
jvm     |      at java.lang.Thread.runThread.java
wrapper  | on_exit trigger matched.  Restarting the JVM.  Exit code 
{noformat}",Bug
"Using Archiva as proxy for downloading artifacts is very slow when used with LDAP authentication Ran {{mvn clean install}} on a local checkout of {{Archiva Parent}} project
 LDAP, clean local repo and clean proxy repo hr
 LDAP, clean local repo and populated proxy repo mins
 database, clean local repo and clean proxy repo mins
 database, clean local repo and populated proxy repo s

I removed any {{Repository Observer}} role access for the guest account btw, so all artifact requests go through authentication.

When configured with LDAP, the build hanged at times and I had to cancel it. I noticed this happens when theres a problem connecting to the LDAP server. I saw the following error in the Archiva logs

{code}
-- , btpool- WARN  org.codehaus.plexus.redback.authentication.ldap.LdapBindAuthenticator  - failed to get a ldap connection Could not connect to the server.
org.codehaus.plexus.redback.common.ldap.connection.LdapException Could not connect to the server. Root exception is javax.naming.CommunicationException myldap.server.hostPORT Root exception is java.net.ConnectException Connection refused
	at org.codehaus.plexus.redback.common.ldap.connection.LdapConnection.initLdapConnection.java
	at org.codehaus.plexus.redback.common.ldap.connection.ConfigurableLdapConnectionFactory.getConnectionConfigurableLdapConnectionFactory.java
	at org.codehaus.plexus.redback.authentication.ldap.LdapBindAuthenticator.getLdapConnectionLdapBindAuthenticator.java
	at org.codehaus.plexus.redback.authentication.ldap.LdapBindAuthenticator.authenticateLdapBindAuthenticator.java
	at org.codehaus.plexus.redback.authentication.DefaultAuthenticationManager.authenticateDefaultAuthenticationManager.java
	at org.codehaus.plexus.redback.system.DefaultSecuritySystem.authenticateDefaultSecuritySystem.java
	at org.codehaus.redback.integration.filter.authentication.HttpAuthenticator.authenticateHttpAuthenticator.java
	at org.codehaus.redback.integration.filter.authentication.basic.HttpBasicAuthentication.getAuthenticationResultHttpBasicAuthentication.java
	at org.apache.maven.archiva.webdav.ArchivaDavSessionProvider.attachSessionArchivaDavSessionProvider.java
	at org.apache.maven.archiva.webdav.RepositoryServlet.serviceRepositoryServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.apache.struts.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilterStrutsPrepareAndExecuteFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilterSiteMeshFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternalCharacterEncodingFilter.java
	at org.springframework.web.filter.OncePerRequestFilter.doFilterOncePerRequestFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.mortbay.jetty.Server.handleServer.java
	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
	at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
	at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
	at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
	at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java
Caused by javax.naming.CommunicationException myldap.server.hostPORT Root exception is java.net.ConnectException Connection refused
	at com.sun.jndi.ldap.Connection.initConnection.java
	at com.sun.jndi.ldap.LdapClient.initLdapClient.java
	at com.sun.jndi.ldap.LdapClient.getInstanceLdapClient.java
	at com.sun.jndi.ldap.LdapCtx.connectLdapCtx.java
	at com.sun.jndi.ldap.LdapCtx.initLdapCtx.java
	at com.sun.jndi.ldap.LdapCtxFactory.getUsingURLLdapCtxFactory.java
	at com.sun.jndi.ldap.LdapCtxFactory.getUsingURLsLdapCtxFactory.java
	at com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstanceLdapCtxFactory.java
	at com.sun.jndi.ldap.LdapCtxFactory.getInitialContextLdapCtxFactory.java
	at org.codehaus.plexus.redback.common.ldap.connection.LdapConnection.initLdapConnection.java
	...  more
Caused by java.net.ConnectException Connection refused
	at java.net.PlainSocketImpl.socketConnectNative Method
	at java.net.PlainSocketImpl.doConnectPlainSocketImpl.java
	at java.net.PlainSocketImpl.connectToAddressPlainSocketImpl.java
	at java.net.PlainSocketImpl.connectPlainSocketImpl.java
	at java.net.SocksSocketImpl.connectSocksSocketImpl.java
	at java.net.Socket.connectSocket.java
	at java.net.Socket.connectSocket.java
	at java.net.Socket.initSocket.java
	at java.net.Socket.initSocket.java
	at com.sun.jndi.ldap.Connection.createSocketConnection.java
	at com.sun.jndi.ldap.Connection.initConnection.java
	...  more
{code}",Bug
Search for classifier Advanced search should also support classifier as possible search criteria.,New_Feature
"remove use of plexus-spring  remove all use of plexus annotations to @Inject annotations.
and dont use anymore plexus-spring.
done in redback",Improvement
"Ability to add a repository relative to Archivas appserver.base without knowing its filesystem location When adding a managed repository, I should be able to set the location to ${appserver.base}datarepositorytest-repo.",Improvement
"ensure that all html form inputs have proper labels with them There are a few places that do not have html labels on the forms.  This makes it harder to select choices in the case of checkboxes or radio buttons.

Some examples
addProxyConnector.action - the policy dropdowns
repositories.action - ""Process All Artifacts"" checkbox text
repositoryGroups.action - ""Identifier"" add groupd
repositoryScanning.action - the checkboxes for the ""Repository Scanning - Consumers of Known Content""
index.action - all fields on the search and advanced search
queryAuditLogReport.action - all fields",Improvement
"Delete repositories gracefully When deleting a repositories encountered a locked file or an nfs file, it should skip it and proceed to deleting the rest of the file instead of throwing an IOException immediately.",Improvement
Specified key was too long error during startup when using MySQL databases with UTF charset Related to httpbugs.mysql.combug.phpid and httpjira.codehaus.orgbrowseCONTINUUM-,Bug
"Upgrade maven plugin versions at least compiler plugin to be able to fork tru cli on windauze env compilation can fail.
So I need to use -Dmaven.compiler.forktrue which is not available in the current plugin version.",Improvement
The repository specified in the audit logs report for artifact promotionrepo merging events should be the target repository instead of the staging repository This affects MRM- branch.,Bug
"Broken links on httparchiva.apache.orgmail-lists.html httparchiva.apache.orgmail-lists.html contains a number of links to Mailing list archives.
Those from Nabble are broken.

The archive currently only exists on Old Nabble and the links are

httpold.nabble.comarchiva-users-f.html
httpold.nabble.comarchiva-dev-f.html
httpold.nabble.comArchiva---Issues-f.html

respectively.

Would have added a patch, if I new where the source is..",Improvement
"Add basic managed repository management support on adding repository, deleting repository, and loading repository by id Add basic managed repository management support like adding repository, deleting repository, and loading repository by id.

The add repository can take the following parameters 

repository id
layout
repository name
location
block redeployment flag
releases included flag
snapshot included flag
cron refresh expression

deleting and loading a repository can take repository id as parameter.


 ",New_Feature
"Add proxy connector is broken ""id"" attribute for ""property"" tag is no longer available in struts-core ....

In the attached patch, the id attribute was just removed and did not encounter a problem doing so.

Also attached a selenium script to add a proxy connector.",Bug
"Error  when trying to merge artifacts from staging-repo to a remote repository using maven-stage-plugins stagecopy I tried merging the artifacts by running the ff command

mvn stagecopy -Dsource""httpvmbuild.apache.orgarchivarepositorystaged-npanday"" 
-Dtarget""scpapadilla@people.apache.orgwwwpeople.apache.orgrepom-ibiblio-rsync-repository"" -Dversion.-incubating DrepositoryIdapache.releases

but got this error
INFO Downloading file from the source repository
npandaynpanday-project.-incubatingnpanday-project-.-incubating-src.tar.bz.asc
INFO
------------------------------------------------------------------------
ERROR BUILD ERROR
INFO
------------------------------------------------------------------------
INFO Error copying repository from
httpvmbuild.apache.orgarchivarepositorystaged-npanday to
scpapadilla@people.apache.orgwwwpeople.apache.orgrepom-ibiblio-rsync-repository
Embedded error Unable to locate resource in repository
httpvmbuild.apache.orgarchivarepositorystaged-npandaynpandaynpanday-project.-incubatingnpanday-project-.-incubating-src.tar.bz.asc

Got the same error when accessing the resource directly in the browser

HTTP ERROR 
Problem accessing
archivarepositorystaged-npandaynpandaynpanday-project.-incubatingnpanday-project-.-incubating-src.tar.bz.
Reason
     Resource does not exist
",Bug
"Archiva migration Hi, 
i would migrate apache archiva from old server-A  to new server-B.
for that i am going to install archiva on new server-B
i am new to this tool. please belwo details for the  succesfull migration, 
what are the data need to move from old server to new serverfrom where and waht
let me know the steps also
Regards,
sekar",Improvement
"Remote connections for many repos exhausts proxy limits Our Archiva installation uses a company-internal caching proxy ISA Server to connect to remote repositories.

When there are many remote repositories and many developers trying to look up artifacts existing and non-existing artifacts, e.g. often -sources and -javadoc attachments, Archiva is creating many HTTP connections to the remote repositories.

This leads to a situation where the caching proxy thinks Archiva is creating too many connections. The ISA warning mail even suggests the host computer may be infected with a worm because it creates so many new connections and blocks the host completely for all outgoing HTTP requests.

The policies for the remote repositories are configured for retrieving ""once"", ""never"" or ""daily"", depending on whether its releases or snapshots. Caching failures is disabled and im trying with enabled failure caching, but it doesnt make much difference and the problem still occurs once in a while.

I think Archiva should have a configurable way to limit the number of new connections made per time unit, e.g. ""max  connections  minute"" to prevent this. Its kind of a potential denial of service vulnerability.


",New_Feature
"An empty ""Error Occurred"" page is displayed when attempting to merge a staging repo containing an artifact with a classifier Artifacts including the one with a classifier are still merged though. No errors are shown in the archiva logs. ",Bug
"classifier  extension combinations containing multiple . place the extra part in the classifier Consider the following examples
 archiva-jetty-..-bin.tar.gz
 archiva-dump-...xml.zip
 archiva-dump-..-users.xml.zip

Currently, the following classifier  type mappings are derived
 bin  distribution-tgz
 none  xml.zip
 users.xml  zip

The first and second examples would indicate additional . parts should be considered as part of the extension, not the classifier. However, the opposite is true except for tar.gz which is special cased.

It would be more intuitive to reverse this behaviour, especially since Archiva . doesnt use the distribution-tgz special case on Maven  repositories and considers the type as ""tar.gz"" which is currently showing as -bin.tar  .gz instead",Improvement
"when we dele a shapshot version ,archiva metadata  repository is not properly updating properly Steps to reproduce

. upload a snap shpt version through archiva web Ui
. delete it using archiva web 
. then once we execute a getArtifact method id metadata repository it will return the deleted artifact as well.",Bug
"patch make sure streams get closed closes stream when done with it, also throws IOException if stream could t be loaded, rather than NullPointerException.",Improvement
"improve indexing performance weve observed when indexing a large repository, that over time a large number of index requests fill up the queue, consuming both memory and disk processing. If there is not enough memory allocated, the server can eventually restart, and the indexing will not complete, meaning the queue will fill up again on restart.

This is not a memory leak - if the queue completes all operates as normal. The problem is the queue not being processed quickly enough.",Improvement
"Web services for editing a managed repository Currently, we only have web services for add, delete and retrieve of managed repositories.

This should also show up in the audit events and audit log report, and must be indicated that it was done remotely.",New_Feature
"ShowArtifactActionTest makes invalid comma separator assumptions ShowArtifactAction creates the human readable size as DecimalFormat"",."". The problem is that the . dot in the format not really represents a dot, but the decimal symbol of the respective Locale. Thus over here in Austria, I get "", K"" instead of the assumed "". K"" which makes the tests fail.

Solution either fix the test of explicitely use DecimalFormatSymbols.",Bug
"Set welcome page in web.xml Could we please set a welcome page entry in web.xml, one that points to index.action

IBM WebSphere does not default to anything, so I need to manually specify serverindex.action each and every time. 

-Chris
",Improvement
"Repository purge options for released artifacts to improve usability of Search and Browse functions We work in a sort of agile way with very frequent releases. Our release repository currently has a file count of , total of jar, javadoc, and source artifacts.

Most of these releases are actually obsolete and have long been superseded by more recent releases.
To my knowledge there is not currently a way in Archiva to purge released artifacts if not one by one or by manipulating the databasefile system.

The repository management screens in Archiva offer a boolean option to ""Delete Released Snapshots"". It would be very useful to have a repository purge options that applies to obsolete releases such as ""Keep only X most recent releases"".

Please note that despite large repository sizes we are encountering no noticeable performance issues on an oldish x Red Hat Linux box. The feature will greatly improve usability of the Archiva Search and Browse functions.
",Improvement
"network-proxy configuration doesnt seen to work Our machine doesnt even have a public ip, so all outbound connections have to go through an http proxy.

. Added a remote repository with url ""maven.atlassian.comrepositorypublic""
. Added a network proxy called ""adenyo-proxy""
. Added a proxy-connector that uses both

archiva.log
{noformat}
-- , btpool- WARN  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer error from repository ""atlassian"" for artifact org.apache.maven.pluginsmaven-war-plugin.-alpha-pom, continuing to next repository. Error message Download failure on resource maven.atlassian.comrepositorypublicorgapachemavenpluginsmaven-war-plugin.-alpha-maven-war-plugin-.-alpha-.pomError transferring file Connection refused cause java.net.ConnectException Connection refused
{noformat}

Also, clicking on the settings link below a proxy connector and on the ""Edit Network Proxy"" link leads to an unconfigured proxy.",Bug
"Uploading large artifacts is dreadfully slow The performance of the Upload Artifact page is absolutely dreadful.  

Technically this is probably an enhancement, rather than a bug... but it is _so_ bad in current form Im filing it as a bug.

The UploadAction class uses what must be the worst copy file
implementation possible.

It says

       FileOutputStream out  new FileOutputStream new FiletargetPath, targetFilename  ;
       FileInputStream input  new FileInputStream sourceFile ;

       try
       {
           int i;
           while   i  input.read  ! - 
           {
               out.write i ;
           }
           out.flush;
       }

Alternating between reading and writing one bit at a time  No
wonder it was taking me over a  hour to try to upload a simple 
MB file with the CPU locked at  utilization.  Wow.

Please replace that implementation with this or similar

               BufferedOutputStream out  new BufferedOutputStreamnew FileOutputStreamnew FiletargetPath, targetFilename;
               BufferedInputStream input  new BufferedInputStreamnew FileInputStreamsourceFile;
               try
               {
                       byte buf  new byte;
                       int len;
                       while len  input.readbuf  
                       {
                               out.writebuf, , len;
                       }
                       out.flush;
               }

Tis about  orders of magnitude faster.
",Bug
"LDAP authentication attempts to change password on first login. I have a development environment on the archive and Mavin.
And Im trying to put this environment authenticating to OpenLDAP. By doing could only setting in the file security.properties. The configuration is below

user.manager.implldap
ldap.bind.authenticator.enabledtrue
redback.default.adminadmin
ldap.config.hostnameIP_server
ldap.config.port
ldap.config.base.dndcdomain,dccom,dcbr
ldap.config.context.factorycom.sun.jndi.ldap.LdapCtxFactory
ldap.config.bind.dncnadmin,dcdomain,dccom,dcbr
ldap.config.passwordXXXXXXXXX
ldap.config.mapper.attribute.emailmail
ldap.config.mapper.attribute.fullnameuid
ldap.config.mapper.attribute.passworduserPassword
ldap.config.mapper.attribute.user.iduid
ldap.config.mapper.attribute.user.object.classsimpleSecurityObject
security.policy.password.expiration.enabledfalse
security.policy.strict.enforcement.enabledfalse
security.policy.strict.force.password.change.enabledfalse
security.policy.unlockable.accountsadmin
security.policy.allowed.login.attempt

After this configuration, I could authenticate to openldap. but when the system right the first time it asks me to change the password. Already sent email to the maillist and everyone told me it was bug, because the option
security.policy.strict.force.password.change.enabled  false
is already configured.

My version is ., however tested on .. and also did the same.

How to authenticate to OpenLDAP is not asking to change password the first time Because the option shown above does not work

",Bug
"Fetching artefact zip or tar.gz in repository maven  I cannot download by Archiva through Maven  an artefact which is on a repository Maven  and his type is zip or tar.gz.
When i browse the repository by Archiva, I got a  error for the artefact.

I can download his pom through browsing and Maven .
I can download the artefact when I pass through Apache and Maven  with ""Apache configuration repository"".",Bug
"Repository health report should identify snapshots in a non-snapshot repo If a repository does not have includes snapshots checked, then any artifacts with SNAPSHOT in the name should be flagged as problems.

Possibly also look for common misspellings of SNAPSHOT such as SNAPHSOT or SNAPSHTO.",New_Feature
" error when changing password HTTP ERROR 

WEB-INFjspredbackchangePasswordSuccess.jsp

RequestURIarchivaWEB-INFjspredbackchangePasswordSuccess.jsp",Bug
"Error changing password When a user change his password, archiva redirects him to a page that doesnt exist changePasswordSuccess.jsp

i was searching for this page and i didnt found it but i found the configuration in struts-security.xml

result name""security-change-password-success""WEB-INFjspredbackchangePasswordSuccess.jspresult

",Bug
"creating an meclipse compatible index should be an optional component currently, two indexes are created - the main live index and the packed index for meclipse users. Those not needing the packed index should have the option of disabling its creation.",Improvement
"content of repository groups are not always updated After trying to replicate MRM-.

Contents of a Repository Group does not update after adding a new repository or an artifact has been uploaded to one of the repositories of the repository group

Contents of the repository group doesnt seem to be updated after
  Adding a new repository - when access the repository group, artifact of the new repository are not displayed.
  Delete a repository - after delete a repository the artifacts are still being displayed
  When an artifact has been uploaded to one of the repository of the group - new artifacts not displayed.
 ",Bug
"Improve message when a user tries to search and the user does not have access to any repository Maybe change from

""You have access to no repositories. Ask your system administrator for access.""

to something like

""You do not have access to any repository. Please request access from your system administrator.""",Improvement
"Selenium tests need a clean up the current selenium tests are quite hard to navigate
- multiple different folders it-resources vs resources
- unnecessary configuration a lot of Tomcat config instead of just the files that need changing
- complicated POM and no documentation of the profiles
- poor formatting in the source code tabs, etc
- poor hierarchy required to call open then open ...  in sequence - should have all the init in one class and use TestNG to order

I think this could use some cleaning up",Bug
"repository identifier accepts spaces causing Error  when accessing the URL Steps to replicate
 go to ""Repositories"" page
 add a repository with ""identifier"" containing spaces such as ""internal "", "" internal"", "" internal "", ""internal repo""
 click the URL of the added repository

This will result to 
{noformat}
HTTP ERROR 

Problem accessing archivarepositoryinternal. Reason

    Invalid repository internal
{noformat}
",Bug
introduce a metadata content repository API see MRM- for justification,Improvement
"index-content consumer processes all types of files, slowing down the indexing process The includes is configured to """" thereby processing all files being found.",Bug
"viewing an artifact with no permissions provides a stack trace instead of showing a permission problem When the guest user has no permissions to any repository clicking the Search button in the Find Artifact page produces the following stack trace instead of displaying an error message.

{code}
type Exception report

message

description The server encountered an internal error  that prevented it from fulfilling this request.

exception

javax.servlet.ServletException There are no observable repositories for the user guest
	org.apache.struts.dispatcher.Dispatcher.serviceActionDispatcher.java
	org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	sun.reflect.GeneratedMethodAccessor.invokeUnknown Source
	sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	java.lang.reflect.Method.invokeMethod.java
	org.apache.catalina.security.SecurityUtil$.runSecurityUtil.java
	java.security.AccessController.doPrivilegedNative Method
	javax.security.auth.Subject.doAsPrivilegedSubject.java
	org.apache.catalina.security.SecurityUtil.executeSecurityUtil.java
	org.apache.catalina.security.SecurityUtil.doAsPrivilegeSecurityUtil.java
	java.security.AccessController.doPrivilegedNative Method
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	sun.reflect.GeneratedMethodAccessor.invokeUnknown Source
	sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	java.lang.reflect.Method.invokeMethod.java
	org.apache.catalina.security.SecurityUtil$.runSecurityUtil.java
	java.security.AccessController.doPrivilegedNative Method
	javax.security.auth.Subject.doAsPrivilegedSubject.java
	org.apache.catalina.security.SecurityUtil.executeSecurityUtil.java
	org.apache.catalina.security.SecurityUtil.doAsPrivilegeSecurityUtil.java
	java.security.AccessController.doPrivilegedNative Method
	org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	sun.reflect.GeneratedMethodAccessor.invokeUnknown Source
	sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	java.lang.reflect.Method.invokeMethod.java
	org.apache.catalina.security.SecurityUtil$.runSecurityUtil.java
	java.security.AccessController.doPrivilegedNative Method
	javax.security.auth.Subject.doAsPrivilegedSubject.java
	org.apache.catalina.security.SecurityUtil.executeSecurityUtil.java
	org.apache.catalina.security.SecurityUtil.doAsPrivilegeSecurityUtil.java

root cause

org.apache.maven.archiva.database.ArchivaDatabaseException There are no observable repositories for the user guest
	org.apache.maven.archiva.database.browsing.DefaultRepositoryBrowsing.selectVersionDefaultRepositoryBrowsing.java
	org.apache.maven.archiva.web.action.ShowArtifactAction.artifactShowArtifactAction.java
	sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	java.lang.reflect.Method.invokeMethod.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.interceptConfigurationInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.struts.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.struts.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.interceptParameterFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ConversionErrorInterceptor.interceptConversionErrorInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ParametersInterceptor.doInterceptParametersInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.StaticParametersInterceptor.interceptStaticParametersInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.interceptor.CheckboxInterceptor.interceptCheckboxInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ModelDrivenInterceptor.interceptModelDrivenInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ScopedModelDrivenInterceptor.interceptScopedModelDrivenInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.interceptor.ProfilingActivationInterceptor.interceptProfilingActivationInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ChainingInterceptor.interceptChainingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.PrepareInterceptor.doInterceptPrepareInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.interceptor.ServletConfigInterceptor.interceptServletConfigInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AliasInterceptor.interceptAliasInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.struts.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.struts.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.impl.StrutsActionProxy.executeStrutsActionProxy.java
	org.apache.struts.dispatcher.Dispatcher.serviceActionDispatcher.java
	org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	sun.reflect.GeneratedMethodAccessor.invokeUnknown Source
	sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	java.lang.reflect.Method.invokeMethod.java
	org.apache.catalina.security.SecurityUtil$.runSecurityUtil.java
	java.security.AccessController.doPrivilegedNative Method
	javax.security.auth.Subject.doAsPrivilegedSubject.java
	org.apache.catalina.security.SecurityUtil.executeSecurityUtil.java
	org.apache.catalina.security.SecurityUtil.doAsPrivilegeSecurityUtil.java
	java.security.AccessController.doPrivilegedNative Method
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	sun.reflect.GeneratedMethodAccessor.invokeUnknown Source
	sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	java.lang.reflect.Method.invokeMethod.java
	org.apache.catalina.security.SecurityUtil$.runSecurityUtil.java
	java.security.AccessController.doPrivilegedNative Method
	javax.security.auth.Subject.doAsPrivilegedSubject.java
	org.apache.catalina.security.SecurityUtil.executeSecurityUtil.java
	org.apache.catalina.security.SecurityUtil.doAsPrivilegeSecurityUtil.java
	java.security.AccessController.doPrivilegedNative Method
	org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	sun.reflect.GeneratedMethodAccessor.invokeUnknown Source
	sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	java.lang.reflect.Method.invokeMethod.java
	org.apache.catalina.security.SecurityUtil$.runSecurityUtil.java
	java.security.AccessController.doPrivilegedNative Method
	javax.security.auth.Subject.doAsPrivilegedSubject.java
	org.apache.catalina.security.SecurityUtil.executeSecurityUtil.java
	org.apache.catalina.security.SecurityUtil.doAsPrivilegeSecurityUtil.java
{code}
",Bug
"Incorrect Total File Count in Repository Statistics report Plugins and Jars count shows  and  respectively, but Total File Count shows . See attached screenshot.",Bug
"NPE when updating consumers not setting any of the checkboxes of Unprocessed Artifacts and Artifact Cleanup Scanning in Database java.lang.NullPointerException
	at org.apache.maven.archiva.web.action.admin.database.DatabaseAction.filterAddedConsumersDatabaseAction.java
	at org.apache.maven.archiva.web.action.admin.database.DatabaseAction.updateUnprocessedConsumersDatabaseAction.java
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	at java.lang.reflect.Method.invokeMethod.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	at org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.interceptConfigurationInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.interceptParameterFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	at org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ConversionErrorInterceptor.interceptConversionErrorInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.doInterceptParametersInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.StaticParametersInterceptor.interceptStaticParametersInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.CheckboxInterceptor.interceptCheckboxInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ModelDrivenInterceptor.interceptModelDrivenInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ScopedModelDrivenInterceptor.interceptScopedModelDrivenInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.ProfilingActivationInterceptor.interceptProfilingActivationInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ChainingInterceptor.interceptChainingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.PrepareInterceptor.doInterceptPrepareInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.ServletConfigInterceptor.interceptServletConfigInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AliasInterceptor.interceptAliasInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.impl.StrutsActionProxy.executeStrutsActionProxy.java
	at org.apache.struts.dispatcher.Dispatcher.serviceActionDispatcher.java
	at org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.mortbay.jetty.Server.handleServer.java
	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
	at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
	at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
	at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
	at org.mortbay.thread.QueuedThreadPool$PoolThread.runQueuedThreadPool.java",Bug
"Ping service in not working I cant use ping service with xmlrpc client

The reponse is ""No handler for the method""

I have tried several methods 
- TestService.ping
- PingServiceImpl.ping
- PingService.ping

I suppose that its a bug because SearchService and AdministrationService are working in xmlrpc",Bug
"Unable to get artifact-level maven-metadata.xml of artifacts that are only three directory levels deep Example request path that would fail
eclipsejdtcoremaven-metadata.xml",Bug
"Website download page does not provide link to KEYS file The page httparchiva.apache.orgdownload.html does not include a link to the KEYS file, which should be located in

httpwww.apache.orgdistarchiva

This means that it is all but impossible to verify any downloads, for example, for apache-archiva-..-docs.zip I get

gpg Signature made   GMT Daylight Time using DSA key ID CBAFB
gpg Cant check signature No public key

The key is at least available from the MIT server, but anyone can upload keys there.

",Bug
"Project Tree view  Similar to the Dependency Tree tab, it would be nice to see a Project Tree showing the pom hierarchy parent-and-modules with links.

The data should be available in plain text as well xml through the xmlrpc interface",New_Feature
"mailing lists tab doesnt work browse to an artifact with mailing lists, for example
httplocalhostarchivabrowseorg.apache.archivaarchiva-parentmailingLists

No results are returned even though the project is correctly loaded and contains mailing lists.",Bug
"providing extension-points for deploy-events Archiva provides extension-points named consumers that offer flexibility for customizing the repo-scanning-process.

Similarly, there is also a need to extend functionality for the deploy-artifact events release and snapshot - both using webdav and web-UI.

Specifically, we have the need to purge
- all snapshots, when a release is deployed the existing checkbox "" Delete Released Snapshots"" doesnt operate reliable
- all previous snapshots of the same version in case the client has not configured the maven-deploy-plugin properly

I propose that a Java interface is provided that can be used to implement the class that provides the functionality.
This class could be specified in one of the numerous Archiva config-files.

There could be a single interface that provides  methods 
- onReleaseDeploymentReleaseRuntime obj
- onSnapshotDeploymentSnapshotRuntime obj

The SomeRuntime class should provide methods to retrieve all kinds of information concerning the artifact to be deployed, like
- getGroupId
- getArtifactId
- getVersion
- get RepoName
...

as well as operation-methods like
ReleaseRuntime .deleteSnapshots
SnapshotRuntime.deletePreviousSnapshots

",New_Feature
"migrate Archivas ""browse"" functionality to use the metadata content repository API the first steps to removing direct interaction with the database - see MRM- for more information.

A test of the APIs implementation will be that we can utilise it directly from the webapp action classes without introducing additional business logic, and such that we can comfortably use it in the same way from the XMLRPC module. However, we also do not want presentation-related logic or at least the organisation of the information on screen in the repository implementation. If that is needed, a simpler replacement abstraction for RepositoryBrowsing may be appropriate.",Improvement
"Type of artifact is allways ""pom"" When I get back an artifact, the type is always ""pom"" while the type is ""war"" or ""jar""!! I have checked the type in the application which shows the right type.

This bug is reproducible with all artifacts ",Bug
"MetadataUpdaterConsumer didnt run during a repository scan after deleting a version of an artifact. Steps to replicate

. Deploy several test snapshots with
mvn deploydeploy-file -Dfiletest.jar -DgroupIdcom.example.test -DartifactIdtest -Dversion.-SNAPSHOT -Durlfilehomegwenrepositorysnapshots -Dpackagingjar
and repeat several times for version ., . results in timestamped snapshots.

. Open homegwenrepositorysnapshotscomexampletesttestmaven-metadata.xml. All version can be seen.

. Scan the repository and update the database. Confirm that the artifacts are all visible through the browse url.

. Delete the comexampletesttest.-SNAPSHOT directory from the repository

. Click ""Scan repository now"" for the Snapshots repository and wait for the scan to finish

. View the metadata file again.

Expected result version .-SNAPSHOT is not in the maven-metadata.xml file

Actual result the metadata file still contains version .-SNAPSHOT

",Bug
"Artifacts cannot be found using the Search function Numerous artifacts cannot be found using the Search function.
The repository concerned has permissions for user guest as Repository Observer, meaning anonymous access is allowed.
The artifacts can be found using the Browse function and using WebDAV.
The problem persists since Archiva ...

The following effort has been untertaken to solve the problem
. deleting repo.index and repo.indexer
. touching all files and dirs in repo recursively
. running the repo scan 
. waiting some hours to finish the procedure

After this process, the artifacts still cannot be found. The index-database has the following sizes
.M    optmanaged_reposinternal.index
.M    optmanaged_reposinternal.indexer

Example 
search for ""xmlbeans""
result  artifacts containing ""xmlbeans"" in the package name, but NOT the artifact whose artifactId is xmlbeans

The Total File Count  	of the repo is .

Since the search-function is the most important function on the web-UI, wed consider this a major blocker.
",Bug
"Should only create tmp directory for managed repository if the repository has remote repositories Should only create tmp directory for managed repository if the repository has remote repositories. At the moment archiva creates unnecessary temporary directories.

This stack trace shows where the change should be made this repository was readonly on the file system
{noformat}
Mar ,   AM org.apache.catalina.core.StandardWrapperValve invoke
SEVERE Servlet.service for servlet RepositoryServlet threw exception
java.lang.RuntimeException Could not create working directory for this request
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.createWorkingDirectoryDefaultRepositoryProxyConnector
s.java
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxiesDefaultRepositoryProxyConnectors.java

        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxiesArchivaDavResourceFactory.java
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.doGetArchivaDavResourceFactory.java
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResourceArchivaDavResourceFactory.java
        at org.apache.maven.archiva.webdav.RepositoryServlet.serviceRepositoryServlet.java
        at javax.servlet.http.HttpServlet.serviceHttpServlet.java
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
        at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
        at org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
        at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
        at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
        at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
        at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
        at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
        at org.apache.catalina.core.StandardWrapperValve.invokeStandardWrapperValve.java
        at org.apache.catalina.core.StandardContextValve.invokeStandardContextValve.java
        at org.apache.catalina.core.StandardHostValve.invokeStandardHostValve.java
        at org.apache.catalina.valves.ErrorReportValve.invokeErrorReportValve.java
        at org.apache.catalina.core.StandardEngineValve.invokeStandardEngineValve.java
        at org.apache.catalina.connector.CoyoteAdapter.serviceCoyoteAdapter.java
        at org.apache.coyote.http.HttpProcessor.processHttpProcessor.java
        at org.apache.coyote.http.HttpProtocol$HttpConnectionHandler.processHttpProtocol.java
        at org.apache.tomcat.util.net.JIoEndpoint$Worker.runJIoEndpoint.java
        at java.lang.Thread.runThread.java
Caused by java.io.IOException Permission denied
        at java.io.UnixFileSystem.createFileExclusivelyNative Method
        at java.io.File.checkAndCreateFile.java
        at java.io.File.createTempFileFile.java
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.createWorkingDirectoryDefaultRepositoryProxyConnector
s.java
        ...  more

{noformat}",Bug
"Backlinks from Archiva logo in header of web-pages dont work The archiva web-pages have an Archiva logo in the top left which acts as a link.

I would expect clicking this to take me to the top-level Archiva page, or at least the top-level page for the subsection.
I would not expect it to take me back to the same page, as that makes it useless as a navigation aid.

However

httparchiva.apache.orgdownload.html  httparchiva.apache.orgdownload.html
httparchiva.apache.orgget-involved.html  httparchiva.apache.orgget-involved.html
httparchiva.apache.orgdocs..userguide  httparchiva.apache.orgdocs which is just a directory listing

Some links are OK, for example

httparchiva.apache.orgdocs..release-notes.html  httparchiva.apache.org",Bug
"Repository consumers are all disabled after trying to disable one of them and the authenticated session has expired. Steps to reproduce
. Login to archiva
. Go to Repository Scanning page
. Expire the session by clearing the cache, authenticated sessions and cookies in your browser
. Disable one of the repo consumers in the Repository Scanning page and click Update Consumers
. You will be directed to the Login page and after logging in, go to Repository Scanning page. All the repo consumers are disabled.

",Bug
"X-Forwarded-Host handling when having more than one proxy When requesting pages over more than one proxy, I see in the ""Administration""""Repositories"" view

WebDAV URL proxy.xxx.com, proxy.xx.comarchivarepositoryinternal

Both proxies run apache mod_proxy http.

Taking just the outermost proxy in the X-Forwarded-Host HTTP field first one in
archiva-modulesarchiva-webarchiva-webappsrcmainjavaorgapachemavenarchivawebutilContextUtils.java
solved the problem for me see attached changed ContextUtils.java.
",Bug
"meclipse index should only be created at end of indexing run currently, every artifact is instantly packed into the meclipse index, taking considerable CPU cycles and garbage collection. This should only need to be run at the end.",Improvement
"Calendar incorrect In Report menu, when the ""start date"" field is clicked, a calendar opens but it is incorrect. For example, today is Tue, . But in the calender it is . ",Bug
"Empty Lucene Index The Lucene Index contains the following

--- Lucene index dump ---
Global Information

	number of documents 
	total number of features 
	total number of tokens 
	version 
	still current true
	maximal document number 
	has deletions false

Field Information

Fields of type ALL
	DESCRIPTOR
	IDXINFO
Fields of type INDEXED
	DESCRIPTOR
Fields of type INDEXED_NO_TERMVECTOR
	DESCRIPTOR
Fields of type INDEXED_WITH_TERMVECTOR
Fields of type TERMVECTOR
Fields of type TERMVECTOR_WITH_OFFSET
Fields of type TERMVECTOR_WITH_POSITION
Fields of type TERMVECTOR_WITH_POSITION_OFFSET
Fields of type UNINDEXED
	IDXINFO

Terms

DESCRIPTOR	NexusIndex	
--- End of Lucene index dump ---

In the archiva.log I see

org.codehaus.plexus.taskqueue.execution.TaskExecutionException Error occurred while executing indexing task indexi
ng-jobinternalstax-utils-.pomadd
        at org.apache.maven.archiva.scheduled.executors.ArchivaIndexingTaskExecutor.executeTaskArchivaIndexingTaskE
xecutor.java
        at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueu
eExecutor.java
        at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
        at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
        at java.lang.Thread.runUnknown Source
",Bug
"SearchService.quickSearch doesnt return the same result as the application When I search with xmlrpc and the quickSearch method, I havent the same result and especially I dont have all the version of an artifact.

The search module integrated into archiva returns more result, and all the version of an artifact.

This bug is not reproducible with all artifacts, sometime it they return the same result.",Bug
"Typo in Appearance Page Typo in Appearance page - ""Change your appearence"" link",Bug
"HTTP ERROR  when addingdeleting artifact, adding repositorylegacy supportnetwork proxies with null values AddingDeleting Artifact, adding repositorylegacy supportnetwork proxies with null values withh return an HTTP ERROR  page.

Heres what it showed on the page when adding artifact

HTTP ERROR 

Could not initialize class com.opensymphony.xwork.validator.ValidatorFactory

RequestURIupload!doUpload.action
Caused by

java.lang.NoClassDefFoundError Could not initialize class com.opensymphony.xwork.validator.ValidatorFactory
	at com.opensymphony.xwork.validator.ValidatorFileParser.addValidatorConfigsValidatorFileParser.java
	at com.opensymphony.xwork.validator.ValidatorFileParser.parseActionValidatorConfigsValidatorFileParser.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.loadFileAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.buildClassValidatorConfigsAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.buildValidatorConfigsAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.getValidatorsAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.validateAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.validateAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.validateAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.ValidationInterceptor.doBeforeInvocationValidationInterceptor.java
	at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	at org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ConversionErrorInterceptor.interceptConversionErrorInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.doInterceptParametersInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.StaticParametersInterceptor.interceptStaticParametersInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.CheckboxInterceptor.interceptCheckboxInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ModelDrivenInterceptor.interceptModelDrivenInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ScopedModelDrivenInterceptor.interceptScopedModelDrivenInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.ProfilingActivationInterceptor.interceptProfilingActivationInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ChainingInterceptor.interceptChainingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.PrepareInterceptor.doInterceptPrepareInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.ServletConfigInterceptor.interceptServletConfigInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AliasInterceptor.interceptAliasInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.doInterceptParametersInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.impl.StrutsActionProxy.executeStrutsActionProxy.java
	at org.apache.struts.dispatcher.Dispatcher.serviceActionDispatcher.java
	at org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.mortbay.jetty.Server.handleServer.java
	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
	at org.mortbay.jetty.HttpConnection$RequestHandler.contentHttpConnection.java
	at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
	at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
	at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
	at org.mortbay.thread.QueuedThreadPool$PoolThread.runQueuedThreadPool.java
",Bug
"Web Application Deployment, Troubleshooting Deploying Archiva in Tomcat or any other JSP Container is easy, especially if one is experienced with said container. Troubleshooting a config however is not very easy, as the logging is spread over a multitude of directories and files.

Rather than trying to patch the logj.xml, Im opting for adding a hint in the documentation.",Improvement
"Artifact upload success message should mention the classifier I uploaded a -sources jar by filling in the classifier field, but the success message only says

Artifact com.exampleexample. was successfully deployed to repository internal

The success message should include all of the info on the form.",Improvement
"Archiva does not respect configuration of the index directory I configured the index directory for each repository to move the index outside of the repository directory, however in addition to the directory I configured, Archiva still creates and writes to a .index directory inside each managed repo.  The contents are

javaapache-archiva-..
$ ls -la datarepositoriesinternal.index
total 
drwxr-xr-x  wsmoak      Sep    .
drwxr-xr-x  wsmoak      Sep    ..
-rwxr-xr-x   wsmoak    Sep    nexus-maven-repository-index..gz
-rwxr-xr-x   wsmoak    Sep    nexus-maven-repository-index.gz
-rwxr-xr-x   wsmoak    Sep    nexus-maven-repository-index.properties
-rwxr-xr-x   wsmoak   Sep    nexus-maven-repository-index.zip

This is a problem because I have more than one Archiva instance looking at the same managed repo, and they will step on each other writing to this same directory.

",Bug
"The content of the Downloads box is sometimes too large for the box When you browse an artifact, the contents of orange Downloads box in the top right corner of the screen sometimes overflows the borders of the box. There is no functional problem with this, but it doesnt look very nice. See attached screenshot.",Bug
"results page fails when find artifact returns multiple results the following error is presented
{{javax.el.PropertyNotFoundException The class org.apache.maven.archiva.model.ArchivaArtifact does not have the property versions.}}
",Bug
"SearchService.quickSearch returns artifacts with null as repositoryId Executing following code results getting nulls


ListArtifact list  searchService.quickSearch""test"";
forArtifact alist{
    System.out.printlna.getRepositoryId;
}",Bug
"Encoding issues with Archiva UI add Spring CharacterEncodingFilter Please do like Continuum and add the CharacterEncodingFilter to force UTF- encoding.

See attached patch.",Bug
"groupIds that are subsets of another groupId also display artifacts from that group In the attached screen shot, the browsed group was com, but if you look at the artifacts listed, it also shows the commons- artifacts whose groupIds does not really start with com.",Bug
"migrate repository statistics to the metadata content repository currently, after every scan, repository statistics are persisted to the database. These could easily be stored in the metadata repository. While at present we will keep the ""per-scan"" approach, in the future this might better be represented as a regularly stored snapshot  built in versioning of the metadata. It could potentially be adding this information on the fly instead of at scan by adding a callback in the repository API when an artifact  project is created - however this will be approached later.

When migrating the functionality, it should be offered as a standalone plugin the only dependencies should be in the webapp that need to render the information and trigger some cleanup.

The following changes will be needed
- save the statistics in ArchivaRepositoryScanningTaskExecutor  ArchivaRepositoryScanningTaskExecutorTest
- reset statistics in EditManagedRepositoryAction  EditManagedRepositoryActionTest when location changes
- query for a prior successful scan in RepositoryArchivaTaskScheduler
- retrieve last scan info in RepositoryAction and update corresponding JSP to display information correctly
- generate report action to query scan statistics between given dates and aggregate
",Improvement
"Changing the repository indentifier breaks the entire repository index Hi,

We moved the entire repository from one machine to another. Earlier the repository was managed by Archiva .. with repository identifier as Identifier. Now we have moved to a different machine and so we copied the whole repository to the new machine and set up and configured new Archiva with the repository identifier as Identifier different from what it was earlier. But pointing to the same old copied repository.

Here the problem
Archiva is unable to search the artifact. And in the logs it says 

.logsarchiva.log-- , btpool- WARN  org.apache.archiva.indexer.search.NexusRepositorySearch  - Error accessing index of repository Identifier  The existing index is for repository Identifier and not for repository Identifier


Could you please help me know that is by default Archiva storing the index in the repository !! How can I fix this problem now

Thanks in advance.
",Bug
"org.apache.maven.archiva.repository.project.ProjectModelMerge.merge throws NPE {noformat}
-- , pool--thread- ERROR org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer  - Unable to process model exportarchivarepodatainternalcomatlassianconfluencetinymcepluginconfluence-tinymce-plugin.confluence-tinymce-plugin-..pom due to  java.lang.NullPointerException  null
java.lang.NullPointerException
	at java.util.Hashtable.putHashtable.java
	at org.apache.maven.archiva.repository.project.ProjectModelMerge.mergeProjectModelMerge.java
	at org.apache.maven.archiva.repository.project.ProjectModelMerge.mergeProjectModelMerge.java
	at org.apache.maven.archiva.repository.project.filters.EffectiveProjectModelFilter.mergeParentEffectiveProjectModelFilter.java
	at org.apache.maven.archiva.repository.project.filters.EffectiveProjectModelFilter.filterEffectiveProjectModelFilter.java
	at org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer.processArchivaArtifactProjectModelToDatabaseConsumer.java
	at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.executeProcessArchivaArtifactClosure.java
	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateUnprocessedJdoDatabaseUpdater.java
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateAllUnprocessedJdoDatabaseUpdater.java
	at org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor.executeTaskArchivaDatabaseUpdateTaskExecutor.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
	at java.lang.Thread.runThread.java
{noformat}",Bug
"Custom logo gets cut off I configured a custom logo for Archiva through the appearance section. However, the logo seems to get cut off by the right size of the view. I would expect the left margin to expand to accommodate the size of the logo or at least resize it to fit.",Bug
"Problems with locked users Class org.apache.maven.archiva.web.action.SearchAction hasnt got infoMessage attribute so when, for example, anybody tries to log in and his user is locked, archiva gets an Error because quickSearch.jsp has this


sif test""{infoMessage ! null}""
  p${infoMessage}p
sif",Bug
"remove dependency-graph in favour of the maven-dependency-tree library the dependency graph module is only used to render the dependency tree on the artifact information pages. It currently reproduces a lot of Maven functionality, and is heavily tied to the archiva-repository-layer and archiva-model.

We should instead use the standard Maven library for handling Maven dependency trees. If we later encounter different types of trees, we can provide alternative implementations. Its unlikely something as generic is needed though the code is still there to be revisited in SVN if the case arises",Improvement
"RSS feed contains the host of the requested server Imagine running jetty standalone on localhost, having a proxy before. The RSS feed gets the scheme, name, port
from the RSSServletRequest.

xml version""."" encoding""UTF-""
rss xmlnscontent""httppurl.orgrss.modulescontent"" xmlnsrdf""httpwww.w.org-rdf-syntax-ns"" xmlnsdc""httppurl.orgdcelements."" xmlnstaxo""httppurl.orgrss.modulestaxonomy"" version"".""
  channel
    titleNew Artifacts in Repository internaltitle
    linklocalhostarchivafeedsinternallink

Maybe having a configuration setting is an option, where the URL base for thinks like ""WebDavURL"", ""RSS base URL"" etc. can be set
manually instead of guessing them in different ways ContextUtils.java, req.getBaseUrl , etc.
",Bug
getDependees always returns results for archiva-test in xmlrpc incorrect hardcoding,Bug
"Archiva ""lends"" its network proxy settings to Hudson Archiva .. and Hudson ver. . are deployed on the same Tomcat instance.

When I create a network proxy configuration for remote repositories in Archiva, Hudson cannot access the local Subversion repository anymore. It turns out that Hudson somehow inherits the HTTP proxy settings from its neighbor web application, Archiva.

This is reproducible.
",Bug
"reduce memory used by indexing process the ArchivaIndexerTask and other scheduling tasks use quite a bit of memory per file particularly the name, but also other fields that are unused",Improvement
" when retrieving tar.bz assembly artifact deployed to Archiva I have a project packaging  pom that builds a tar.bz assembly in its package phase and deploys the assembly when the project is deployed.  If I builddeploy the project and navigate to httpmyarchivaserverarchivarepositoryinternalmyGroupIdmyArtifactId.-SNAPSHOT I see

myArtifactId-.-.-.pom
myArtifactId-.-.-.pom.md
myArtifactId-.-.-.pom.sha
myArtifactId-.-.--release.tar.bz
myArtifactId-.-.--release.tar.bz.md
myArtifactId-.-.--release.tar.bz.sha

I can access all of the .pom files without any problem, but if I attempt to download any of the .tar.bz artifacts Archiva returns a .  I have verified that the file does indeed exist in the Archiva repository on the filesystem.  If I browse to my project in Archiva httpmyarchivaserverarchivabrowsemyGroupIdmyArtifactId.-SNAPSHOT, I see a link called ""Distribution-bzip"" in the Downloads section in the  upper right.  This links to httpmyarchivaserverarchivarepositoryinternalmyGroupIdmyArtifactId.-SNAPSHOTmyArtifactId-.-.--release.distribution-bzip, which does not exist.  However, if I manually rename myArtifactId-.-.--release.tar.bz to myArtifactId-.-.--release.distribution-bzip in the Archiva repository and similarly rename the checksum files, I can download the tar.bz file, and the project that depends on it can also access it.  So it seems like Archiva is translating requests for myArtifactId-.-.--release.tar.bz to myArtifactId-.-.--release.distribution-bzip, but when the archive is deployed to Archiva it isnt renamed to myArtifactId-.-.--release.distribution-bzip.

Ive searched the issue tracker and mailing lists, but I havent seen any issues exactly like this.  This seems to be a similar problem httpjira.codehaus.orgbrowseMRM- but it looks like its related to proxying Maven  repositories.",Bug
"Archiva has periodic load-peaks  Archiva causes periodically an increased system-load. see Munin-stats attached

During these peaks calling the homepage takes around  secs, whereas normally it is around  sec.

I could not identify corresponding messages in the logs.

Could somebody else observe this",Bug
"Error  after Login Using Version .. productive an this error occurs

Can you help me please

HTTP ERROR 
INTERNAL_SERVER_ERROR
RequestURIarchivaredbackRedirect.action 

Caused by
java.lang.NullPointerException
at org.apache.struts.dispatcher.mapper.DefaultActionMapper.getUriFromActionMappingDefaultActionMapper.java
at org.apache.maven.archiva.web.mapper.RepositoryActionMapper.getUriFromActionMappingRepositoryActionMapper.java
at org.apache.struts.dispatcher.ServletActionRedirectResult.executeServletActionRedirectResult.java
at com.opensymphony.xwork.DefaultActionInvocation.executeResultDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
at org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.interceptConfigurationInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at org.codehaus.plexus.redback.struts.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at org.codehaus.plexus.redback.struts.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.interceptParameterFilterInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
at org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at com.opensymphony.xwork.interceptor.ConversionErrorInterceptor.interceptConversionErrorInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at com.opensymphony.xwork.interceptor.ParametersInterceptor.doInterceptParametersInterceptor.java
at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at com.opensymphony.xwork.interceptor.StaticParametersInterceptor.interceptStaticParametersInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at org.apache.struts.interceptor.CheckboxInterceptor.interceptCheckboxInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at org.apache.struts.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at com.opensymphony.xwork.interceptor.ModelDrivenInterceptor.interceptModelDrivenInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at com.opensymphony.xwork.interceptor.ScopedModelDrivenInterceptor.interceptScopedModelDrivenInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at org.apache.struts.interceptor.ProfilingActivationInterceptor.interceptProfilingActivationInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at org.apache.struts.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at com.opensymphony.xwork.interceptor.ChainingInterceptor.interceptChainingInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at com.opensymphony.xwork.interceptor.PrepareInterceptor.doInterceptPrepareInterceptor.java
at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at org.apache.struts.interceptor.ServletConfigInterceptor.interceptServletConfigInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at com.opensymphony.xwork.interceptor.AliasInterceptor.interceptAliasInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at org.codehaus.plexus.redback.struts.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at org.codehaus.plexus.redback.struts.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
at org.apache.struts.impl.StrutsActionProxy.executeStrutsActionProxy.java
at org.apache.struts.dispatcher.Dispatcher.serviceActionDispatcher.java
at org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
at org.mortbay.jetty.Server.handleServer.java
at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java

Powered by Jetty",Bug
migrate XMLRPC from DefaultRepositoryBrowsing to the metadata content repository API see MRM- for more information,Improvement
Indexing tasks are lost when server goes down or re-starts Queued indexing tasks are lost when the server goes down or re-starts resulting to some artifacts not being indexed. The workaround is to force Archiva to scan the entire repository again when the server is back online.,Bug
XMLRPC Basic Compliance  Call archiva XMLRPC Service from other language like Php  The XMLRPC API used by archiva is not compliant with other language and client xml-rpc,Improvement
repository scan period is incorrect the repository scanner uses the end time of the previous scan  the duration as the start time for the next scan. This means that any artifacts that are added in that time between scans will not be detected.,Bug
"Archiva cachecreate corruptinvalid pom and jar in its internal directory Currently running .., and when putting a dependency section that is not available internally or externally, Achriva createscaches corruptinvalid pom and jar in the internal directory",Bug
"Hide the sub-topics in documentation menu by default The sub-topics of ""Log Files"" are displayed. httparchiva.apache.orgdocs..index.html

The sub-topics should be hidden by default similar to other topics.",Bug
"Nexus indexer drags in unnecessary dependencies the use of nexus-indexer drags in some libraries we dont need for example, commons-cli, and some XML APIs. Look at excluding those where possible.",Improvement
"Update documentation - Artifacts not displayed in Archiva GUI after release  According to the documentation, artifacts should show up immediately. It should not be necessary to wait for a scan.

httparchiva.apache.orgdocs..userguidedeploy.html says

    Once the files are deployed into the location of the Archiva managed repository, they should immediately appear in the Browse page. The artifacts should also be searcheable as long as the index-content repository consumer is enabled.",Improvement
"Dependency tree should include the artifact type Currently in the dependency tree view, you cant tell what type the artifact is jar, war, etc..  The view should include this information.",Improvement
"NPE when updating consumers of known content without setting any of the checkboxes enabled java.lang.NullPointerException
	at org.apache.maven.archiva.web.action.admin.scanning.RepositoryScanningAction.filterAddedConsumersRepositoryScanningAction.java
	at org.apache.maven.archiva.web.action.admin.scanning.RepositoryScanningAction.updateKnownConsumersRepositoryScanningAction.java
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	at java.lang.reflect.Method.invokeMethod.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	at org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.interceptConfigurationInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.interceptParameterFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	at org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ConversionErrorInterceptor.interceptConversionErrorInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.doInterceptParametersInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.StaticParametersInterceptor.interceptStaticParametersInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.CheckboxInterceptor.interceptCheckboxInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ModelDrivenInterceptor.interceptModelDrivenInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ScopedModelDrivenInterceptor.interceptScopedModelDrivenInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.ProfilingActivationInterceptor.interceptProfilingActivationInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ChainingInterceptor.interceptChainingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.PrepareInterceptor.doInterceptPrepareInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.ServletConfigInterceptor.interceptServletConfigInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AliasInterceptor.interceptAliasInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.impl.StrutsActionProxy.executeStrutsActionProxy.java
	at org.apache.struts.dispatcher.Dispatcher.serviceActionDispatcher.java
	at org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.mortbay.jetty.Server.handleServer.java
	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
	at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
	at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
	at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
	at org.mortbay.thread.QueuedThreadPool$PoolThread.runQueuedThreadPool.java",Bug
"Support for archetype-catalog.xml When creating new archetypes for custom type of projects, the archetypes need to be published deployed to a repository. However, to use the archetypes e.g. in MEclipse, you need to set an URL for a remote archetype-catalog.xml

Archiva should be able to dynamically produce the contents of an archetype-catalog.xml based on all of the archetypes deployed in the given repository. This would enable teams to use their own archetypes more efficiently.",New_Feature
create-missing-checksums and metadata-updater sometimes causes deployments to fail for large projects when enabled Deployment of checksum and metadata files fails and an error  is returned. I reproduced this error when building the Archiva and Continuum sources and deploying them to a running Archiva instance.,Bug
Granting the Global Repository ManagerSystem Administrator role does not automatically assign the Global Repository Observer role Go to the role assignments of the default admin account. Global Repository Observer checkbox is editable which shouldnt be. You can also reproduce this by creating a new user with a System AdministratorGlobal Repository Manager role.,Bug
"Include other file types for the index consumer instead of just the indexable-content Since the nexus indexer processes the artifact itself and not the pom, the default configuration should have the other file types jar, war, ear, etc. in indexable-content so that they get indexed without the need to add these configuration. ",Improvement
"Improve Authorization Denied log message I see this in archiva.log

-- , btpool- INFO  org.apache.maven.archiva.security.ArchivaServletAuthenticator  - Authorization Denied ip...,permissionarchiva-read-repository,repointernal  no matching permissions

Can this message be improved to include
 . the file being accessed
 . the username that tried to access it


Sometimes you can correlate times with the Jetty access log and figure it out.  In my environment its usually the guest user missing a repo observer role.
",Improvement
"Error  encountered when logging in as non-existing LDAP user The following error should be handled in Archiva.

{noformat}
HTTP ERROR 

Problem accessing archivasecuritylogin.action. Reason

    INTERNAL_SERVER_ERROR

Caused by

java.lang.NullPointerException
	at org.codehaus.plexus.redback.struts.action.LoginAction.webLoginLoginAction.java
	at org.codehaus.plexus.redback.struts.action.LoginAction.loginLoginAction.java
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	at java.lang.reflect.Method.invokeMethod.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.EnvironmentCheckInterceptor.interceptEnvironmentCheckInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	at org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ConversionErrorInterceptor.interceptConversionErrorInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.doInterceptParametersInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.StaticParametersInterceptor.interceptStaticParametersInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.CheckboxInterceptor.interceptCheckboxInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ModelDrivenInterceptor.interceptModelDrivenInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ScopedModelDrivenInterceptor.interceptScopedModelDrivenInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.ProfilingActivationInterceptor.interceptProfilingActivationInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ChainingInterceptor.interceptChainingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.PrepareInterceptor.doInterceptPrepareInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.ServletConfigInterceptor.interceptServletConfigInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AliasInterceptor.interceptAliasInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.impl.StrutsActionProxy.executeStrutsActionProxy.java
	at org.apache.struts.dispatcher.Dispatcher.serviceActionDispatcher.java
	at org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.mortbay.jetty.Server.handleServer.java
	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
	at org.mortbay.jetty.HttpConnection$RequestHandler.contentHttpConnection.java
	at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
	at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
	at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
	at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java
{noformat}",Bug
" Not authorized to use method with version parameter I have instantiated an xml-rpc client in php which is working with login  password of archiva administrator account.

But I have a strange behavior.

According to this documentation 
httparchiva.apache.orgdocs..adminguideweb-services.html

I can use Administration Service, and get back information.

I can use Search Service, excepted methods that are using a version of artifact in parameter!

For example 

SearchService.getArtifactVersions String groupId, String artifactId   is working
AdministrationService.getAllManagedRepositories is working

SearchService.getDependencies String groupId, String artifactId, String version  is not working, And the returned message is  ""Not authorized"".
SearchService.getDependencyTree String groupId, String artifactId, String version   is not working, And the returned message is  ""Not authorized"".

I dont understand my mistake because there is no problem with administration Service which needs an user with System Administrator role in Archiva, but it is not working for Search Services with an artifact version, which needs only an user with at least a Repository Observer role. So for me its a bug

",Bug
"Wrong repository displayed in Archiva browse Artifact was deployed to snapshots repository, but it shows internal in the Artifact Information page from browse. See attached screen shots for details.",Bug
"Unable to get artifacts from repositories which requires Repository Manager role using repository group To reproduce
 Create managed repository releases
 Create a new user account with the following credentials
 username newuser
 password pass
 Assign Repository Manager role for releases repository to newuser
 Deploy a test artifact to releases repository. Make sure that the credentials are configured in settings.xml
 Create a new repository group named internal.group
 Add the releases repository and the pre-configured internal repository to internal.group
 Add the following configuration to your settings.xml
{code}
mirrors
  mirror
    idinternal.groupid
   nameLocal Mirrorname
   urlhttplocalhostarchivarepositoryinternal.groupurl
   mirrorOfmirrorOf
  mirror
mirrors
servers
  server
    idinternal.groupid
    usernamenewuserusername
    passwordpasspassword
  server  
server
{code}
 Build a project with a dependency on the test artifact you deploy in step . The build would fail with unable to resolve artifact ... error.
 Edit guest account and assign Repository Observer role for repository releases
 Build the project again. You would get a successful build.",Bug
"indexing causes NullPointer when getting a SNAPSHOT that has been deployed with maven . A fresh SNAPSHOT has been deployed on a file based repo. Archiva is configured to proxy this one to ""snapshots"" managed repo.

getting the SNAPSHOT metadata, POM or JAR results in 

java.lang.NullPointerException
	org.sonatype.nexus.index.context.DefaultIndexingContext.copyDocumentDefaultIndexingContext.java
	org.sonatype.nexus.index.packer.DefaultIndexPacker.writeIndexChunksDefaultIndexPacker.java
	org.sonatype.nexus.index.packer.DefaultIndexPacker.packIndexDefaultIndexPacker.java
	org.apache.archiva.consumers.lucene.NexusIndexerConsumer.completeScanNexusIndexerConsumer.java
	org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure.executeTriggerScanCompletedClosure.java
	org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	org.apache.maven.archiva.repository.scanner.RepositoryContentConsumers.executeConsumersRepositoryContentConsumers.java
	org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFileDefaultRepositoryProxyConnectors.java
	org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxiesDefaultRepositoryProxyConnectors.java
	org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxiesArchivaDavResourceFactory.java
	org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.processRepositoryArchivaDavResourceFactory.java
	org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResourceArchivaDavResourceFactory.java
	org.apache.maven.archiva.webdav.RepositoryServlet.serviceRepositoryServlet.java
	javax.servlet.http.HttpServlet.serviceHttpServlet.java
	org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java


Same thing dont occurs if the SNAPSHOT is deployed with webdav in archiva directly",Bug
"NPE when deploying due to indexing {code}
 btpool- ERROR org.mortbay.log - archivarepositorysnapshotstesttest-deploy-snapshot.-SNAPSHOTtest-deploy-snapshot-.-SNAPSHOT.jar
java.lang.NullPointerException
        at org.sonatype.nexus.index.context.DefaultIndexingContext.copyDocumentDefaultIndexingContext.java
        at org.sonatype.nexus.index.packer.DefaultIndexPacker.writeIndexChunksDefaultIndexPacker.java
        at org.sonatype.nexus.index.packer.DefaultIndexPacker.packIndexDefaultIndexPacker.java
        at org.apache.archiva.consumers.lucene.NexusIndexerConsumer.completeScanNexusIndexerConsumer.java
        at org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure.executeTriggerScanCompletedClosure.java
{code}

No nulls are passed in. Deleting the repositorys .index and .indexer directories corrected the problem - something appeared to get corrupted.",Improvement
"Unable to download tar.bz type  I am able to use deploydeploy-file or archivas upload feature to upload

groupId org.gnu
artifactId binutils
version..
packagingtar.bz

The browser would show it as 

Collection orggnubinutils..

     orggnubinutils Parent

     binutils-...tar.bz
     binutils-...tar.bz.md
     binutils-...tar.bz.sha
     binutils-...tar.pom
     binutils-...tar.pom.md
     binutils-...tar.pom.sha
     maven-metadata.xml
     maven-metadata.xml.md
     maven-metadata.xml.sha


However when click on binutils-...tar.bz

browser shows 

HTTP ERROR 

Resource does not exist

RequestURIarchivarepositorythirdpartyorggnubinutils..binutils-...tar.bz

Powered by Jetty

The work around is to use packaging ""tbz""

However if i upload the file using tbz packaging with classifier as ""sources""

groupId org.gnu
artifactId binutils
version..
packagingtbz
classifiersources

The browser return http 

but this will work if I set the classifier to ""src""

groupId org.gnu
artifactId binutils
version..
packagingtbz
classifiersrc





",Bug
"make web file upload size configurable currently, you need to edit struts.properties in the application. Look into making it editable from ARCHIVA_BASEconf.xml.

Ideally it would be in archiva.xml and then applied to struts on start up, so it can be edited from the UI.

Another alternative that may be simpler is to use an environment variable in the jetty.xml configuration.",Improvement
representation of group ID in search results can be confusing using the path representation can make it unclear that it is the group ID - it might make sense to label the group and artifact ID,Improvement
"Nexus Indexer throws NPE intermittently on retrieval {code}
 btpool- ERROR org.mortbay.log - archivarepositoryreleasesjfreejfreechart..jfreechart-...jar
java.lang.NullPointerException
        at org.apache.archiva.consumers.lucene.NexusIndexerConsumer.beginScanNexusIndexerConsumer.java
        at org.apache.maven.archiva.repository.scanner.functors.TriggerBeginScanClosure.executeTriggerBeginScanClosure.java
        at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
        at org.apache.maven.archiva.repository.scanner.RepositoryContentConsumers.executeConsumersRepositoryContentConsumers.java
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFileDefaultRepositoryProxyConnectors.java
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxiesDefaultRepositoryProxyConnectors.java
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxiesArchivaDavResourceFactory.java
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.processRepositoryArchivaDavResourceFactory.java
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.processRepositoryGroupArchivaDavResourceFactory.java
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResourceArchivaDavResourceFactory.java
        at org.apache.maven.archiva.webdav.RepositoryServlet.serviceRepositoryServlet.java
{code}

After retrying, it succeeded.",Bug
"default configuration should separate releases and proxies currently there is internal a proxy  releases repository and snapshots.

Instead, we should have
 releases
 snapshots
 central

A group can be created to span the two release repositories.",Improvement
"NullPointerException when admin account is locked. When trying to login with the admin user when that account is locked produces the following stacktrace.

{code}
javax.servlet.ServletException
	org.apache.struts.dispatcher.Dispatcher.serviceActionDispatcher.java
	org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	sun.reflect.GeneratedMethodAccessor.invokeUnknown Source
	sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	java.lang.reflect.Method.invokeMethod.java
	org.apache.catalina.security.SecurityUtil$.runSecurityUtil.java
	java.security.AccessController.doPrivilegedNative Method
	javax.security.auth.Subject.doAsPrivilegedSubject.java
	org.apache.catalina.security.SecurityUtil.executeSecurityUtil.java
	org.apache.catalina.security.SecurityUtil.doAsPrivilegeSecurityUtil.java
	java.security.AccessController.doPrivilegedNative Method
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	sun.reflect.GeneratedMethodAccessor.invokeUnknown Source
	sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	java.lang.reflect.Method.invokeMethod.java
	org.apache.catalina.security.SecurityUtil$.runSecurityUtil.java
	java.security.AccessController.doPrivilegedNative Method
	javax.security.auth.Subject.doAsPrivilegedSubject.java
	org.apache.catalina.security.SecurityUtil.executeSecurityUtil.java
	org.apache.catalina.security.SecurityUtil.doAsPrivilegeSecurityUtil.java
	java.security.AccessController.doPrivilegedNative Method
	org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	sun.reflect.GeneratedMethodAccessor.invokeUnknown Source
	sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	java.lang.reflect.Method.invokeMethod.java
	org.apache.catalina.security.SecurityUtil$.runSecurityUtil.java
	java.security.AccessController.doPrivilegedNative Method
	javax.security.auth.Subject.doAsPrivilegedSubject.java
	org.apache.catalina.security.SecurityUtil.executeSecurityUtil.java
	org.apache.catalina.security.SecurityUtil.doAsPrivilegeSecurityUtil.java

root cause

java.lang.NullPointerException
	org.apache.struts.dispatcher.mapper.DefaultActionMapper.getUriFromActionMappingDefaultActionMapper.java
	org.apache.maven.archiva.web.mapper.RepositoryActionMapper.getUriFromActionMappingRepositoryActionMapper.java
	org.apache.struts.dispatcher.ServletActionRedirectResult.executeServletActionRedirectResult.java
	com.opensymphony.xwork.DefaultActionInvocation.executeResultDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.interceptConfigurationInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.struts.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.struts.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.interceptParameterFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ConversionErrorInterceptor.interceptConversionErrorInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ParametersInterceptor.doInterceptParametersInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.StaticParametersInterceptor.interceptStaticParametersInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.interceptor.CheckboxInterceptor.interceptCheckboxInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ModelDrivenInterceptor.interceptModelDrivenInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ScopedModelDrivenInterceptor.interceptScopedModelDrivenInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.interceptor.ProfilingActivationInterceptor.interceptProfilingActivationInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ChainingInterceptor.interceptChainingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.PrepareInterceptor.doInterceptPrepareInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.interceptor.ServletConfigInterceptor.interceptServletConfigInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AliasInterceptor.interceptAliasInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.struts.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.struts.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.impl.StrutsActionProxy.executeStrutsActionProxy.java
	org.apache.struts.dispatcher.Dispatcher.serviceActionDispatcher.java
	org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	sun.reflect.GeneratedMethodAccessor.invokeUnknown Source
	sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	java.lang.reflect.Method.invokeMethod.java
	org.apache.catalina.security.SecurityUtil$.runSecurityUtil.java
	java.security.AccessController.doPrivilegedNative Method
	javax.security.auth.Subject.doAsPrivilegedSubject.java
	org.apache.catalina.security.SecurityUtil.executeSecurityUtil.java
	org.apache.catalina.security.SecurityUtil.doAsPrivilegeSecurityUtil.java
	java.security.AccessController.doPrivilegedNative Method
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	sun.reflect.GeneratedMethodAccessor.invokeUnknown Source
	sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	java.lang.reflect.Method.invokeMethod.java
	org.apache.catalina.security.SecurityUtil$.runSecurityUtil.java
	java.security.AccessController.doPrivilegedNative Method
	javax.security.auth.Subject.doAsPrivilegedSubject.java
	org.apache.catalina.security.SecurityUtil.executeSecurityUtil.java
	org.apache.catalina.security.SecurityUtil.doAsPrivilegeSecurityUtil.java
	java.security.AccessController.doPrivilegedNative Method
	org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	sun.reflect.GeneratedMethodAccessor.invokeUnknown Source
	sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	java.lang.reflect.Method.invokeMethod.java
	org.apache.catalina.security.SecurityUtil$.runSecurityUtil.java
	java.security.AccessController.doPrivilegedNative Method
	javax.security.auth.Subject.doAsPrivilegedSubject.java
	org.apache.catalina.security.SecurityUtil.executeSecurityUtil.java
	org.apache.catalina.security.SecurityUtil.doAsPrivilegeSecurityUtil.java
{code}",Bug
"archiva-consumer-plugin-archetype generates code that does not compile I downloaded the archetype for a consumer from httpsvn.apache.orgreposasfarchivasandboxarchiva-consumer-plugin-archetype
The archetype has some minor issues
. The package name created for the  classes is hard-coded to org.example.consumer
. The class PlexusTestCase cannot be resolved due to a missing dependency
. There are transitive dependencies that cannot be resolved, specifically maven-plugin-api.-SONATYPE- and maven-model.-SONATYPE-
",Improvement
"archiva-cli no longer works This may be a result of spring context files not being merged, or something not being on the classpath, but the cause is not immediately obvious.

{code}
Exception in thread ""main"" org.springframework.beans.factory.parsing.BeanDefinitionParsingException Configuration problem Unable to locate Spring NamespaceHandler for XML schema namespace httpplexus.codehaus.orgspring
Offending resource URL jarfileUsersbrettscmarchivaarchivaarchiva-clitargetapache-archiva-cli-.-SNAPSHOT.jar!META-INFplexuscomponents.xml

	at org.springframework.beans.factory.parsing.FailFastProblemReporter.errorFailFastProblemReporter.java
	at org.springframework.beans.factory.parsing.ReaderContext.errorReaderContext.java
	at org.springframework.beans.factory.parsing.ReaderContext.errorReaderContext.java
	at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.errorBeanDefinitionParserDelegate.java
	at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElementBeanDefinitionParserDelegate.java
	at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElementBeanDefinitionParserDelegate.java
	at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitionsDefaultBeanDefinitionDocumentReader.java
	at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitionsDefaultBeanDefinitionDocumentReader.java
	at org.codehaus.plexus.spring.PlexusBeanDefinitionDocumentReader.registerBeanDefinitionsPlexusBeanDefinitionDocumentReader.java
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitionsXmlBeanDefinitionReader.java
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitionsXmlBeanDefinitionReader.java
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitionsXmlBeanDefinitionReader.java
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitionsXmlBeanDefinitionReader.java
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitionsAbstractBeanDefinitionReader.java
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitionsAbstractBeanDefinitionReader.java
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitionsAbstractBeanDefinitionReader.java
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitionsAbstractBeanDefinitionReader.java
	at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitionsAbstractXmlApplicationContext.java
	at org.codehaus.plexus.spring.PlexusClassPathXmlApplicationContext.loadBeanDefinitionsPlexusClassPathXmlApplicationContext.java
	at org.codehaus.plexus.spring.PlexusClassPathXmlApplicationContext.loadBeanDefinitionsPlexusClassPathXmlApplicationContext.java
	at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactoryAbstractRefreshableApplicationContext.java
	at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactoryAbstractApplicationContext.java
	at org.springframework.context.support.AbstractApplicationContext.refreshAbstractApplicationContext.java
	at org.springframework.context.support.ClassPathXmlApplicationContext.initClassPathXmlApplicationContext.java
	at org.springframework.context.support.ClassPathXmlApplicationContext.initClassPathXmlApplicationContext.java
	at org.codehaus.plexus.spring.PlexusClassPathXmlApplicationContext.initPlexusClassPathXmlApplicationContext.java
	at org.apache.maven.archiva.cli.ArchivaCli.initArchivaCli.java
	at org.apache.maven.archiva.cli.ArchivaCli.mainArchivaCli.java
{code}

",Bug
"RSS tests do not correctly check responses there appears to be a bug in the tests
testInvalidRequest
testInvalidAuthenticationRequest
testUnauthorizedRequest

They all get a  response when expecting an error, and were not correctly checking the response",Bug
meclipse - getting index from archiva . failed Archiva should provide an option to generate the indices for the nexus indexer which is used by meclipse.,Bug
environment checks do not indicate which caused a violation the errors that occur lack context and should indicate which check failed to assist in repairing it,Bug
"NPE when uploading new artifact Ive got a Server Error every time I try to manually upload a jar. The upload is successful nevertheless.
Restarting does not solve the problem.
Is there a way to clean the index 


RequestURIarchivaupload!doUpload.action

Caused by

java.lang.NullPointerException
	at org.apache.lucene.index.IndexWriter.initIndexWriter.java
	at org.apache.lucene.index.IndexWriter.IndexWriter.java
	at org.sonatype.nexus.index.context.NexusIndexWriter.NexusIndexWriter.java
	at org.sonatype.nexus.index.context.DefaultIndexingContext.getIndexWriterDefaultIndexingContext.java
	at org.sonatype.nexus.index.creator.DefaultIndexerEngine.endIndexingDefaultIndexerEngine.java
	at org.apache.archiva.consumers.lucene.NexusIndexerConsumer.completeScanNexusIndexerConsumer.java
	at org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure.executeTriggerScanCompletedClosure.java
	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	at org.apache.maven.archiva.repository.scanner.RepositoryContentConsumers.executeConsumersRepositoryContentConsumers.java
	at org.apache.maven.archiva.web.action.UploadAction.doUploadUploadAction.java
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeUnknown Source
	at sun.reflect.DelegatingMethodAccessorImpl.invokeUnknown Source
	at java.lang.reflect.Method.invokeUnknown Source
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	at org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.interceptConfigurationInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.interceptParameterFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	at org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ConversionErrorInterceptor.interceptConversionErrorInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.doInterceptParametersInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.StaticParametersInterceptor.interceptStaticParametersInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.CheckboxInterceptor.interceptCheckboxInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ModelDrivenInterceptor.interceptModelDrivenInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ScopedModelDrivenInterceptor.interceptScopedModelDrivenInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.ProfilingActivationInterceptor.interceptProfilingActivationInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ChainingInterceptor.interceptChainingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.PrepareInterceptor.doInterceptPrepareInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.ServletConfigInterceptor.interceptServletConfigInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AliasInterceptor.interceptAliasInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.doInterceptParametersInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.impl.StrutsActionProxy.executeStrutsActionProxy.java
	at org.apache.struts.dispatcher.Dispatcher.serviceActionDispatcher.java
	at org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.mortbay.jetty.Server.handleServer.java
	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
	at org.mortbay.jetty.HttpConnection$RequestHandler.contentHttpConnection.java
	at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
	at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
	at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
	at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java
",Bug
"user credentials needs centralisation and simplification clean up attached is a refactoring I was experimenting with, however became too extensive for .. I noticed a couple of test failures so it may have been too aggressive.

Note some problems in the current code though
 principal is propogated into domain code search, browse, only for logging
 user repositories is a poor abstraction eg, it will fall away as we move to artifact level security or other types
 too many combinations for obtaining the principal in xwork-user - it should be set by an interceptor consistently, and non-struts code should have a single way to query the request for the credentials
 audit events should use an MDC for the logged in user and IP address",Improvement
"groups that only have one subgroup, but also contain artifacts, get collapsed in browse consider these artifacts

testMRM-
testMRM-
test.MRMartifact

This will only show the group test.MRM in the browse, since it detects there is only one group under test and can collapse it. It is not checking for artifacts in the group.",Bug
"nexus.index.time always set to . Hi,
I made an upgrade from .. to .. If I scan my repository and look afterwards in the generated nexus index properties file there is always has the wrong timestamp nexus.index.time set
----------
Wed Apr   CEST 
nexus.index.time. 
nexus.index.idsnapshots-third-party
",Bug
"Add a new role for ""Delete artifact"" It would definitely be a must to add a role for ""delete artifact"" and not  encapsulate in the Repository Manager role, maybe a Read-Write-Delete-Upload permission style.

Here is my use case
Here is the use case

With Archiva ., there is now the ""Delete Artifact"" possibility in the UI, as long as you are a ""Repository Manager"", you have access to it.  In the past, we used the ""guest"" logon for everyone which was ""Repository manager"" for our snapshots and development repositories, hence no usernamepassword in the settings.xml file.  And everyone could deploy to those repositories, and from the command-line mvn deploy or mvn deploydeploy-file .

Now we dont want everyone to go to the UI and have the possibility to delete artifacts from those repositories, so we cant give ""guest"" the ""Repository manager"" role for those repositories anymore, because if we do the ""delete Artifact"" functionality is enabled.
Weve then created a ""deployment"" user which has those roles, add it to the settings.xml file and make sure to find a way to ""hide"" the password!  

",Bug
"Archiva misleadingly logs an authorization error when deploying during the initial challenge stage In ArchivaServletAuthenticator

{code}
log.info ""Authorization Denied ip""  request.getRemoteAddr  "",isWriteRequest""  isWriteRequest 
  "",permission""  permission  "",repo""  repositoryId  ""  "" 
  authzResult.getException.getMessage ;
{code}

However, when deploying the client will send a request with no credentials first before receiving the challenge, and this is logged in the middle, which causes some confusion.

It should be removed altogether and possibly logged maybe in a different audit location, but at a later stage where it is finally rejected.",Bug
"WhiteBlacklist pattern matching doesnt work for Maven--repos I have a proxy connector to a Maven- repo.
I have a whitelist entry ""mygroup"".

If I try to download an artifact with the groupId ""my.group.id"" then my repository is ignored.

This is because for Maven- repos the resolved filename is something like ""mygroupidartifactId"". 
But I have a Maven- repo and here the resolved filename is ""my.group.idartifactId"".

Changing the whitelist entry to ""my.group."" still doesnt work, because the method DefaultRepositoryProxyConnector.matchesPattern uses org.codehaus.plexus.util.SelectorUtils.matchPath to check if the file matches a whitelist entry. 
But SelectorUtils works only with the ""file.separator"" """" on Unix to split the filename. So I have no chance of using stars  in the whitelist. 

As a hack I could specify the complete groupId with stars I cannot omit the stars ""my.group.id"" - this works. But I cant add ""my.group."" to the whitelist.

Regards
Lars",Bug
Add Archiva log files in documentation Provide an overview of the Archiva log files in the documentation documentation.,Improvement
upgrade to struts ... we are currently using ...,Bug
"last modified headers incorrect on directory listing eg. httplocalhostarchivarepositorysnapshotstesttest-deploy-snapshot.-SNAPSHOT

{code}
  Last-Modified Mon,  Apr   GMT
  Last-Modified Tue,  Mar   GMT
  ETag 
{code}

ETag is empty and last modified is duplicated",Bug
"Archiva . - Internet Explorer - Search - Anvanced Search - Advanced Search Fields - Add Search Field green  I have this issue in Internet Explorer everything is OK in  Firefox - Under ""Search"" option if I press ""Advanced Search"", and then press ""Add Search Field"" green plus - nothing will happen, if Ill press second time Ill receive this error


---------------------------
Windows Internet Explorer
---------------------------
Cannot add field! Field has already been added.
---------------------------
OK  
--------------------------- ",Bug
"Add access i.e. download logging to audit log Currently, the Archiva audit log only contains modification to the repositories. However, it would be very useful if also access i.e. downloads can be logged, especially for security reasons in business environments. I tried doing this with Tomcat, but then the GET requests are visible but the username is not.

Logging the downloads should be configurable logging thousands of downloads from user guest might not be desirable.

See also discussion on Archiva users mailinglist.",Improvement
"Unable to start Archiva on Glassfish using MySQL Trying to add a new repository AdministrationRepositoriesRemote Add on a brand new instance fails with that exception 
java.lang.NoClassDefFoundError Could not initialize class com.opensymphony.xwork.validator.ValidatorFactory
	at com.opensymphony.xwork.validator.ValidatorFileParser.addValidatorConfigsValidatorFileParser.java
	at com.opensymphony.xwork.validator.ValidatorFileParser.parseActionValidatorConfigsValidatorFileParser.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.loadFileAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.buildClassValidatorConfigsAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.buildValidatorConfigsAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.getValidatorsAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.validateAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.validateAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.validateAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.ValidationInterceptor.doBeforeInvocationValidationInterceptor.java
	at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	at org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ConversionErrorInterceptor.interceptConversionErrorInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.doInterceptParametersInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.StaticParametersInterceptor.interceptStaticParametersInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.CheckboxInterceptor.interceptCheckboxInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ModelDrivenInterceptor.interceptModelDrivenInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ScopedModelDrivenInterceptor.interceptScopedModelDrivenInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.ProfilingActivationInterceptor.interceptProfilingActivationInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ChainingInterceptor.interceptChainingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.PrepareInterceptor.doInterceptPrepareInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.ServletConfigInterceptor.interceptServletConfigInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AliasInterceptor.interceptAliasInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.doInterceptParametersInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.impl.StrutsActionProxy.executeStrutsActionProxy.java
	at org.apache.struts.dispatcher.Dispatcher.serviceActionDispatcher.java
	at org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at org.apache.catalina.core.StandardWrapperValve.invokeStandardWrapperValve.java
	at org.apache.catalina.core.StandardContextValve.invokeInternalStandardContextValve.java
	at org.apache.catalina.core.StandardContextValve.invokeStandardContextValve.java
	at org.apache.catalina.core.StandardPipeline.doInvokeStandardPipeline.java
	at org.apache.catalina.core.StandardPipeline.doInvokeStandardPipeline.java
	at com.sun.enterprise.web.WebPipeline.invokeWebPipeline.java
	at com.sun.enterprise.web.PESessionLockingStandardPipeline.invokePESessionLockingStandardPipeline.java
	at org.apache.catalina.core.StandardHostValve.invokeStandardHostValve.java
	at org.apache.catalina.core.StandardPipeline.doInvokeStandardPipeline.java
	at org.apache.catalina.core.StandardPipeline.doInvokeStandardPipeline.java
	at org.apache.catalina.core.StandardPipeline.invokeStandardPipeline.java
	at org.apache.catalina.core.ContainerBase.invokeContainerBase.java
	at org.apache.catalina.core.StandardEngineValve.invokeStandardEngineValve.java
	at org.apache.catalina.core.StandardPipeline.doInvokeStandardPipeline.java
	at org.apache.catalina.core.StandardPipeline.doInvokeStandardPipeline.java
	at org.apache.catalina.core.StandardPipeline.invokeStandardPipeline.java
	at org.apache.catalina.core.ContainerBase.invokeContainerBase.java
	at org.apache.coyote.tomcat.CoyoteAdapter.serviceCoyoteAdapter.java
	at com.sun.enterprise.web.connector.grizzly.DefaultProcessorTask.invokeAdapterDefaultProcessorTask.java
	at com.sun.enterprise.web.connector.grizzly.DefaultProcessorTask.doProcessDefaultProcessorTask.java
	at com.sun.enterprise.web.connector.grizzly.DefaultProcessorTask.processDefaultProcessorTask.java
	at com.sun.enterprise.web.connector.grizzly.DefaultReadTask.executeProcessorTaskDefaultReadTask.java
	at com.sun.enterprise.web.connector.grizzly.DefaultReadTask.doTaskDefaultReadTask.java
	at com.sun.enterprise.web.connector.grizzly.DefaultReadTask.doTaskDefaultReadTask.java
	at com.sun.enterprise.web.portunif.PortUnificationPipeline$PUTask.doTaskPortUnificationPipeline.java
	at com.sun.enterprise.web.connector.grizzly.TaskBase.runTaskBase.java
	at com.sun.enterprise.web.connector.grizzly.ssl.SSLWorkerThread.runSSLWorkerThread.java
",Bug
Add Archiva log files in documentation Provide an overview of the Archiva log files in the documentation documentation.,Improvement
"Cannot remove a whitelist entry containing backslashes Archiva supports adding whitelist entries containing backslashes like

javax.
com.

but refuses to remove such entries stating

Non-existant white list pattern com., no white list pattern removed.
Non-existant white list pattern javax., no white list pattern removed.

This is a blocker since there is no way to remove such whitelist entries using the web UI.
",Bug
Move out upgrade instructions from Installing Standalone into its own page Its hard to find the upgrade instructions if you dont know where it is. ,Improvement
"More fine-grained blacklistwhitelist for artifacts I would like to have more filtering possiblities for artifacts of a remote proxy.

For instance, SpringSource artifacts are declared similar to
{code}dependency
                        groupIdorg.apache.logjgroupId
                        artifactIdcom.springsource.org.apache.logjartifactId
                        version..version
                dependency{code}

But I have no way of adding them to a whitelistblacklist.",Improvement
"Search with dashes returns no results When searching for ""plexus-component-api"" simple web search or webservice quicksearch, I am getting no results.
Searching for ""component"" finds several including plexus-component-api.

Since many artifactIds contain dashes, Ive marked the issue as Critical.",Bug
"consumers that fail to start should remove themselves from the list of consumers for the current scan currently, it relies on the consumer checking in processFile whether the consumer started properly and to skip the action if not",Bug
"checksums are not updated when artifact is re-uploaded If you upload a jar through the web interface, Archiva correctly generates md and sha checksums for the jar and pom.

If you re-upload the same artifact, perhaps you accidentally uploaded the wrong jar, or need to fix something in the pom, Archiva does not generate new checksums.

This causes multiple downloads and warning during Maven builds.

To reproduce, upload any jar as com.exampleexample. and verify the checksums

$ mdsum -c example-..jar.md
example-..jar OK

$ shasum -c example-..jar.sha
example-..jar OK

Then upload a different jar with the same parameters.  Verify the checksums, and youll see

$ mdsum -c example-..jar.md
example-..jar FAILED
mdsum WARNING  of  computed checksum did NOT match

$ shasum -c example-..jar.sha
example-..jar FAILED
shasum WARNING  of  computed checksum did NOT match

This also happens if you upload a new pom.

A workaround is to delete the artifact before uploading the replacement.  Then Archiva will generate the checksums correctly.",Bug
"NPE in browse at artifact level after having just completed the scan for junit, I browsed into junitjunit The artifact level

I got a  with
{code}
java.lang.NullPointerException
	at org.apache.maven.archiva.web.action.BrowseAction.populateSharedModelBrowseAction.java
	at org.apache.maven.archiva.web.action.BrowseAction.browseArtifactBrowseAction.java
{code}

Note that going direct to . works. I continue to get the error instead of the list of versions.",Bug
"Fix java.lang.NullPointerException configuration can not be null on startup {noformat}
-- .WARN  Nested in org.springframework.beans.factory.BeanCreationException Error creating bean with name indexCleanupConsumer defined in URL jarfileprivatetmpJetty______archiva.webapp...SNAPSHOT.war____xuhwbwebappWEB-INFlibarchiva-lucene-consumers-.-SNAPSHOT.jar!META-INFspring-context.xml Cannot resolve reference to bean repositoryContentFactory while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name repositoryContentFactory Post-processing of the FactoryBeans object failed; nested exception is java.lang.NullPointerException configuration can not be null
java.lang.NullPointerException configuration can not be null
	at org.codehaus.plexus.registry.commons.CommonsConfigurationRegistry.initCommonsConfigurationRegistry.java
	at org.codehaus.plexus.registry.commons.CommonsConfigurationRegistry.getSectionCommonsConfigurationRegistry.java
	at org.apache.maven.archiva.configuration.DefaultArchivaConfiguration.addRegistryChangeListenerDefaultArchivaConfiguration.java
	at org.apache.maven.archiva.configuration.DefaultArchivaConfiguration.addChangeListenerDefaultArchivaConfiguration.java
	at org.apache.maven.archiva.repository.RepositoryContentFactory.initializeRepositoryContentFactory.java
	at org.codehaus.plexus.spring.PlexusLifecycleBeanPostProcessor.postProcessAfterInitializationPlexusLifecycleBeanPostProcessor.java
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitializationAbstractAutowireCapableBeanFactory.java
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBeanAbstractAutowireCapableBeanFactory.java
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$.runFactoryBeanRegistrySupport.java
	at java.security.AccessController.doPrivilegedNative Method
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBeanFactoryBeanRegistrySupport.java
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBeanFactoryBeanRegistrySupport.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstanceAbstractBeanFactory.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReferenceBeanDefinitionValueResolver.java
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessaryBeanDefinitionValueResolver.java
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArgumentsConstructorResolver.java
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructorConstructorResolver.java
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructorAbstractAutowireCapableBeanFactory.java
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstanceAbstractAutowireCapableBeanFactory.java
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$.runAbstractAutowireCapableBeanFactory.java
	at java.security.AccessController.doPrivilegedNative Method
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
	at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletonsDefaultListableBeanFactory.java
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitializationAbstractApplicationContext.java
	at org.springframework.context.support.AbstractApplicationContext.refreshAbstractApplicationContext.java
	at org.springframework.web.context.ContextLoader.createWebApplicationContextContextLoader.java
	at org.springframework.web.context.ContextLoader.initWebApplicationContextContextLoader.java
	at org.springframework.web.context.ContextLoaderListener.contextInitializedContextLoaderListener.java
	at org.mortbay.jetty.handler.ContextHandler.startContextContextHandler.java
	at org.mortbay.jetty.servlet.Context.startContextContext.java
	at org.mortbay.jetty.webapp.WebAppContext.startContextWebAppContext.java
	at org.mortbay.jetty.handler.ContextHandler.doStartContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.doStartWebAppContext.java
	at org.mortbay.jetty.plugin.JettyPluginWebAppContext.doStartJettyPluginWebAppContext.java
	at org.mortbay.component.AbstractLifeCycle.startAbstractLifeCycle.java
	at org.mortbay.jetty.handler.HandlerCollection.doStartHandlerCollection.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.doStartContextHandlerCollection.java
	at org.mortbay.component.AbstractLifeCycle.startAbstractLifeCycle.java
	at org.mortbay.jetty.handler.HandlerCollection.doStartHandlerCollection.java
	at org.mortbay.component.AbstractLifeCycle.startAbstractLifeCycle.java
	at org.mortbay.jetty.handler.HandlerWrapper.doStartHandlerWrapper.java
	at org.mortbay.jetty.Server.doStartServer.java
	at org.mortbay.component.AbstractLifeCycle.startAbstractLifeCycle.java
	at org.mortbay.jetty.plugin.JettyPluginServer.startJettyPluginServer.java
	at org.mortbay.jetty.plugin.AbstractJettyMojo.startJettyAbstractJettyMojo.java
	at org.mortbay.jetty.plugin.AbstractJettyMojo.executeAbstractJettyMojo.java
	at org.mortbay.jetty.plugin.JettyRunWar.executeJettyRunWar.java
	at org.apache.maven.plugin.DefaultPluginManager.executeMojoDefaultPluginManager.java
	at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalsDefaultLifecycleExecutor.java
	at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeStandaloneGoalDefaultLifecycleExecutor.java
	at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalDefaultLifecycleExecutor.java
	at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalAndHandleFailuresDefaultLifecycleExecutor.java
	at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeTaskSegmentsDefaultLifecycleExecutor.java
	at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeDefaultLifecycleExecutor.java
	at org.apache.maven.DefaultMaven.doExecuteDefaultMaven.java
	at org.apache.maven.DefaultMaven.executeDefaultMaven.java
	at org.apache.maven.cli.MavenCli.mainMavenCli.java
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	at java.lang.reflect.Method.invokeMethod.java
	at org.codehaus.classworlds.Launcher.launchEnhancedLauncher.java
	at org.codehaus.classworlds.Launcher.launchLauncher.java
	at org.codehaus.classworlds.Launcher.mainWithExitCodeLauncher.java
	at org.codehaus.classworlds.Launcher.mainLauncher.java
-- .INFO  Shutdown hook complete

{noformat}",Bug
"warning on changing repo location is confusing if it exists steps to reproduce
 add a new managed repository
 set the directory to a directory that already exists need not be a repository
 submit the page

what happens
- confirmation page that says the directory already exists with a red warning

what should happen
- likely should be omitted or be toned down, its not unusual to point to an existing repository.",Improvement
"indexing problems on metadata retrieval I repeatedly get the following, though the next attempt it succeeds And a subsequent file dies. Note that there is another process using the repository at the same time.

{code}
 btpool- ERROR org.mortbay.log - archivarepositoryreleasesorgapachemavenpluginsmaven-pmd-pluginmaven-metadata.xml
org.apache.lucene.store.AlreadyClosedException this IndexReader is closed
        at org.apache.lucene.index.IndexReader.ensureOpenIndexReader.java
        at org.apache.lucene.index.IndexReader.documentIndexReader.java
        at org.sonatype.nexus.index.packer.DefaultIndexPacker.writeIndexChunksDefaultIndexPacker.java
        at org.sonatype.nexus.index.packer.DefaultIndexPacker.packIndexDefaultIndexPacker.java
        at org.apache.archiva.consumers.lucene.NexusIndexerConsumer.completeScanNexusIndexerConsumer.java
        at org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure.executeTriggerScanCompletedClosure.java
        at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
        at org.apache.maven.archiva.repository.scanner.RepositoryContentConsumers.executeConsumersRepositoryContentConsumers.java
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFileDefaultRepositoryProxyConnectors.java
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchMetatadaFromProxiesDefaultRepositoryProxyConnectors.java
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxiesArchivaDavResourceFactory.java
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.processRepositoryArchivaDavResourceFactory.java
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.processRepositoryGroupArchivaDavResourceFactory.java
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResourceArchivaDavResourceFactory.java
        at org.apache.maven.archiva.webdav.RepositoryServlet.serviceRepositoryServlet.java
{code}

In addition, this shouldnt result in a  error
",Bug
"empty logoLocation can be set for the organisation, but does not show the default logo My config had

{codexml}
organisationInfo
nameBrett Portername
urlurl
logoLocationlogoLocation
organisationInfo
{code}

I dont recall if I configured this myself or if it was set that way in the past. The default checks are for nulls, not empty, so it showed a bad URL and logo",Bug
"Improve delete artifact from webapp Move delete artifact in artifact information page instead of as a separate formmenu. 

See the following thread in the dev list for more details

httpwww.mail-archive.comdev@archiva.apache.orgmsg.html ",Improvement
"Error when processing file nexus-maven-repository-index.zip On every repository scan, Archiva complains about the nexus-maven-repository-index.zip file.  See ERROR below

-- , pool--thread- INFO  org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor  - Executing task from queue with job name repository-jobsnapshots
-- , pool--thread- INFO  org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance  - Walk Started snapshots usrlocalsharerepositorysnapshots
-- , pool--thread- ERROR org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure  - Consumer repository-purge had an error when processing file usrlocalsharerepositorysnapshots.indexnexus-maven-repository-index.zip Not enough parts to the path .indexnexus-maven-repository-index.zip to construct an ArchivaArtifact from. Requires at least  parts
org.apache.maven.archiva.consumers.ConsumerException Not enough parts to the path .indexnexus-maven-repository-index.zip to construct an ArchivaArtifact from. Requires at least  parts
	at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFileRepositoryPurgeConsumer.java
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.executeConsumerProcessFileClosure.java
	at org.apache.commons.collections.functors.IfClosure.executeIfClosure.java
	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStepRepositoryScannerInstance.java
	at org.codehaus.plexus.util.DirectoryWalker.fireStepDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirectoryWalker.java
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTaskArchivaRepositoryScanningTaskExecutor.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
	at java.lang.Thread.runThread.java
Caused by org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeException Not enough parts to the path .indexnexus-maven-repository-index.zip to construct an ArchivaArtifact from. Requires at least  parts
	at org.apache.maven.archiva.consumers.core.repository.CleanupReleasedSnapshotsRepositoryPurge.processCleanupReleasedSnapshotsRepositoryPurge.java
	at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFileRepositoryPurgeConsumer.java
	...  more
Caused by org.apache.maven.archiva.repository.layout.LayoutException Not enough parts to the path .indexnexus-maven-repository-index.zip to construct an ArchivaArtifact from. Requires at least  parts
	at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReferenceDefaultPathParser.java
	at org.apache.maven.archiva.repository.content.AbstractDefaultRepositoryContent.toArtifactReferenceAbstractDefaultRepositoryContent.java
	at org.apache.maven.archiva.repository.content.ManagedDefaultRepositoryContent.toArtifactReferenceManagedDefaultRepositoryContent.java
	at org.apache.maven.archiva.consumers.core.repository.CleanupReleasedSnapshotsRepositoryPurge.processCleanupReleasedSnapshotsRepositoryPurge.java
	...  more
-- , btpool- INFO  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer not attempted on httprepo.maven.orgmavenwerken-xpathwerken-xpath..werken-xpath-...pom  NO to update releases, policy is ONCE, and local file exist. using already present local file.
-- , pool--thread- INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer auto-remove completed for repository snapshots
-- , pool--thread- INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer metadata-updater completed for repository snapshots
-- , pool--thread- INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer auto-rename completed for repository snapshots
-- , pool--thread- INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer repository-purge completed for repository snapshots
-- , pool--thread- INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer update-db-artifact completed for repository snapshots
-- , pool--thread- INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer create-missing-checksums completed for repository snapshots
-- , btpool- INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer auto-remove completed for repository internal
-- , btpool- INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer metadata-updater completed for repository internal
-- , btpool- INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer auto-rename completed for repository internal
-- , btpool- INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer repository-purge completed for repository internal
-- , btpool- INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer update-db-artifact completed for repository internal
-- , btpool- INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer create-missing-checksums completed for repository internal
-- , pool--thread- INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer index-content completed for repository snapshots
-- , pool--thread- INFO  org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance  - Walk Finished snapshots usrlocalsharerepositorysnapshots
-- , pool--thread- INFO  org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor  - Finished repository task 
. Scan of snapshots .__________________________________________
  Repository Dir     usrlocalsharerepositorysnapshots
  Repository Name    Archiva Managed Snapshot Repository
  Repository Layout  default
  Known Consumers     configured
                      auto-remove
                      metadata-updater
                      auto-rename
                      repository-purge
                      update-db-artifact
                      create-missing-checksums
                      index-content
  Invalid Consumers  none
  Duration            Seconds  Milliseconds
  When Gathered        AM
  Total File Count   
  Avg Time Per File   Milliseconds
______________________________________________________________
-- , pool--thread- INFO  org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor  - Finished database task in ms.
",Bug
"Invalid version validation error when uploading a jar with a four-part version number Archiva will not allow you to upload an artifact with a version number in the format .-r-proj-..

We use this version number format to do internal releases of third-party artifacts.

Deploying from the command line works, but the artifact upload form in Archiva will not accept this version number and displays ""Invalid version"".
",Bug
"modify applet to support modern browsers several browsers Eg, Safari , Firefox  do not provide the full path of a file input for security reasons, so the filename given to the applet contains no path information and fails.

To work around this, the file prompt should be done from within the applet itself instead.",Bug
"Archiva Reporting Modification Request  Log onto Archiva server as ""admin"".
 Click ""Reports"" in left nav.
 Select a repository.
 Click ""View Statistics""

The resulting report contains several counts including ""jar"" and ""war"" files.

We would like the report to include the following types

EARs
DLLs
EXEs
ZIPs

All of these except ZIPs appear to be readily available in the

""org.apache.maven.archiva.reporting.RepositioryStatistics""

type which appears to be used to create the report.

It appears that EARs, DLLs, and EXEs can added to the report with a simple change to the

""org.apache.maven.archiva.web.action.reports.GenerateReportAction""

type.

If the above analysis is correct, we would ask that this be delivered in  parts

. Add EARs , DLLs, and EXEs to the report created by ""GenerateReportAction"" since this can be easily turned around.
. Add ZIPs as soon as reasonably able to do so.",New_Feature
"Search using some character keywords asterisk, comma, double quote, colon results to HTTP Error  When searching for , the resulting error message is

HTTP ERROR 

maxClauseCount is set to 

RequestURIarchivaquickSearch.action
Caused by

org.apache.lucene.search.BooleanQuery$TooManyClauses maxClauseCount is set to 
	at org.apache.lucene.search.BooleanQuery.addBooleanQuery.java
	at org.apache.lucene.search.BooleanQuery.addBooleanQuery.java
	at org.apache.lucene.search.MultiTermQuery.rewriteMultiTermQuery.java
	at org.apache.lucene.search.WildcardQuery.rewriteWildcardQuery.java
	at org.apache.lucene.search.BooleanQuery.rewriteBooleanQuery.java
	at org.apache.lucene.search.IndexSearcher.rewriteIndexSearcher.java
	at org.apache.lucene.search.Query.weightQuery.java
	at org.apache.lucene.search.Hits.Hits.java
	at org.apache.lucene.search.Searcher.searchSearcher.java


-----------
While searching for the other characters results to the following error
HTTP ERROR 

Index , Size 

RequestURIarchivaquickSearch.action
Caused by

java.lang.IndexOutOfBoundsException Index , Size 
	at java.util.ArrayList.RangeCheckArrayList.java
	at java.util.ArrayList.getArrayList.java
	at org.sonatype.nexus.index.DefaultQueryCreator.constructQueryDefaultQueryCreator.java
	at org.sonatype.nexus.index.DefaultNexusIndexer.constructQueryDefaultNexusIndexer.java
	at org.apache.archiva.indexer.search.NexusRepositorySearch.constructQueryNexusRepositorySearch.java
	at org.apache.archiva.indexer.search.NexusRepositorySearch.searchNexusRepositorySearch.java
	at org.apache.maven.archiva.web.action.SearchAction.quickSearchSearchAction.java",Bug
"Audit log shows user guest when deploying files from Maven Testing M webdav deployment as user admin

I get in the log ""guest"" user

jvm     | -- , SocketListener- INFO  AuditLog                       - samplepomssample-echo-.-SNAPSHOT.pom guest ... ""samplepoms"" ""Created Directory""
jvm     | -- , SocketListener- INFO  AuditLog                       - snapshots guest ... ""samplepomssample-echo-.-SNAPSHOT.pom"" ""Created File""
jvm     | -- , SocketListener- INFO  AuditLog                       - snapshots guest ... ""samplepomssample-echo-.-SNAPSHOT.pom.md"" ""Modified File""
jvm     | -- , SocketListener- INFO  AuditLog                       - snapshots guest ... ""samplepomssample-echo-.-SNAPSHOT.pom.sha"" ""Modified File""
jvm     | -- , SocketListener- INFO  AuditLog                       - snapshots guest ... ""samplepomssample-echo-snapshot-version"" ""Created File""
jvm     | -- , SocketListener- INFO  AuditLog                       - snapshots guest ... ""samplepomssample-echo-snapshot-version.md"" ""Created File""
jvm     | -- , SocketListener- INFO  AuditLog                       - snapshots guest ... ""samplepomssample-echo-snapshot-version.sha"" ""Created File""
jvm     | -- , SocketListener- INFO  AuditLog                       - snapshots guest ... ""samplepomssample-echo-.-..pom"" ""Created File""
jvm     | -- , SocketListener- INFO  AuditLog                       - snapshots guest ... ""samplepomssample-echo-.-..pom.md"" ""Modified File""
jvm     | -- , SocketListener- INFO  AuditLog                       - snapshots guest ... ""samplepomssample-echo-.-..pom.sha"" ""Modified File""
jvm     | -- , SocketListener- INFO  AuditLog                       - samplejarssample-echo-.-SNAPSHOT.jar guest ... ""samplejars"" ""Created Directory""
jvm     | -- , SocketListener- INFO  AuditLog                       - snapshots guest ... ""samplejarssample-echo-.-SNAPSHOT.jar"" ""Created File""
jvm     | -- , SocketListener- INFO  AuditLog                       - snapshots guest ... ""samplejarssample-echo-.-SNAPSHOT.jar.md"" ""Modified File""
jvm     | -- , SocketListener- INFO  AuditLog                       - snapshots guest ... ""samplejarssample-echo-.-SNAPSHOT.jar.sha"" ""Modified File""
jvm     | -- , SocketListener- INFO  AuditLog                       - snapshots guest ... ""samplejarssample-echo-snapshot-version"" ""Created File""
jvm     | -- , SocketListener- INFO  AuditLog                       - snapshots guest ... ""samplejarssample-echo-snapshot-version.md"" ""Created File""
jvm     | -- , SocketListener- INFO  AuditLog                       - snapshots guest ... ""samplejarssample-echo-snapshot-version.sha"" ""Created File""
jvm     | -- , SocketListener- INFO  AuditLog                       - snapshots guest ... ""samplejarssample-echo-.-..jar"" ""Created File""
jvm     | -- , SocketListener- INFO  AuditLog                       - snapshots guest ... ""samplejarssample-echo-.-..jar.md"" ""Modified File""
jvm     | -- , SocketListener- INFO  AuditLog                       - snapshots guest ... ""samplejarssample-echo-.-..jar.sha"" ""Modified File""",Bug
"NPE retrieving artifacts via httpwebdav that are proxied {code}
java.lang.NullPointerException
        at org.apache.lucene.index.IndexWriter.initIndexWriter.java
        at org.apache.lucene.index.IndexWriter.initIndexWriter.java
        at org.sonatype.nexus.index.context.NexusIndexWriter.initNexusIndexWriter.java
        at org.sonatype.nexus.index.context.DefaultIndexingContext.getIndexWriterDefaultIndexingContext.java
        at org.sonatype.nexus.index.creator.DefaultIndexerEngine.indexDefaultIndexerEngine.java
        at org.apache.archiva.consumers.lucene.NexusIndexerConsumer.processFileNexusIndexerConsumer.java
{code}",Bug
"When admin user expire, archiva reaises an error when trying to  After admin user had its password expired, then when I logon it asks to change the password and it 

I was forced to change the admin password, and it seems that archiva
is failing when I try to change it.
I tried a few things I saw on a few posts. I addedchanged the
following lines to the security.properties


security.policy.password.expiration.days
security.policy.allowed.login.attempt
security.policy.password.expiration.enabledfalse
security.policy.password.expiration.days
security.policy.unlockable.accountsadmin

Still I cant login as admin, or any other user as admin was my only user.
The stacktrace below is the page error.

HTTP ERROR 

fromIndex  toIndex-

RequestURIarchivasecuritypassword.action
Caused by

java.lang.IllegalArgumentException fromIndex  toIndex-
	at java.util.SubList.AbstractList.java
	at java.util.RandomAccessSubList.AbstractList.java
	at java.util.AbstractList.subListAbstractList.java
	at org.codehaus.plexus.redback.policy.DefaultUserSecurityPolicy.extensionChangePasswordDefaultUserSecurityPolicy.java
	at org.codehaus.plexus.redback.users.jdo.JdoUserManager.updateUserJdoUserManager.java
	at org.codehaus.plexus.redback.users.cached.CachedUserManager.updateUserCachedUserManager.java
	at org.codehaus.plexus.redback.users.configurable.ConfigurableUserManager.updateUserConfigurableUserManager.java
	at org.codehaus.plexus.redback.struts.action.PasswordAction.submitPasswordAction.java
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	at java.lang.reflect.Method.invokeMethod.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.EnvironmentCheckInterceptor.interceptEnvironmentCheckInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	at org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ConversionErrorInterceptor.interceptConversionErrorInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.doInterceptParametersInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.StaticParametersInterceptor.interceptStaticParametersInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.CheckboxInterceptor.interceptCheckboxInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ModelDrivenInterceptor.interceptModelDrivenInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ScopedModelDrivenInterceptor.interceptScopedModelDrivenInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.ProfilingActivationInterceptor.interceptProfilingActivationInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ChainingInterceptor.interceptChainingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.PrepareInterceptor.doInterceptPrepareInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.ServletConfigInterceptor.interceptServletConfigInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AliasInterceptor.interceptAliasInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.impl.StrutsActionProxy.executeStrutsActionProxy.java
	at org.apache.struts.dispatcher.Dispatcher.serviceActionDispatcher.java
	at org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.mortbay.jetty.Server.handleServer.java
	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
	at org.mortbay.jetty.HttpConnection$RequestHandler.contentHttpConnection.java
	at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
	at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
	at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
	at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java
",Bug
centralise logging through slfj there are a few plexus logging uses and a spread of logging configurations that need to be consolidated,Bug
"Archiva doesnt cope with versions in a pom.xml that are properties I upgraded to Archiva .. this morning, and after several failed starts got it going. Now there are some exceptions in the logs like the one below. It looks like Archiva parses the pom.xml and inserts the values for the versions. However, in this case the versions are properties that 
 dont seem to be resolved. 

The pom snippet is

{codexml}
plugin
  groupIdorg.codehaus.mojogroupId 
  artifactIdbuild-helper-maven-pluginartifactId 
  version${org.codehaus.mojo--build-helper-maven-plugin.version}version 
  inheritedtrueinherited 
  executions
    execution
      idadd-sourceid 
      phasegenerate-sourcesphase 
      goals
        goaladd-sourcegoal 
      goals
      configuration
        sources
          source${basedir}java-gensource 
          source${basedir}java-srcsource 
          source${basedir}java-testsource 
        sources
      configuration
    execution
  executions
plugin

 properties
    org.codehaus.mojo--build-helper-maven-plugin.version.org.codehaus.mojo--build-helper-maven-plugin.version 
    maven-assembly-plugin.version.-beta-maven-assembly-plugin.version 
  properties
{code}

The stack trace is

{code}
 -- , pool--thread- ERROR org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer - Unable to process model homedevadmindatamavenmavenRepositoryinternal_snapshotscompanyProjectName..-SNAPSHOTProjectName-..-.-.pom due to  javax.jdo.JDOFatalUserException  Attempt to store value ""${org.codehaus.mojo--build-helper-maven-plugin.version}"" in column ""VERSION"" that has maximum length of . Please correct your data!
 javax.jdo.JDOFatalUserException Attempt to store value ""${org.codehaus.mojo--build-helper-maven-plugin.version}"" in column ""VERSION"" that has maximum length of . Please correct your data!
        at org.jpox.store.rdbms.mapping.CharRDBMSMapping.setStringCharRDBMSMapping.java
        at org.jpox.store.mapping.SingleFieldMapping.setStringSingleFieldMapping.java
        at org.jpox.store.rdbms.fieldmanager.ParameterSetter.storeStringFieldParameterSetter.java
        at org.jpox.state.StateManagerImpl.providedStringFieldStateManagerImpl.java
        at org.apache.maven.archiva.model.ArtifactReference.jdoProvideFieldArtifactReference.java
        at org.apache.maven.archiva.model.ArtifactReference.jdoProvideFieldsArtifactReference.java
        at org.jpox.state.StateManagerImpl.provideFieldsStateManagerImpl.java
        at org.jpox.store.rdbms.request.InsertRequest.executeInsertRequest.java
        at org.jpox.store.rdbms.table.ClassTable.insertClassTable.java
        at org.jpox.store.StoreManager.insertStoreManager.java
        at org.jpox.state.StateManagerImpl.internalMakePersistentStateManagerImpl.java
        at org.jpox.state.StateManagerImpl.makePersistentStateManagerImpl.java
        at org.jpox.AbstractPersistenceManager.internalMakePersistentAbstractPersistenceManager.java
        at org.jpox.AbstractPersistenceManager.makePersistentInternalAbstractPersistenceManager.java
        at org.jpox.store.rdbms.scostore.FKListStore.validateElementForWritingFKListStore.java
        at org.jpox.store.rdbms.scostore.FKListStore.internalAddFKListStore.java
        at org.jpox.store.rdbms.scostore.AbstractListStore.addAllAbstractListStore.java
        at org.jpox.store.mapping.CollectionMapping.postInsertCollectionMapping.java
        at org.jpox.store.rdbms.request.InsertRequest.executeInsertRequest.java
        at org.jpox.store.rdbms.table.ClassTable.insertClassTable.java
        at org.jpox.store.StoreManager.insertStoreManager.java
        at org.jpox.state.StateManagerImpl.internalMakePersistentStateManagerImpl.java
        at org.jpox.state.StateManagerImpl.makePersistentStateManagerImpl.java
        at org.jpox.AbstractPersistenceManager.internalMakePersistentAbstractPersistenceManager.java
        at org.jpox.AbstractPersistenceManager.makePersistentAbstractPersistenceManager.java
        at org.apache.maven.archiva.database.jdo.JdoAccess.saveObjectJdoAccess.java
        at org.apache.maven.archiva.database.jdo.JdoAccess.saveObjectJdoAccess.java
        at org.apache.maven.archiva.database.jdo.JdoProjectModelDAO.saveProjectModelJdoProjectModelDAO.java
        at org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer.processArchivaArtifactProjectModelToDatabaseConsumer.java
        at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.executeProcessArchivaArtifactClosure.java
        at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
        at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateUnprocessedJdoDatabaseUpdater.java
        at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateAllUnprocessedJdoDatabaseUpdater.java
        at org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor.executeTaskArchivaDatabaseUpdateTaskExecutor.java
        at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
        at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
        at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
        at java.lang.Thread.runThread.java
{code}
",Bug
"indexing needs assistance for those upgrading from . since the format has changed, a new index needs to be created. However, since the database has already processed the artifacts, they wont be indexed. 

the previous directories will be ignored .index, and should be cleaned up

if using a custom index location, the indexer will fail since one already exists

",Bug
"Update from .. to . fails with create table error After updating from .. to . the following exception is thrown contiously

pool--thread- ERROR JPOX.RDBMS  - An exception was thrown while addingvalidating classes  Cant create table .archivasql-f_bb.frm errno 
java.sql.SQLException Cant create table .archivasql-f_bb.frm errno 
        at com.mysql.jdbc.SQLError.createSQLExceptionSQLError.java
        at com.mysql.jdbc.SQLError.createSQLExceptionSQLError.java
        at com.mysql.jdbc.MysqlIO.checkErrorPacketMysqlIO.java
        at com.mysql.jdbc.MysqlIO.checkErrorPacketMysqlIO.java
        at com.mysql.jdbc.MysqlIO.sendCommandMysqlIO.java
        at com.mysql.jdbc.MysqlIO.sqlQueryDirectMysqlIO.java
        at com.mysql.jdbc.ConnectionImpl.execSQLConnectionImpl.java
        at com.mysql.jdbc.ConnectionImpl.execSQLConnectionImpl.java
        at com.mysql.jdbc.StatementImpl.executeStatementImpl.java
        at org.apache.tomcat.dbcp.dbcp.DelegatingStatement.executeDelegatingStatement.java
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementAbstractTable.java
        at org.jpox.store.rdbms.table.TableImpl.validateForeignKeysTableImpl.java
        at org.jpox.store.rdbms.table.TableImpl.validateConstraintsTableImpl.java
        at org.jpox.store.rdbms.table.ClassTable.validateConstraintsClassTable.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidationRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidateRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.runRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.executeRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager.addClassesRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager.addClassRDBMSManager.java
        at org.jpox.AbstractPersistenceManager.newObjectIdInstanceAbstractPersistenceManager.java
        at org.apache.maven.archiva.database.jdo.JdoAccess.getObjectByIdJdoAccess.java
        at org.apache.maven.archiva.database.jdo.JdoProjectModelDAO.getProjectModelJdoProjectModelDAO.java
        at org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer.getProjectModelFromDatabaseProjectModelToDatabaseConsumer.java
        at org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer.processArchivaArtifactProjectModelToDatabaseConsumer.java
        at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.executeProcessArchivaArtifactClosure.java
        at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
        at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateUnprocessedJdoDatabaseUpdater.java
        at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateAllUnprocessedJdoDatabaseUpdater.java
        at org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor.executeTaskArchivaDatabaseUpdateTaskExecutor.java
        at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
        at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
        at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
        at java.lang.Thread.runThread.java


Caused by javax.jdo.JDODataStoreException Errors were found while auto-creatingvalidating the datastore for classes. The errors are printed in the log, and are attached to this exception.
NestedThrowables
java.sql.SQLException Cant create table .archivasql-f_bba.frm errno 
java.sql.SQLException Cant create table .archivasql-f_bba.frm errno 
java.sql.SQLException Cant create table .archivasql-f_bba.frm errno 
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.verifyErrorsRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidateRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.runRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.executeRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager.addClassesRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager.addClassRDBMSManager.java
        at org.jpox.AbstractPersistenceManager.newObjectIdInstanceAbstractPersistenceManager.java
        at org.apache.maven.archiva.database.jdo.JdoAccess.getObjectByIdJdoAccess.java
        ...  more
Caused by java.sql.SQLException Cant create table .archivasql-f_bba.frm errno 
        at com.mysql.jdbc.SQLError.createSQLExceptionSQLError.java
        at com.mysql.jdbc.SQLError.createSQLExceptionSQLError.java
        at com.mysql.jdbc.MysqlIO.checkErrorPacketMysqlIO.java
        at com.mysql.jdbc.MysqlIO.checkErrorPacketMysqlIO.java
        at com.mysql.jdbc.MysqlIO.sendCommandMysqlIO.java
        at com.mysql.jdbc.MysqlIO.sqlQueryDirectMysqlIO.java
        at com.mysql.jdbc.ConnectionImpl.execSQLConnectionImpl.java
        at com.mysql.jdbc.ConnectionImpl.execSQLConnectionImpl.java
        at com.mysql.jdbc.StatementImpl.executeStatementImpl.java
        at org.apache.tomcat.dbcp.dbcp.DelegatingStatement.executeDelegatingStatement.java
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementAbstractTable.java
        at org.jpox.store.rdbms.table.TableImpl.validateForeignKeysTableImpl.java
        at org.jpox.store.rdbms.table.TableImpl.validateConstraintsTableImpl.java
        at org.jpox.store.rdbms.table.ClassTable.validateConstraintsClassTable.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidationRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidateRDBMSManager.java
        ...  more

Archiva is successful proxying artifacts but release deployments fail with ""Error deploying artifact Read timed out"".",Bug
"Maven .x deployment fails deploying with Maven 

{code}
-- , btpool- INFO  org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer  - Not processing path that is not an artifact apppomsapp-..pom Not enough parts to the path apppomsapp-..pom to construct an ArchivaArtifact from. Requires at least  parts
{code}

It seems this is not using the proper path mapping. I believe this should work even though the hosted repo is maven",Bug
"bad component definitions in dependencies can trigger failures instead of warnings see 
httpmail-archives.apache.orgmod_mboxcontinuum-dev.mboxCCFEFFAEDDFCAFD@cpt.magrit.intE

and
httpmail-archives.apache.orgmod_mboxarchiva-dev.mboxCCDBBC-B-FE-A-EBCC@apache.orgE",Bug
"Nexus indexer throws NPE on repository scan {noformat}
-- , pool--thread- ERROR org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure  - Consumer index-content had an error when processing file exportarchivarepodatainternalorgcodehausplexusplexus-container-default.-alpha-plexus-container-default-.-alpha-.pom null
java.lang.NullPointerException
	at org.apache.archiva.consumers.lucene.NexusIndexerConsumer.processFileNexusIndexerConsumer.java
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.executeConsumerProcessFileClosure.java
	at org.apache.commons.collections.functors.IfClosure.executeIfClosure.java
	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStepRepositoryScannerInstance.java
	at org.codehaus.plexus.util.DirectoryWalker.fireStepDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirectoryWalker.java
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTaskArchivaRepositoryScanningTaskExecutor.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
	at java.lang.Thread.runThread.java
{noformat}",Bug
"After a few days archiva starts reporting ""Too many files open"", regular restart required. Is there a file descriptorsocket leak

 btpool- - Acceptor SelectChannelConnector@... WARN org.mortbay.log - EXCEPTION
java.io.IOException Too many open files
        at sun.nio.ch.ServerSocketChannelImpl.acceptNative Method
        at sun.nio.ch.ServerSocketChannelImpl.acceptServerSocketChannelImpl.java
        at org.mortbay.jetty.nio.SelectChannelConnector$.acceptChannelSelectChannelConnector.java
        at org.mortbay.io.nio.SelectorManager$SelectSet.doSelectSelectorManager.java
        at org.mortbay.io.nio.SelectorManager.doSelectSelectorManager.java
        at org.mortbay.jetty.nio.SelectChannelConnector.acceptSelectChannelConnector.java
        at org.mortbay.jetty.AbstractConnector$Acceptor.runAbstractConnector.java
        at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java
 btpool- - Acceptor SelectChannelConnector@... WARN org.mortbay.log - EXCEPTION
same exception
 btpool- - Acceptor SelectChannelConnector@... WARN org.mortbay.log - EXCEPTION
same exception
 btpool- - Acceptor SelectChannelConnector@... WARN org.mortbay.log - EXCEPTION
same exception
 btpool- - Acceptor SelectChannelConnector@... WARN org.mortbay.log - EXCEPTION
same exception
 btpool- - Acceptor SelectChannelConnector@... WARN org.mortbay.log - EXCEPTION
same exception
 btpool- - Acceptor SelectChannelConnector@... WARN org.mortbay.log - EXCEPTION
same exception
 btpool- - Acceptor SelectChannelConnector@... WARN org.mortbay.log - EXCEPTION
same exception
 btpool- - Acceptor SelectChannelConnector@... WARN org.mortbay.log - EXCEPTION
same exception
 btpool- - Acceptor SelectChannelConnector@... WARN org.mortbay.log - EXCEPTION
same exception
 btpool- - Acceptor SelectChannelConnector@... WARN org.mortbay.log - EXCEPTION
same exception
 btpool- - Acceptor SelectChannelConnector@... WARN org.mortbay.log - EXCEPTION
same exception
 btpool- - Acceptor SelectChannelConnector@... WARN org.mortbay.log - EXCEPTION
same exception
 btpool- - Acceptor SelectChannelConnector@... WARN org.mortbay.log - EXCEPTION",Bug
"Long exception in log when using the archive web interface. I havent found when this happens exactly....

 btpool- WARN com.opensymphony.xwork.util.OgnlUtil - Caught OgnlException while setting property infoMessage on t
ype com.opensymphony.webwork.dispatcher.ServletActionRedirectResult.
ognl.NoSuchPropertyException com.opensymphony.webwork.dispatcher.ServletActionRedirectResult.infoMessage
        at ognl.ObjectPropertyAccessor.setPropertyObjectPropertyAccessor.java
        at com.opensymphony.xwork.util.OgnlValueStack$ObjectAccessor.setPropertyOgnlValueStack.java
        at ognl.OgnlRuntime.setPropertyOgnlRuntime.java
        at ognl.ASTProperty.setValueBodyASTProperty.java
        at ognl.SimpleNode.evaluateSetValueBodySimpleNode.java
        at ognl.SimpleNode.setValueSimpleNode.java
        at ognl.Ognl.setValueOgnl.java
        at com.opensymphony.xwork.util.OgnlUtil.setValueOgnlUtil.java
        at com.opensymphony.xwork.util.OgnlUtil.internalSetPropertyOgnlUtil.java
        at com.opensymphony.xwork.util.OgnlUtil.setPropertiesOgnlUtil.java
        at com.opensymphony.xwork.util.OgnlUtil.setPropertiesOgnlUtil.java
        at com.opensymphony.xwork.ObjectFactory.buildResultObjectFactory.java
        at com.opensymphony.xwork.DefaultActionInvocation.createResultDefaultActionInvocation.java
        at com.opensymphony.xwork.DefaultActionInvocation.executeResultDefaultActionInvocation.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.interceptConfigurationInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.jav
a
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.interceptParameterFilterInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.webwork.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.DefaultActionProxy.executeDefaultActionProxy.java
        at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
        at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
        at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
        at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
        at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
        at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
        at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
        at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
        at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
        at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
        at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
        at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
        at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
        at org.mortbay.jetty.Server.handleServer.java
        at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
        at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
        at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
        at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
        at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
        at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
        at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java
",Bug
"NPE while uploading a snapshot dependency java.lang.NullPointerException
        at org.apache.archiva.consumers.lucene.NexusIndexerConsumer.beginScanNexusIndexerConsumer.java
        at org.apache.maven.archiva.repository.scanner.functors.TriggerBeginScanClosure.executeTriggerBeginScanClosure.java
        at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
        at org.apache.maven.archiva.repository.scanner.RepositoryContentConsumers.executeConsumersRepositoryContentConsumers.java
        at org.apache.maven.archiva.webdav.ArchivaDavResource.executeConsumersArchivaDavResource.java
        at org.apache.maven.archiva.webdav.ArchivaDavResource.addMemberArchivaDavResource.java
        at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.doPutAbstractWebdavServlet.java
        at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.executeAbstractWebdavServlet.java
        at org.apache.maven.archiva.webdav.RepositoryServlet.serviceRepositoryServlet.java
        at javax.servlet.http.HttpServlet.serviceHttpServlet.java
        at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
        at org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
        at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
        at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
        at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
        at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
        at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
        at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
        at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
        at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
        at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
        at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
        at org.mortbay.jetty.Server.handleServer.java
        at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
        at org.mortbay.jetty.HttpConnection$RequestHandler.contentHttpConnection.java
        at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
        at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
        at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
        at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
        at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java


 ",Bug
"Removing release artifacts using WebUI AFASIK, there is currently no way to delete a release artifact using the Web-UI.
The current solution is
- remove the artifact from the fs
- run repo scan
- run db scan

This is a tremendous admin overhead. Even worse, it can only be done by the system-operator, not by the Archiva Admin. 

Open for discussion allow to manually delete ANY kind of artifact also snaphots.

Proposal for implementation IMO the delete-action should not do the whole repo-scan and db-scan. Rather it should updateremove only those particular db entries which are concerned.",New_Feature
"NPE when starting Archiva Im trying to install Archiva .-M as an exploded webapp under tomcat.

I have already installed continuum and I would like the both share the same user DB in MySQL. Another thing that should be noted is Im using LDAP authentication.

When I first tried to access Archiva, I got the following exception

{code}
java.lang.NullPointerException
	org.apache.maven.archiva.security.DefaultUserRepositories.getObservableRepositoryIdsDefaultUserRepositories.java
	org.apache.maven.archiva.web.action.SearchAction.getObservableReposSearchAction.java
	org.apache.maven.archiva.web.action.SearchAction.prepareSearchAction.java
	com.opensymphony.xwork.interceptor.PrepareInterceptor.doInterceptPrepareInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.interceptor.ServletConfigInterceptor.interceptServletConfigInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AliasInterceptor.interceptAliasInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.struts.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.struts.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.impl.StrutsActionProxy.executeStrutsActionProxy.java
	org.apache.struts.dispatcher.Dispatcher.serviceActionDispatcher.java
	org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
{code}

Looking at the MySQL DB, there is only one table created ARCHIVA_REPOSITORY_STATS

In archiva.log I can only see the following error
{code}
-- , main ERROR org.apache.maven.archiva.scheduled.DefaultArchivaTaskScheduler  - Repository internal is currently being processed or is already queued.
{code}",Bug
"handling leading  on whitelists is ambiguous Archiva passes the proxy requests with a leading  in all cases, which wont match a whitelist or blacklist that doesnt start with a , which has traditionally been allowed. Both paths should be normalized.",Bug
"One of our two archiva servers does appear to close file descriptors. We have two archiva servers.  One gets ""Too many files open"" after a few days a few hundred builds and has to be restarted.

However the second server fails to even perform one build.

If you see the attached file you can see archiva exhausts all of it file descriptors in under a minute. After that the server has to be restarted.",Bug
"some redback log statements are not visible in Archiva logs those in newer modules are logged as org.codehaus.redback, meaning if they are at info or warn level, they dont appear in the log",Bug
"Random  Error when uploading maven-metadata.xml to Archiva ... When maven tries to deploy a newupdated maven-metadata.xml or its mdsha, occasionally a HTTP  - Bad Request is returned from Archiva.  The following message is returned from Archiva  Content Header length was  but was 

Detailed HTTP RequestResponse

PUT archivarepositoryreleasescomponentsgui-projectmaven-metadata.xml.md HTTP.
User-Agent Java.._
Host maven.local
Accept texthtml, imagegif, imagejpeg, ; q., ; q.
Connection keep-alive
Authorization Basic YmFtYmvOmJAbWIwbw
Content-Length 

defacdbbdedfacfHTTP.  Bad Request
Date Tue,  Jun   GMT
Set-Cookie JSESSIONIDECDDBBEDDFF; Patharchiva
last-modified Tue,  Jun   GMT
Content-Type texthtml;charsetutf-
Content-Length 
Connection close

htmlheadtitleApache Tomcat.. - Error reporttitlestyle!--H {font-familyTahoma,Arial,sans-serif;colorwhite;background-colorD;font-sizepx;} H {font-familyTahoma,Arial,sans-serif;colorwhite;background-colorD;font-sizepx;} H {font-familyTahoma,Arial,sans-serif;colorwhite;background-colorD;font-sizepx;} BODY {font-familyTahoma,Arial,sans-serif;colorblack;background-colorwhite;} B {font-familyTahoma,Arial,sans-serif;colorwhite;background-colorD;} P {font-familyTahoma,Arial,sans-serif;backgroundwhite;colorblack;font-sizepx;}A {color  black;}A.name {color  black;}HR {color  D;}--style headbodyhHTTP Status  - Content Header length was  but was hHR size"""" noshade""noshade""pbtypeb Status reportppbmessageb uContent Header length was  but was uppbdescriptionb uThe request sent by the client was syntactically incorrect Content Header length was  but was .upHR size"""" noshade""noshade""hApache Tomcat..hbodyhtml

When the actual packets are examined they look like this

     . ... - ... TCP   http SYN Seq Win Len MSS TSV TSER WS
     . ... - ... TCP http   SYN, ACK Seq Ack Win Len MSS TSV TSER WS
     . ... - ... TCP   http ACK Seq Ack Win Len TSV TSER
     . ... - ... HTTP PUT archivarepositoryreleasescomponentsgui-projectmaven-metadata.xml.md HTTP. packet with headers
     . ... - ... TCP http   ACK Seq Ack Win Len TSV TSER
     . ... - ... HTTP Continuation or non-HTTP traffic packet with the  bytes of content
     . ... - ... TCP http   ACK Seq Ack Win Len TSV TSER
     . ... - ... HTTP HTTP.  Bad Request  texthtml packet with  error
     . ... - ... TCP   http ACK Seq Ack Win Len TSV TSER
    . ... - ... TCP http   FIN, ACK Seq Ack Win Len TSV TSER
    . ... - ... TCP   http FIN, ACK Seq Ack Win Len TSV TSER
    . ... - ... TCP http   ACK Seq Ack Win Len TSV TSER",Bug
"SQLSyntaxErrorException is thrown when browsing for artifacts after upgrading from .. to . I upgraded from Archiva .. to . by replacing the existing .. war file with the new . war file. When I browse for a file, I can see the group IDs and package IDs with no problem but when I click on a version link the following error is thrown

h. Exception
javax.servlet.ServletException org.apache.maven.archiva.database.ArchivaDatabaseException Error in JDO during get of Database object id com.miginfocommigcalendarbean.. of type org.apache.maven.archiva.model.ArchivaProjectModel using no fetch-group

h. Root Cause
org.apache.maven.archiva.database.ArchivaDatabaseException Error in JDO during get of Database object id com.miginfocommigcalendarbean.. of type org.apache.maven.archiva.model.ArchivaProjectModel using no fetch-group

h. Root Cause
javax.jdo.JDODataStoreException Errors were found while auto-creatingvalidating the datastore for classes. The errors are printed in the log, and are attached to this exception.
NestedThrowables
java.sql.SQLSyntaxErrorException In an ALTER TABLE statement, the column ARCHIVA_INDIVIDUAL_ID has been specified as NOT NULL and either the DEFAULT clause was not specified or was specified as DEFAULT NULL.
java.sql.SQLSyntaxErrorException In an ALTER TABLE statement, the column ARCHIVA_ISSUE_MANAGEMENT_ID has been specified as NOT NULL and either the DEFAULT clause was not specified or was specified as DEFAULT NULL.
java.sql.SQLSyntaxErrorException In an ALTER TABLE statement, the column ARCHIVA_ORGANIZATION_ID has been specified as NOT NULL and either the DEFAULT clause was not specified or was specified as DEFAULT NULL.
java.sql.SQLSyntaxErrorException In an ALTER TABLE statement, the column ARCHIVA_CIMANAGEMENT_ID has been specified as NOT NULL and either the DEFAULT clause was not specified or was specified as DEFAULT NULL.
java.sql.SQLException Constraint ARCHIVA_PROJTY_FK is invalid there is no unique or primary key constraint on table APP.ARCHIVA_CIMANAGEMENT that matches the number and types of the columns in the foreign key.
java.sql.SQLException Constraint ARCHIVA_PROJTY_FK is invalid there is no unique or primary key constraint on table APP.ARCHIVA_ORGANIZATION that matches the number and types of the columns in the foreign key.
java.sql.SQLException Constraint ARCHIVA_PROJTY_FK is invalid there is no unique or primary key constraint on table APP.ARCHIVA_ISSUE_MANAGEMENT that matches the number and types of the columns in the foreign key.

h. Root Cause
java.sql.SQLSyntaxErrorException In an ALTER TABLE statement, the column ARCHIVA_INDIVIDUAL_ID has been specified as NOT NULL and either the DEFAULT clause was not specified or was specified as DEFAULT NULL.

h. Root Cause
org.apache.derby.client.am.SqlException In an ALTER TABLE statement, the column ARCHIVA_INDIVIDUAL_ID has been specified as NOT NULL and either the DEFAULT clause was not specified or was specified as DEFAULT NULL.",Bug
"Quicksearch from the xmlrpc api returns no results The attached projectruns a search for ""org"" against an archiva instance and it is returning  results on our Archiva . server installed fresh. Search from the web page returns  artifacts.

To run configure url, user and password in the pom and run ""mvn package execjava"".

In case it is relevant, I have direct network access to archiva it is on localhost but the company network has a proxy for accessing the internet.",Bug
"field length for ARCHIVA_SCM.URL is too short java.sql.SQLException ORA- value too large for column ""CONTINUUM_"".""ARCHIVA_SCM"".""URL"" actual , maximum 

I propose to change the field length to .",Bug
"Cannot upload artifact to WEB UI any more Here is reference to the discussion

httpwww.nabble.comNullpointer-in-VersionUtil-when-uploading-td.html",Bug
move advanced search out of the info popup on the quick search page it should be consistent with the results page and either available up front or via a link,Bug
"present different find artifact page to Firefox  and browsers known to support getAsBinary for file inputs since we can do the checksum in javascript instead of using the applet, a different page should be presented tailored to that and show a dialog  progress bar using JQuery UI as it is done",Bug
"external SMTP server not supported on Tomcat .. I set SMTP host like this
----------------------------------------------------------------------------------
Resource name""mailSession"" auth""Container""
            type""javax.mail.Session""
			mail.smtp.host""some.smtp.host""
----------------------------------------------------------------------------------

smtp server is not localhost.

When I register new archiva user, error occured like this;
----------------------------------------------------------------------------------
javax.servlet.ServletException org.springframework.mail.MailSendException; nested exceptions  are
Failed message  com.sun.mail.smtp.SMTPSendFailedException  .. Requested action not taken mail box name VIPER$@localhost not allowed.
----------------------------------------------------------------------------------

VIPER is my local PCs computer name. Windows Vista

Does not work external SMTP on Tomcat WebApp
",Bug
"warinplace blindly copies everything including WEB-INFlib into the archiva-webapp. warinplace blindly copies everything including WEB-INFlib into the archiva-webapp.

eg struts in archiva is version ... but in Redback it is ... This causes us to have duplicate jars in WEB-INFlib.",Bug
"Upgrade to Jetty .. To enable support for clustering. According to David Yu who is working on Jetty, .. also has a security fix.",Improvement
"HTTP  - Unauthorized is Returned when Accessing Artifact from Repository Group if the User Doesnt Have Access to All Repositories in the Group When trying to access an artifact via a repository group, Archiva returns HTTP  - Unauthorized when the artifact  cant be found in the set of repositories the user has access to and there is at least  repository in the repository group the user doesnt have permission to access.

In this case it may be more logical to return an HTTP  instead of an HTTP .

On the client machine, Maven responds to the  with where the repository group name is group-repo-name 

WARNING repository metadata for artifact org.apache.maven.pluginsmaven-checkstyle-plugin could not be retrieved from repository group-repo-name due to an error Error transferring file
INFO Repository group-repo-name will be blacklisted

By the way, the artifact being requested is httpmaven.co.myorganization.orgarchivarepositorygroup-repo-nameorgapachemavenpluginsmaven-checkstyle-plugin.maven-checkstyle-plugin-..pom.

Another note, the wire trace shows that the client requests the resource  times and receives  HTTP  messages from the server in response.
",Bug
"Archiva dont want to download a snapshot of a maven plugin merged metadata are empty Use case  
 I want to use idl-maven-plugin .-SNPASHOt from codehaus
 In archiva I have a group snapshots with behind a managed repository snapshots-proxy which proxify httpsnapshots.repository.codehaus.org
 When I launch the build of the project, archiva download metadata for .-SNAPSHOT from codehaus in maven-metadata-codehaus-snapshots.xml which is fine
 But it creates an empty maven-metadata.xml
 Maven receive this empty file and try to download .-SNAPSHOT artifacts instead of the last timestamp.

I attach 
 A minimal project which uses a local archiva
 The achiva config file be careful to deactivatechange the network proxy
 maven-metadata-codehaus-snapshots.xml and maven-metadata.xml",Bug
"reduce verbosity of logging during scanning too many exceptions occur that are not particularly helpful to have trace info
- XML parsing
- invalid zips
- bad artifact paths

Just the message should be logged",Bug
"Cannot delete patterns with single and double quotes. Addedit Proxy Connector
- Blacklist cannot delete patterns with  and ""
- whitelist cannot delete patterns with 


Repository Scanning
- cannot delete patterns with  and """,Bug
"A locked user gets HTTP ERROR  page when logging in Artifact Repository page Steps to replicate
.  login using an administrator account.
.  createset another account to locked.
.  logout.
.  login using the locked account step .


Observation
Http Error  is displayed instead of displaying an Account Locked error. Refer to http-error-.txt for the error displayed in browser.


Attached a patch account-locked-error-.patch for fix
",Bug
"Unable to open an Archiva repository as web folder via Network Places in Windows  To reproduce

. Open Internet Explorer 
. Choose File - Open
. Enter the url of an Archiva hosted repo, such as httplocalhostarchivarepositoryinternal
. check the Open as Web Folder checkbox
. click OK

Result
Dialog box with ""Internet Explorer could not open httplocalhostarchivarepositoryinternal as a Web Folder.  Would you like to see its default view instead""

The expected result is to open the url as a webdav folder which allows addingremoving files.

There is nothing in either the archiva.log or stderr log files.",Bug
"Audit logs retrieves incorrect value of IP address when uploadingdeleting artifacts When uploadingdeleting artifacts in archiva the logs retrieves incorrect values of ip address.

--  snapshots admin  ""testingtesting.dotnet..-SNAPSHOT"" ""Uploaded File""
--  snapshots admin  ""testingtesting.dotnet..-SNAPSHOT"" ""Removed File""",Bug
"use of Lucene . creates incompatible Nexus indexes for consumers with older versions of Lucene Brian says more recent Nexus component has a separate binary format that might help with this.

The different version might also cause the NPEs",Bug
"Legacy artifact path not properly stored when entered from Archiva UI For one of the module in our project which violates artifact conventions we need to add legacy artifact path. I have tried to add this from archiva admin screen. Please find the attached screen shot for this.

Once it is entered, it come to summary screen. In the summary screen value for the rd part is null i.e In my example

part - gp
part - sr-gp-test
part - null               --- rd part, which is incorrect. I have entered Version for this artifact.
part - ..            --- whatever we entered in Version is misplaced in Classifier.

I have also attached rd screen shot when I try to browse this artifact. I went through LegacyArtifactPath.java where these split ups are actually occurring with respect to legacy artifact path. 

",Bug
"Virtual repo browse An artifact is immediately proxied from the remote repo assuming a proxy connector is configured for the first repo if the artifact doesnt exist in the first repo but exists in the second repo in the group I have two repositories with ids first and second. Repository first is configured to proxy the central repository. In first, I have commons-langcommons-lang.commons-lang-..jar and in second, I have commons-langcommons-lang.commons-lang-..jar. I created a group with id all which has these  repositories under that group. When I browse the group all, I see both commons-lang-. and commons-lang-.. Now when I clickeddownloaded commons-lang-..jar, I noticed that commons-lang-..jar was proxied from the remote repo and created in repository first. 

The artifact that should have been served is the one from second repository and not proxied from central via the first repository.

I only verified this in .-M and in trunk. I didnt check if this exists as well in the . series.
",Bug
"Archiva does not seem to accept files  GB Archiva does not seem to accept files  GB, I cannot do a mvn deploydeploy-file and even of I copy the artifact on the file system, when I click to download i get the following error

java.lang.NumberFormatException For input string """"
	at
java.lang.NumberFormatException.forInputStringNumberFormatException.java
	at java.lang.Integer.parseIntInteger.java
	at java.lang.Integer.parseIntInteger.java
	at
org.apache.jackrabbit.webdav.io.OutputContextImpl.setContentLengthOutputContextImpl.java
	at
org.apache.maven.archiva.webdav.ArchivaDavResource.spoolArchivaDavResource.java
	at
org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.spoolResourceAbstractWebdavServlet.java
	at
org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.doGetAbstractWebdavServlet.java
	at
org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.executeAbstractWebdavServlet.java
	at
org.apache.maven.archiva.webdav.RepositoryServlet.serviceRepositoryServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
	at
org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at
com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at
org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at
com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at
org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
...

",Bug
"Project model cannot be added to database if it inherits groupId andor version from parent POM Adding to database a project model B that contains no groupId andor version, by assuming it inherits them from parent POM, causes an error if another artifact A with same artifactId but different version had been added previously.
Thats because the effect cache key on this particular case is always _nullartifactIdnull_ making the latter B fetch information, such as version, from the former A during the artifact processing please see _processArchivaArtifact_ method from _ProjectModelToDatabaseConsumer_ class for more information.

Below is an example of this particular error
{quote}
File redback-users-api-.-alpha-.pom has an invalid project model groupIdorg.codehaus.plexus.redback|artifactIdredback-users-api|version.-alpha-|packagingnull; The model version .-alpha- does not match the version portion of the filename .-alpha-
{quote}

This issue may be related to httpjira.codehaus.orgbrowseMRM-.


",Bug
"moving proxy connectors up and down doesnt necessarily work  I moved one at the bottom up, and it jumped to second position.

Additionally, the up button should be disabled on the first one and down on the last",Bug
"User validation message has incorrect URL The URL that was sent in the validation email lost the port and the prefix path for archivas context.

i.e. the URL sent in the email was
    http...securitylogin!login.actionvalidateMeaeebfcadeaaa
it should have been
    http...archivasecuritylogin!login.actionvalidateMeaeebfcadeaaa

",Bug
"Clients timeout due to Archiva blocking when downloading large files Clients connecting to Archiva may time out when Archiva is proxying large files from an up stream remote repository.

Internally, Archiva uses Wagon and Plexus webdav which can only reference resources as JAVA File objects. Thus, Archiva must wait until Wagon has finished downloading from the remote repository before it can return the valid File object to the Plexus Webdav Servlet.",Bug
" errors on proxies should be cached Using maven eclipse plugin with DownloadSourcestrue creates lots of request to the repository for -sources and -javadocs. Many artifacts dont have such bundles.

When archiva is configured with multiple proxies central  java.net  jboss ... a single running ""mvn eclipseeclipse"" will result in many  request on proxies that SHOULD be cached. The cache time-to-live  minute is sufficient to get new artifacts when they get deployed.

There is allready an UrlFailureCache but is only used to cache ProxyExceptions.",Improvement
"Problem with version ranges ""no versions are present in the repository for the artifact with a range"" When I run for example mvn package, theres a indirect dependency that cannot be resolved; This the part of the pom that causes the problem

		dependency
			groupIdcommons-beanutilsgroupId
			artifactIdcommons-beanutilsartifactId
			version.,version
			scopecompilescope
		dependency

This results in the following error issued by Maven

No versions are present in the repository for the artifact with a range .,
  commons-beanutilscommons-beanutilsjarnull
from the specified remote repositories
  central httprepo.maven.orgmaven

If I browse the repository httprepo.maven.orgmaven, the commons-beanutils jars several versions are present. 
So I assume Archiva cannot handle the range.
",Bug
"Archetype for generation of Consumer plugins Ive created an archetype for use in creating artifact-consumer-plugin projects. It currently builds and runs against the head version of archiva.

- Apply the attached patch in the archiva sandbox dir.
- Build and install it
- invoke with the following command line

mvn archetypecreate                                     
-DarchetypeGroupIdorg.apache.maven.archiva            
-DarchetypeArtifactIdarchiva-consumer-plugin-archetype 
-DarchetypeVersion.-SNAPSHOT                         
-DgroupIdorg.example                                  
-DartifactIdsimple-consumer-plugin 

This will create a project simple-consumer-plugin 

rgds,

ste",Improvement
"ORA- specified length too long for its datatype Error when clicking on searched artifact. When I do a search for an artifact, then I get the results, I then get this error

javax.jdo.JDODataStoreException An exception was thrown while addingvalidating classes  ORA- specified length too long for its datatype

java.sql.SQLException ORA- specified length too long for its datatype

	at oracle.jdbc.driver.DatabaseError.throwSqlExceptionDatabaseError.java
	at oracle.jdbc.driver.TCTTIoer.processErrorTCTTIoer.java
	at oracle.jdbc.driver.TCTTIoer.processErrorTCTTIoer.java
	at oracle.jdbc.driver.TCOall.receiveTCOall.java
	at oracle.jdbc.driver.TCStatement.doOallTCStatement.java
	at oracle.jdbc.driver.TCStatement.execute_for_rowsTCStatement.java
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeoutOracleStatement.java
	at oracle.jdbc.driver.OracleStatement.executeOracleStatement.java
	at org.apache.tomcat.dbcp.dbcp.DelegatingStatement.executeDelegatingStatement.java
	at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementAbstractTable.java
	at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementListAbstractTable.java
	at org.jpox.store.rdbms.table.AbstractTable.createAbstractTable.java
	at org.jpox.store.rdbms.table.AbstractTable.existsAbstractTable.java
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidationRDBMSManager.java
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidateRDBMSManager.java
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.runRDBMSManager.java
	at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.executeRDBMSManager.java
	at org.jpox.store.rdbms.RDBMSManager.addClassesRDBMSManager.java
	at org.jpox.store.rdbms.RDBMSManager.addClassRDBMSManager.java
	at org.jpox.AbstractPersistenceManager.newObjectIdInstanceAbstractPersistenceManager.java
	at org.apache.maven.archiva.database.jdo.JdoAccess.getObjectByIdJdoAccess.java
	at org.apache.maven.archiva.database.jdo.JdoProjectModelDAO.getProjectModelJdoProjectModelDAO.java
	at org.apache.maven.archiva.database.browsing.DefaultRepositoryBrowsing.getProjectModelDefaultRepositoryBrowsing.java
	at org.apache.maven.archiva.database.browsing.DefaultRepositoryBrowsing.selectVersionDefaultRepositoryBrowsing.java
	at org.apache.maven.archiva.web.action.ShowArtifactAction.artifactShowArtifactAction.java



Now this does not come up like with continuum at start up
httpjira.codehaus.orgbrowseCONTINUUM-

So Archiva runs, but not when I try to search.
",Bug
"archiva cannot serve ejb artifacts from a maven repository requesting an ejb from a maven repository builds the path ""groupIdjarsartifactId.jar"", and not the location where maven ejbdeploy places the ejb jars groupIdejbsartifactId.jar. The type folder is created based on the file extension, with some exceptions. It should be created based on the artifact type. ",Bug
"Edit Managed Repository page should indicate the repo id being edited When editing a managed repository, the repo id does not appear on the page.

You can see it in the url as a request parameter.",Improvement
"Admin guide for installing WAR needs updating The web page at ""httpmaven.apache.orgarchivadocs.adminguidewebapp.html"" needs updating

 The name of the archiva WAR file in the archiva.xml sample should be ""apache-archiva-..war"".
 For the note about Tomcat versions Tomcat .. works as expected, provided mail.jar and activation.jar are added to the commonlib directory.
 For the note about Derby Derby ... seems to work fine.
",Improvement
"add ""maintainance"" to the feature tour -   metadata merging
-   repository purge
-   others
",Bug
"In the audit.log file the userid for each action is guest, even though the deploy was performed by admin my settings.xml file has admin as the account  in the server section for the repositories",Bug
"write some additional HOWTO guides -   configure repository purging
-   configure a proxy
-   control artifacts
-   configure security for a repository
-   ...",Bug
"Repo purge is not deleting artifacts in correct order Looking at the repo purge code by  of days old and by retention count, and while the sorting is correct.. whats being purged isnt actually what is the older artifact, but rather, it is the artifact which is currently being consumed. Heres the part in DaysOldRepositoryPurge where this occurs

while versions.iterator.hasNext 
{
  if  countToPurge--   
  {
    break;
  }
  doPurgeAllRelated artifactFile ; 
} 

Note 
- the artifactFile is the artifact currently being consumed by the repo purge 
- doPurgeAllRelated.. deletes the artifact from the repo as well as all related files to it ex. .sha, .md files, etc.

So given the above behavior, if the repo scanner found artifact-..-.-.jar first before artifact-..-.-.jar.. then what would actually get deleted from the repo is artifact-..-.-.jar instead of the older artifact-..-.-.jar. 
",Bug
"http  proxy error with browse button after  days running I have to restart archiva every one or two days; if not, archiva becomes unstable 
    main page and admin section are accessible and work fine,
    archivabrowse function is dead, giving in navigator 
       Proxy Error
          The proxy server received an invalid response from an upstream server.
          The proxy server could not handle the request GET archivabrowse
          httparchiva.nuxeo.orgarchivabrowse.
          Reason Error reading from remote server 

Restarting archiva immediately solves the problem. 

I didnt find relevant logs, I guess",Bug
"Repository Purge Consumer throws Invalid Path to Artifact I have the repository purge consumer enabled and configured as {{Repository Purge By Days Older Than}} to  and {{Repository Purge By Retention Count}} set to .

This is with a clean database.

I have more than  versions of org.ireneirene.-SNAPSHOT already uploaded into the repository.

When the repository is scanned

{noformat}
 pool--thread- ERROR org.apache.maven.archiva.repository.scanner.RepositoryScannerdefault  - Consumer repository-purge had an error when processing file Darchiva-webdatarepositoriessnapshotsorgireneirene.-SNAPSHOTirene-.-.--test-sources.jar Invalid path to Artifact filename format is invalid,expected timestamp format in filename.
org.apache.maven.archiva.consumers.ConsumerException Invalid path to Artifact filename format is invalid,expected timestamp format in filename.
	at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFileRepositoryPurgeConsumer.java
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.executeConsumerProcessFileClosure.java
	at org.apache.commons.collections.functors.IfClosure.executeIfClosure.java
	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStepRepositoryScannerInstance.java
	at org.codehaus.plexus.util.DirectoryWalker.fireStepDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirectoryWalker.java
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTaskArchivaRepositoryScanningTaskExecutor.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
	at java.lang.Thread.runThread.java
Caused by org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeException Invalid path to Artifact filename format is invalid,expected timestamp format in filename.
	at org.apache.maven.archiva.consumers.core.repository.RetentionCountRepositoryPurge.processRetentionCountRepositoryPurge.java
	at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFileRepositoryPurgeConsumer.java
	...  more
 pool--thread- ERROR org.apache.maven.archiva.repository.scanner.RepositoryScannerdefault  - Consumer metadata-updater had an error when processing file Darchiva-webdatarepositoriessnapshotsorgireneirene.-SNAPSHOTirene-.-.--test-sources.jar Unable to convert to artifact reference orgireneirene.-SNAPSHOTirene-.-.--test-sources.jar
org.apache.maven.archiva.consumers.ConsumerException Unable to convert to artifact reference orgireneirene.-SNAPSHOTirene-.-.--test-sources.jar
	at org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer.processFileMetadataUpdaterConsumer.java
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.executeConsumerProcessFileClosure.java
	at org.apache.commons.collections.functors.IfClosure.executeIfClosure.java
	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStepRepositoryScannerInstance.java
	at org.codehaus.plexus.util.DirectoryWalker.fireStepDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirectoryWalker.java
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTaskArchivaRepositoryScanningTaskExecutor.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
	at java.lang.Thread.runThread.java
Caused by org.apache.maven.archiva.repository.layout.LayoutException Invalid path to Artifact filename format is invalid,expected timestamp format in filename.
	at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReferenceDefaultPathParser.java
	at org.apache.maven.archiva.repository.content.AbstractDefaultRepositoryContent.toArtifactReferenceAbstractDefaultRepositoryContent.java
	at org.apache.maven.archiva.repository.content.ManagedDefaultRepositoryContent.toArtifactReferenceManagedDefaultRepositoryContent.java
	at org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer.processFileMetadataUpdaterConsumer.java
	...  more
{noformat}

There are similar exceptions that follow right behind it with the only difference being that they are for
 - Darchiva-webdatarepositoriessnapshotsorgireneirene.-SNAPSHOTirene-.-.--sources.jar
 - Darchiva-webdatarepositoriessnapshotsorgireneirene.-SNAPSHOTirene-.-.--tests.jar
 - Darchiva-webdatarepositoriessnapshotsorgireneirene.-SNAPSHOTirene-.-.-.jar
 - Darchiva-webdatarepositoriessnapshotsorgireneirene.-SNAPSHOTirene-.-.-.pom

Nothing is deleted however.",Bug
"Cannot download a strut-module artifact in a Legacy repository 
I still have legacy Maven . projects which uses the struts-module plugin.
I was using maven-proxy until now but decided to switch to archiva.

However when I try to download a struts-module in my Maven .X repository, I get the following exception

org.apache.maven.archiva.repository.layout.LayoutException Invalid path to Artifact mismatch on extension dule and layout specified type struts-modules which maps to extension struts.module on path WebPortalstruts-moduleseventsDB-...struts-module
	at org.apache.maven.archiva.repository.content.LegacyPathParser.toArtifactReferenceLegacyPathParser.java
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toArtifactReferenceRepositoryRequest.java
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toNativePathRepositoryRequest.java
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.processProxiedDavServer.java
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.serviceMultiplexedWebDavServlet.java
	at org.apache.maven.archiva.web.repository.RepositoryServlet.serviceRepositoryServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at org.mortbay.jetty.servlet.WebApplicationHandler.dispatchWebApplicationHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.http.HttpContext.handleHttpContext.java
	at org.mortbay.jetty.servlet.WebApplicationContext.handleWebApplicationContext.java
	at org.mortbay.http.HttpContext.handleHttpContext.java
	at org.mortbay.http.HttpServer.serviceHttpServer.java
	at org.mortbay.http.HttpConnection.serviceHttpConnection.java
	at org.mortbay.http.HttpConnection.handleNextHttpConnection.java
	at org.mortbay.http.HttpConnection.handleHttpConnection.java
	at org.mortbay.http.SocketListener.handleConnectionSocketListener.java
	at org.mortbay.util.ThreadedServer.handleThreadedServer.java
	at org.mortbay.util.ThreadPool$PoolThread.runThreadPool.java

The file WebPortalstruts-moduleseventsDB-...struts-module does exist and would be returned correctly by maven-proxy, but it seems as it archiva is looking for WebPortalstruts-moduleseventsDB-...struts.module which does not exist. replacing the dash by a dot in the extension

",Bug
"NPE during db scan Below is the stacktrace

jvm     | -- , SocketListener- INFO  com.opensymphony.xwork.ActionschedulerAction  - ActionMessage Your request to update the database has been queued.
jvm     | -- , pool--thread- INFO  org.codehaus.plexus.taskqueue.execution.TaskExecutordatabase-update  - Executing task from queue with job name database-jobuser-requested
jvm     | -- , pool--thread- INFO  org.codehaus.plexus.taskqueue.execution.TaskExecutordatabase-update  - Task Updating unprocessed artifacts
jvm     | -- , pool--thread- WARN  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumerupdate-db-project  - File commons-dbcp-..pom has an invalid project model groupIdcommons-dbcp|artifactIdcommons-dbcp|version.-dev|packagingjar; The model version .-dev does not match the version portion of the filename .
jvm     | -- , pool--thread- WARN  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumerupdate-db-project  - Invalid or corrupt pom. Project model not added to database - commons-dbcpcommons-dbcp.-dev
jvm     | -- , pool--thread- WARN  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumerupdate-db-project  - File commons-pool-...pom has an invalid project model groupIdcommons-pool|artifactIdcommons-pool|version.-dev|packagingjar; The model version .-dev does not match the version portion of the filename ..
jvm     | -- , pool--thread- WARN  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumerupdate-db-project  - Invalid or corrupt pom. Project model not added to database - commons-poolcommons-pool.-dev
jvm     | -- , Thread- ERROR org.codehaus.plexus.taskqueue.execution.TaskQueueExecutordatabase-update  - Error executing task
jvm     | edu.emory.mathcs.backport.java.util.concurrent.ExecutionException java.lang.NullPointerException
jvm     |      at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.getResultFutureTask.java
jvm     |      at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.getFutureTask.java
jvm     |      at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.waitForTaskThreadedTaskQueueExecutor.java
jvm     |      at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.runThreadedTaskQueueExecutor.java
jvm     | Caused by java.lang.NullPointerException
jvm     |      at org.apache.maven.archiva.consumers.lucene.IndexArtifactConsumer.processArchivaArtifactIndexArtifactConsumer.java
jvm     |      at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.executeProcessArchivaArtifactClosure.java
jvm     |      at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
jvm     |      at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateUnprocessedJdoDatabaseUpdater.java
jvm     |      at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateAllUnprocessedJdoDatabaseUpdater.java
jvm     |      at org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor.executeTaskArchivaDatabaseUpdateTaskExecutor.java
jvm     |      at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
jvm     |      at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
jvm     |      at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
jvm     |      at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runTaskThreadPoolExecutor.java
jvm     |      at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
jvm     |      at java.lang.Thread.runThread.java
",Bug
"pom.xml that inherit version from parent show up in reports as ""has an invalid project model"" Maven allows child modules to inherit the version tag from a parent.  When Archiva sees an empty or nonexistent version tag in the uploaded pom.xml, it thinks that the pom.xml version does not match the artifacts filename, which is true, but is a completely valid scenario.  As far as I can tell, there is no requirement to have a version tag in a child module of a parent.

Perhaps Archiva should be looking inside the artifact itself under META-INFpom.properties to verify the artifacts file name against the version.  There is always a version number inside the artifacts pom.properties, but not always in the pom.xml.  Perhaps a combination of the pom.xml having a parent tag, and no version information tells Archiva to not consider this an error.

Here is an example of an error generated in reports

File workflow-core-common-..-rc.pom has an invalid project model groupIdcom.tomax.infrastructure.foo|artifactIdfoo-core-common|version..-SNAPSHOT|packagingnull; The model version ..-SNAPSHOT does not match the version portion of the filename ..-rc

I looked at the artifact it complained about, and the pom.xml has not version tag by design as it is inherited.  I dont think this should be an error.

Perhaps Archiva should not produce this error if the version tag does not exist in the pom.xml and there is a parent tag present  As far as I can tell, not having a version tag is completely valid in maven as long as parent inheritence provides the version.",Bug
"Deleted metadata files still appear in search results When an entire directory tree of artifacts is removed from the repository filesystem, the metadata files still show up in search results.

To reproduce, delete any group from the repository, then click both Scan Repository Now and Update Database Now.

Search for the artifact again, and note that the metadata files still appear in the results.

For example, after deleting pathtorepositoryreleasescommons-lang and scanningupdating, this is in the search results for commons-lang

httpexample.comarchivarepositoryreleasescommons-langcommons-langmaven-metadata.xml",Bug
"network proxy is always used when defined Ive installed Archiva . as a Maven proxy repository for internet  and corporate repositories.
Ive added the remote Internet Repositories, the network proxy and the proxy connectors.

It works well for the internet repositories but when Archiva tries to connect to the corporate repository in the same subnetwork, Archiva uses
the network proxy despite the proxy connector is set to Direct Connection. 

If no proxy connectors is defined, Archiva didnt try to get data form the corporate repository.

If no network proxy is defined, Archiva can contact the corporate repository but not the Internet ones.

Ive done a test with network capture wireshark ex ethereal to confirm the network proxy defined is used. And the result confirm my opinion, the proxy is used.

I attach the archiva.xml configuration file in order to check it. 
The corporate repository is localrepo and is available in http form the archiva server using lynx,  wget and telnet. 

Thanks for your help
",Bug
"Unable to find project model when artifactId contains property placeholders e.g. ${project.parent.artifactId} We frequently use property placeholders in our poms to have generic POM templates,

e.g.
project
         parent
		groupIdbe.javaserver.tstgroupId
		artifactIdeCommonOrderHandlingartifactId
    	        version.-SNAPSHOTversion
	parent
        artifactId${project.parent.artifactId}-module-sTstartifactId
project
   

 SocketListener- WARN  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumerupdate-db-project  - File eCommonOrderHandling-module-sTst-.-.-.pom has an invalid project model groupIdbe.javaserver.tst|artifactId${project.parent.artifactId}-module-sTst|version.
-.-|packagingjar The model artifactId ${project.parent.artifactId}-module-sTst does not match the artifactId portion of the filename 
eCommonOrderHandling-module-sTst
 SocketListener- WARN  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumerupdate-db-project  - Invalid or corrupt pom. 
Project model not added to database - be.javaserver.tst${project.parent.artifactId}-module-sTst.-.-",Bug
"Unable to find project model for  ... if the initial import of the POM failed It seems that Archiva is not properly updating the database if the initial import of the POM failed due to a parse error, even after the original problem has been corrected, the repository has been rescanned, and the database updated again.

Steps to reproduce
. Start with a fresh Archiva . installation
. Drop a group containing an artifact with a broken POM illegal XML to Archivas internal repo directory
. Run ""Scan Repository Now"" and ""Update Database Now"".
    The log shows a ProjectModelException because the broken POM could not be parsed.
. Fix the broken POM. Run ""Scan Repository Now"" and ""Update Database Now"" again.
. Use the ""Browse"" page to browse to the artifact - you get the error message
    Unable to find project model for junitjunit.. 

Ive attached the zipped contents of the ""data"" directory after performing the steps above, and the log file.

Notice that there might be general repository scanning problem in . that could be related, see
httpwww.nabble.comRepository-scanning-problem-in-.--tf.html",Bug
"LDAP authentication leaks connections Ive configured redback to authenticate from a LDAP with cached used manager and Ive detected its leaking connections.

Connections from web interface seem to be returned to LdapContext pool , 
but connection from repository servlet are leaked.

The LdapCtx Configuration is 

    component
      roleorg.codehaus.plexus.redback.common.ldap.connection.LdapConnectionFactoryrole
      role-hintconfigurablerole-hint
      implementationorg.codehaus.plexus.redback.common.ldap.connection.ConfigurableLdapConnectionFactoryimplementation
      descriptiondescription
      configuration
        hostnamelocalhosthostname
        portport
        baseDnbaseDn
        contextFactorycom.sun.jndi.ldap.LdapCtxFactorycontextFactory
        passwordpassword
        bindDnbindDn
        extraProperties
                property
                        namecom.sun.jndi.ldap.connect.poolname
                        valuetruevalue
                property
                property
                        namecom.sun.jndi.ldap.connect.pool.maxsizename
                        valuevalue
                property
                property
                        namecom.sun.jndi.ldap.connect.pool.prefsizename
                        valuevalue
                property
                property
                        namecom.sun.jndi.ldap.connect.pool.timeoutname
                        valuevalue
                property
        extraProperties
      configuration
    component

NOTE sensible configuration tags are correctly configured, but im erased them marked with ",Bug
"Documentation for configuring for Tomcat is invalid Further to MRM-, I cannot get it a working install on Tomcat with the existing docs - I had to go to the wiki and Jira to get the answers.

Specifically, I could not deploy on Tomcat  without defining in Tomcats enviroment

{code}
export CATALINA_OPTS""-Dappserver.home$CATALINA_HOME -Dappserver.base$CATALINA_HOME""
{code}

which is not covered in the current install docs.",Bug
"using undefined appserver.base Archiva while first startup creates repositories using ${appserver.base}data as a root directory.
But setup guide does not inform, that such property should be set up for tomcat during startup,",Bug
"need a specific guide for creating a new repository the current admin guide talks about what the types of repositories are, but it doesnt walk through creating one - which misses the opportunity to explain that new repositories are secured by default to the administrator.",Bug
"legacy artifact mapping form needs better validation eg, type just ""a"" into the path field.

Need to validate all fields.

Also, not sure we should use javascript to concat the artifact reference - why not pass through the individual fields and concat in the action",Bug
"Cant get any of the consumers to work without through a NPE It appears to be causing NPE for all consumers and some there seems to be some type of InvalidPath issue as well.  

Logs are attached.",Bug
"PLEXUS_BASE does not work for local databases To get it to work, I had to edit plexus.xml and change the  database references.  for example

                valuejdbcderby${plexus.home}datausersdatabase;createtruevalue

to 
                valuejdbcderby${appserver.base}datausersdatabase;createtruevalue

plexus.home is set to the installation directory I believe.  So my users were not available after upgrade.",Bug
"Create an Archiva custom application connector for Crowd The team at Atlassian tried to develop a custom client|httpconfluence.atlassian.comdisplayCROWDCreatingaCrowdClientforyourCustomApplication for our Crowd application|httpwww.atlassian.comsoftwarecrowd but were unsuccessful due to limitations in the Archiva security API.  We would really appreciate some assistance in getting a custom Crowd client up and running for Archiva.

Cheers,
Donna",New_Feature
Gzip compression Investigate the option of gzip encoding http requests for faster transfers.,Improvement
The logs are duplicated in the archiva.log and wrapper.log file. Use the jetty-archetype Brett has created together with the appassembler plugin to generate the binary scripts. The appassembler plugin still needs to be changed to allow configuration of the wrapper.conf.,Bug
DependencyTree fetchGraph causes high load with large databases DependencyTree fetchGraph causes high load when there is a large amount of metadata in the database.,Bug
"org.jvnet.jaxb.mavenmaven-jaxb-plugin is not resolved correctly using Archiva as mirror org.jvnet.jaxb.mavenmaven-jaxb-plugin is not resolved correctly with version tag omitted in pom.xml. Omitting the version tag works if Archiva is not used Maven will just get the latest version.

Steps to reproduce

Archiva application

Unpack and run archiva

$ tar zxvf apache-archiva-.-bin.tar.gz
$ apache-archiva-.binlinux-x-run.sh start

Navigate to httplocalhostarchiva 
create Admin user and login

In Repositories under Administration

Add remote Maven  legacy repository

Identifier maven-repository.dev.java.net
Name       Java.net Maven  Repository legacy
URL        httpdownload.java.netmaven
Type       Maven .x Repository

Add remote Maven  jfrog-plugins repository

Identifier jfrog-plugins
Name       jFrog plugins
URL        httpwww.jfrog.orgartifactoryplugins-releases
Type       Maven .x repository

In Proxy Connectors under Administration

Edit maven-repository.dev.java.net proxy connector
Remove ""jaxax"" whitelist constraint and click Save Proxy Connector

Add Proxy Connectors

Managed Repository internal
Remote Repository  maven-repository.dev.java.net
cache-failures     yes
releases           once
checksum           fix
snapshots          never

Managed Repository internal
Remote Repository  jfrog-plugins
cache-failures     yes
releases           once
checksum           fix
snapshots          never

Client side

Copy settings.xml to .m
$ cp settings.xml .m

Create sample project
$ mvn archetypecreate -DgroupIdsome.namespace -DartifactIdmyproject

Overwrite pom.xml
$ cp myproject.pom.xml myprojectpom.xml

Add sample XML schema
$ mkdir myprojectsrcmainresources
$ cp schema.xsd myprojectsrcmainresources

Run test
$ cd myproject
$ mvn test

This should fail with BUILD ERROR ""The plugin org.jvnet.jaxb.mavenmaven-jaxb-plugin does not exist or no valid version could be found""

Workaround

uncomment version tag in pom.xml and run test again

Now mvn test should succeed.",Bug
"Logging is too verbose the default Archiva logging generates about Mb of logs a day on my reasonably inactive, not large local instance. This is primarily due to scanning.

In addition, the logs are duplicated in the archiva.log and wrapper.log file.

",Bug
"Provide  redirect for latest SNAPSHOT It would be very useful to have a single link that would always give you the latest snapshot jar, e.g.

httparchiva.repositorysnapshotscommy-companymy-app.-SNAPSHOTmy-app-.-SNAPSHOT.jar

Right now this is  because theres no file called -SNAPSHOT.jar; instead, it has a specific jar file with a versioned name, e.g. my-app-.-.jar.  It would be handy if Archiva recognized the URL above and provided a  redirect to the current latest deployed snapshot.",New_Feature
Incorrect war name in example for tomcat Page with tomcat configuration shows configuration for archiva-webapp-..war while file is distributed as apache-archiva-...war,Bug
"Failed to install Archiva as windows service When installing standalone Archiva as service, it simply does not work Wrapper with switch -s
Logs says, that there failed to execute following command

Cmkdisapache-archiva-.binwindows-x-""JAVA_HOMEbinjava"" -Dclassworlds.conf""....confclassworlds.conf"" -
Djava.io.tmpdir""....temp"" -Dplexus.core""....core"" -Dplexus.home""...."" -Dtools.jar""CProgram FilesIBMJaval
ibtools.jar"" -Dappserver.base""...."" -Dplexus.system.path""CProgram FilesWindows Resource KitsTools;CProgram Fi
lesThinkPadUtilities;CWINDOWSsystem;CWINDOWS;CWINDOWSSystemWbem;CProgram FilesIBMInfoprint Select;C
Notes;CProgram FilesXLView;Clotuscompnent;CUtilities;CProgram FilesIBMPersonal Communications;CProgram Fi
lesIBMTrace Facility;CWINDOWSDownloaded Program Files;CmkdisPython;"" -Xmsm -Xmxm -Djava.library.path""..
..binwindows-x-"" -classpath ""....corebootwrapper.jar;....corebootplexus-classworlds-.-alpha-.jar"" -Dwra
pper.key""JQKVCzzNilh"" -Dwrapper.port -Dwrapper.jvm.port.min -Dwrapper.jvm.port.max -Dwrapper.deb
ug""TRUE"" -Dwrapper.pid -Dwrapper.version"".."" -Dwrapper.native_library""wrapper"" -Dwrapper.service""TRUE"" -Dwra
pper.cpu.timeout"""" -Dwrapper.jvmid org.tanukisoftware.wrapper.WrapperSimpleApp org.codehaus.plexus.classworlds.laun
cher.Launcher

When I run this command in command line, I receive following output.



WrapperManager class initialized by thread main  Using classloader sun.misc.Launcher$AppClassLoader@dd
Wrapper Version .. httpwrapper.tanukisoftware.org
  Copyright - Tanuki Software, Inc.  All Rights Reserved.

Wrapper Manager JVM 
Running a -bit JVM.
Wrapper Manager Registering shutdown hook
Wrapper Manager Using wrapper
Load native library.  One or more attempts may fail if platform specific libraries do not exist.
Loading native library failed wrapper-windows-x-.dll  Cause java.lang.UnsatisfiedLinkError wrapper-windows-x-
 Not found in java.library.path
Loaded native library wrapper.dll
Calling native initialization method.
Initializing WrapperManager native library.
Java Executable CProgram FilesIBMJavabinjava.exe
Windows version ..
Java Version    JRE .. IBM J . Windows XP x- jvmwi- JIT enabled
JVM - __lHdSMR
JIT  - _ifx_r
GC   - _
Java VM Vendor  IBM Corporation

WrapperManager.startorg.tanukisoftware.wrapper.WrapperSimpleApp@fefe, args called by thread main
Control event monitor thread started.
Startup runner thread started.
Communications runner thread started.
Open socket to wrapper...Wrapper-Connection
Failed to connect to the Wrapper at port .
java.net.ConnectException Connection refused connect",Bug
"some developer reports are appearing in the archiva-docs module and need to be disabled PMD, changelog are appearing - but they belong in the developers section.",Bug
"When running on IBM JDK .  java.security.NoSuchProviderException no such provider SUN When running Archiva . on an IBM JDK, the following exception occurs. Notice that IBM JDK must be used for running WebSphere.

jvm     | -- , SocketListener- WARN  org.codehaus.plexus.redback.keys.KeyManagerjdo  - Unable t
o use SecureRandom
jvm     | java.security.NoSuchProviderException no such provider SUN
jvm     |      at sun.security.jca.GetInstance.getServiceGetInstance.java
jvm     |      at sun.security.jca.GetInstance.getInstanceGetInstance.java
jvm     |      at java.security.SecureRandom.getInstanceSecureRandom.java
jvm     |      at org.codehaus.plexus.redback.keys.AbstractKeyManager.generateUUIDAbstractKeyManager.java
jvm     |      at org.codehaus.plexus.redback.keys.jdo.JdoKeyManager.createKeyJdoKeyManager.java
jvm     |      at org.codehaus.plexus.redback.keys.cached.CachedKeyManager.createKeyCachedKeyManager.java
jvm     |      at org.codehaus.plexus.redback.xwork.util.AutoLoginCookies.setSignonCookieAutoLoginCookies.java
jvm     |      at org.codehaus.plexus.redback.xwork.action.LoginAction.webLoginLoginAction.java
jvm     |      at org.codehaus.plexus.redback.xwork.action.LoginAction.loginLoginAction.java
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
jvm     |      at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
jvm     |      at java.lang.reflect.Method.invokeMethod.java
jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java
jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm     |      at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.interceptSecureActionIntercept
or.java
jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm     |      at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcemen
tInterceptor.java
jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm     |      at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.jav
a
jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm     |      at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInter
ceptor.java
jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm     |      at org.codehaus.plexus.redback.xwork.interceptor.EnvironmentCheckInterceptor.interceptEnvironmentCheckI
nterceptor.java
jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm     |      at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.
java
jvm     |      at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java

jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm     |      at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
jvm     |      at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java

jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm     |      at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm     |      at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm     |      at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm     |      at com.opensymphony.webwork.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm     |      at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm     |      at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.ja
va
jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm     |      at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm     |      at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm     |      at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm     |      at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm     |      at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm     |      at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.
java
jvm     |      at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm     |      at com.opensymphony.xwork.DefaultActionProxy.executeDefaultActionProxy.java
jvm     |      at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
jvm     |      at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
jvm     |      at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
jvm     |      at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
jvm     |      at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
jvm     |      at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
jvm     |      at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
jvm     |      at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
jvm     |      at org.mortbay.jetty.servlet.WebApplicationHandler.dispatchWebApplicationHandler.java
jvm     |      at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
jvm     |      at org.mortbay.http.HttpContext.handleHttpContext.java
jvm     |      at org.mortbay.jetty.servlet.WebApplicationContext.handleWebApplicationContext.java
jvm     |      at org.mortbay.http.HttpContext.handleHttpContext.java
jvm     |      at org.mortbay.http.HttpServer.serviceHttpServer.java
jvm     |      at org.mortbay.http.HttpConnection.serviceHttpConnection.java
jvm     |      at org.mortbay.http.HttpConnection.handleNextHttpConnection.java
jvm     |      at org.mortbay.http.HttpConnection.handleHttpConnection.java
jvm     |      at org.mortbay.http.SocketListener.handleConnectionSocketListener.java
jvm     |      at org.mortbay.util.ThreadedServer.handleThreadedServer.java
jvm     |      at org.mortbay.util.ThreadPool$PoolThread.runThreadPool.java",Bug
sort policies in web UI for proxy connector admin see screenshot in MRM-,Bug
"Unable to index test-sources.jar for given artifacts Copied the existing artifacts from a Proximity repository.

Rescanned the repository

all other artifacts, jars, poms, src-jars have been indexed correctly.

test-source.jars however throw the following exception

 pool--thread- ERROR org.apache.maven.archiva.repository.scanner.RepositoryScannerdefault  - Consumer metadata-updater had an error when processing file CappsTomcat .datarepositoriessnapshotscomelsevierelsloncommoncomponentsecomeCommerce..-SNAPSHOTeCommerce-..-.--test-sources.jar Unable to convert to artifact reference comelsevierelsloncommoncomponentsecomeCommerce..-SNAPSHOTeCommerce-..-.--test-sources.jar
org.apache.maven.archiva.consumers.ConsumerException Unable to convert to artifact reference comelsevierelsloncommoncomponentsecomeCommerce..-SNAPSHOTeCommerce-..-.--test-sources.jar
	at org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer.processFileMetadataUpdaterConsumer.java
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.executeConsumerProcessFileClosure.java
	at org.apache.commons.collections.functors.IfClosure.executeIfClosure.java
	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStepRepositoryScannerInstance.java
	at org.codehaus.plexus.util.DirectoryWalker.fireStepDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirectoryWalker.java
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTaskArchivaRepositoryScanningTaskExecutor.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
	at java.lang.Thread.runUnknown Source Caused by org.apache.maven.archiva.repository.layout.LayoutException Invalid path to Artifact filename format is invalid,expected timestamp format in filename.
	at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReferenceDefaultPathParser.java
	at org.apache.maven.archiva.repository.content.AbstractDefaultRepositoryContent.toArtifactReferenceAbstractDefaultRepositoryContent.java
	at org.apache.maven.archiva.repository.content.ManagedDefaultRepositoryContent.toArtifactReferenceManagedDefaultRepositoryContent.java
	at org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer.processFileMetadataUpdaterConsumer.java
	...  more
",Bug
"unit tests fail on archiva . source distribution there is one test failure in the repository-layer when built from the source distribution - though it remains fine on trunk. Im not sure whats different.

It detects  results instead of  in a query.",Bug
"FEATURE Archiva ArtifactRank This is a new feature request.

ArtifactRank the Archiva version of Googles PageRank

Id like to see some badging of the health of the artifact, encourage the proper creation of artifacts this way.  We can provide a graphic on the artifact page and even the artifact search results and browse screens.  This rank can also be used to increase the importance of hits on the search results.

        Gold Award for excellence.
 to   Green Award  Good
 to   Yellow Award Warning
  to   Red Badge    Warning

 How many other projects use the artifact. junit would be highly ranked
 License is fully defined.
 License file exists in the artifact archive.
 URL is defined.
 At least  contact point is defined. Developer email address or mailing list
 A POM is defined.
 Checksums are defined.
 The maven pom manifest information exists.
 All dependencies exist in the repository too.
 All parent poms exist in the repository too.
 All plugins used exist in the repository too.
 If the artifact contains java ...
 All of the .class files are within the same groupId that is defined in the POM.
   This is to indicate bad deployment, or bad
 All of the declared imports have an associated dependency defined.
 The manifest.mf file contains the version specified.
 The source.jar exists.
 The javadoc.jar exists.

This list of checks can feed the reporting too.
And the list of checks should be able to be extended  enhanced by administrators of Archiva installs too.",New_Feature
"Repository problem is kept in database even though its related artifact has been already removed Ive noticed the _Show Report_ functionality always displays repository problems of artifacts that have been already removed.   In my opinion, it should not since its associated artifact does not exist anymore.
No repository problem is ever purged causing the report to get bigger and bigger.",Bug
"WebDAV deploy fails with error I was having problems deploying artifacts using the wagon-webdav plugin. I originally thought it was a client problem with the plugin since no errors were showing up in the Archiva logs until I did a tcpdump and found the exception sent from the Archiva server. I assumed all errors in Archiva would output a stack trace in the logs, but apparently this is not always the case. Ive attached the HTTP session information showing the stack trace.",Bug
"Make type to extension mapping configurable Im working on a multi-project application and i encountered a problem.
One of my sub-project is having the type ejb. Also, when i deploy it with maven, its placed in a folder called ""ejbs"".

The problem is that when im browsing this folder, i can see the jar created in my ""ejbs"" folder but when i try to download it, archiva gives me an error  with a message in which the part of the path ""ejbs"" is replaced by ""jars"".

The url of the page is ""httpxxxrepositoryxxxejbsEjb-xxx.jar"" and the message is 

Error  Not Found

The following resource does not exist httpxxxrepositoryxxxjarsEjb-xxx.jar""

And the problem happens for the type ""zip"" replaced by ""distribution"" .",Bug
"breadcrumbs need to incude current doc so you can navigate back to home page the ""."" should go back to archivadocs., and the ""Archiva"" should go back to ""archiva"" - and be available any time you are not on that index page.

Including the page title as a non clickable breadcrumb is an option, or always making the last breadcrumb clickable if it is a different page to that linked.",Bug
"Reporting does not work due to bug in client-side JavaScript validation No matter what ""Row Count"" I choose in Manage | Reports, I get the error message ""Row count must be between  and ."". After disabling JavaScript, which disables the client-side validation, it works.

I tracked it down to the following line in the JavaScript function validateForm_generateReport that is included into the pickReport page

 if parseIntfield.value 
  ||
 parseIntfield.value 
 . {

The problem is the decimal point in the number ""."". At least on my system, this is interpreted as """", not """".",Bug
"Archiva version missing from pages and logs I have just upgraded to Archiva .. I think deployed as a war file on tomcat, and wanted to confirm the upgrade had worked, but cannot find any references to the version in the logs or on the pages.

In the logs I get the alpaca ASCII art which says ""unknown version"", and I cannot see the version number in the page footer or title etc anywhere.

Looking at the page source for the main Archiva index page shows

{codehtml}
div id""footer""
  div class""xleft""
    Apache Archiva Unknown Version
  div
  div class""xright""
    Copyright &; - The Apache Software Foundation
  div

  div class""clear""
    hr

  div
div
{code}

According to Wendy Smoak the version number should be in the footer and the logs. I have checked that the {{META-INFmavenorg.apache.maven.archivaarchiva-webapppom.properties}} file contains the .. version number.
",Bug
"docs appear in wrong directory for Archiva . release while it is fine on trunk, the docs appear in an archiva-.-docs.zip subdirectory of the released distribution - check whether we need to lock down to a better assembly plugin version ",Bug
"Updated consumer plugin to build against the . apis - Updated the DiscoverNewAritfactConsumer to use the . APIs.  
- Added a simple unit test.",Improvement
"""Getting Involved in the Archiva Project"" page contains errors The ""Getting Involved in the Archiva Project"" page 

httpmaven.apache.orgarchivaget-involved.html

contains errors see attached.

Several other related suggestions

 The front page httpmaven.apache.orgarchiva contains a link to the above page, but the LHS navigation does not. It would usually go under ""Community"" or similar...
 The LHS navigation should contain a direct link to the Wiki - its a  little difficult to find I had to Google it -",Bug
"hover rule on homepage makes it hard to click on ""All Downloads"" On the homepage, section  ""Download Archiva"" has a hover rule that makes it hideshow the list of available downloads.  I think thats annoying; its especially hard to click on ""All Downloads"" because of it, because if you move your mouse too far down, the box collapses and the link disappears.

I think we should get rid of the hover rule.",Improvement
"User database cannot be used with MySQL . Changed database configuration in plexus.xml to MySQL. It works for the resource jdbcarchiva but not for the jdbcusers resource

 WrapperSimpleAppMain ERROR JPOX.RDBMS  - Error thrown executing CREATE TABLE `SECURITY_OPERATIONS`

    `NAME` VARCHAR BINARY NOT NULL,
    `DESCRIPTION` VARCHAR BINARY NULL,
    `PERMANENT` BIT NOT NULL,
    `RESOURCE_REQUIRED` BIT NOT NULL,
    PRIMARY KEY `NAME`
 TYPEINNODB  BLOBTEXT column NAME used in key specification without a key length
com.mysql.jdbc.exceptions.MySQLSyntaxErrorException BLOBTEXT column NAME used in key specification without a key length
        at com.mysql.jdbc.SQLError.createSQLExceptionSQLError.java
        at com.mysql.jdbc.SQLError.createSQLExceptionSQLError.java
        at com.mysql.jdbc.MysqlIO.checkErrorPacketMysqlIO.java
        at com.mysql.jdbc.MysqlIO.checkErrorPacketMysqlIO.java
        at com.mysql.jdbc.MysqlIO.sendCommandMysqlIO.java
        at com.mysql.jdbc.MysqlIO.sqlQueryDirectMysqlIO.java
        at com.mysql.jdbc.ConnectionImpl.execSQLConnectionImpl.java
        at com.mysql.jdbc.ConnectionImpl.execSQLConnectionImpl.java
        at com.mysql.jdbc.StatementImpl.executeStatementImpl.java
        at org.apache.commons.dbcp.DelegatingStatement.executeDelegatingStatement.java
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementAbstractTable.java
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementListAbstractTable.java
        at org.jpox.store.rdbms.table.AbstractTable.createAbstractTable.java
        at org.jpox.store.rdbms.table.AbstractTable.existsAbstractTable.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidationRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidateRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.runRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.executeRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager.addClassesRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager.addClassRDBMSManager.java
        at org.jpox.store.StoreManager.getDatastoreClassStoreManager.java
        at org.jpox.store.rdbms.RDBMSManager.getExtentRDBMSManager.java
        at org.jpox.AbstractPersistenceManager.getExtentAbstractPersistenceManager.java
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getAllObjectsJdoTool.java
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getAllObjectsJdoTool.java
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.triggerInitJdoTool.java
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getPersistenceManagerJdoTool.java
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getObjectByIdJdoTool.java
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.objectExistsByIdJdoTool.java
        at org.codehaus.plexus.redback.rbac.jdo.JdoRbacManager.resourceExistsJdoRbacManager.java
        at org.codehaus.plexus.redback.rbac.cached.CachedRbacManager.resourceExistsCachedRbacManager.java
        at org.codehaus.plexus.redback.role.processor.DefaultRoleModelProcessor.processResourcesDefaultRoleModelProcessor.java
        at org.codehaus.plexus.redback.role.processor.DefaultRoleModelProcessor.processDefaultRoleModelProcessor.java
        at org.codehaus.plexus.redback.role.DefaultRoleManager.loadRoleModelDefaultRoleManager.java
        at org.codehaus.plexus.redback.role.DefaultRoleManager.loadRoleModelDefaultRoleManager.java
        at org.codehaus.plexus.redback.role.DefaultRoleManager.initializeDefaultRoleManager.java
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializePhase.executeInitializePhase.java
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.startAbstractLifecycleHandler.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycleAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstanceAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponentClassicSingletonComponentManager.java
        at org.codehaus.plexus.DefaultComponentLookupManager.lookupDefaultComponentLookupManager.java
        at org.codehaus.plexus.DefaultPlexusContainer.lookupDefaultPlexusContainer.java
        at org.codehaus.plexus.component.composition.AbstractComponentComposer.findRequirementAbstractComponentComposer.java
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementToFieldFieldComponentComposer.java
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementFieldComponentComposer.java
        at org.codehaus.plexus.component.composition.AbstractComponentComposer.assembleComponentAbstractComponentComposer.java
        at org.codehaus.plexus.component.composition.DefaultComponentComposerManager.assembleComponentDefaultComponentComposerManager.java

        at org.codehaus.plexus.personality.plexus.lifecycle.phase.CompositionPhase.executeCompositionPhase.java
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.startAbstractLifecycleHandler.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycleAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstanceAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponentClassicSingletonComponentManager.java
        at org.codehaus.plexus.DefaultComponentLookupManager.lookupDefaultComponentLookupManager.java
        at org.codehaus.plexus.DefaultPlexusContainer.lookupDefaultPlexusContainer.java
        at org.codehaus.plexus.component.composition.AbstractComponentComposer.findRequirementAbstractComponentComposer.java
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementToFieldFieldComponentComposer.java
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementFieldComponentComposer.java
        at org.codehaus.plexus.component.composition.AbstractComponentComposer.assembleComponentAbstractComponentComposer.java
        at org.codehaus.plexus.component.composition.DefaultComponentComposerManager.assembleComponentDefaultComponentComposerManager.java

        at org.codehaus.plexus.personality.plexus.lifecycle.phase.CompositionPhase.executeCompositionPhase.java
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.startAbstractLifecycleHandler.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycleAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstanceAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponentClassicSingletonComponentManager.java
        at org.codehaus.plexus.DefaultComponentLookupManager.lookupDefaultComponentLookupManager.java
        at org.codehaus.plexus.DefaultPlexusContainer.lookupDefaultPlexusContainer.java
        at org.codehaus.plexus.container.initialization.StartLoadOnStartComponentsPhase.executeStartLoadOnStartComponentsPhase.java
        at org.codehaus.plexus.DefaultPlexusContainer.initializePhasesDefaultPlexusContainer.java
        at org.codehaus.plexus.DefaultPlexusContainer.initializeDefaultPlexusContainer.java
        at org.codehaus.plexus.DefaultPlexusContainer.constructDefaultPlexusContainer.java
        at org.codehaus.plexus.DefaultPlexusContainer.initDefaultPlexusContainer.java
        at org.codehaus.plexus.DefaultPlexusContainer.initDefaultPlexusContainer.java
        at org.codehaus.plexus.xwork.PlexusLifecycleListener.contextInitializedPlexusLifecycleListener.java
        at org.mortbay.jetty.servlet.WebApplicationContext.doStartWebApplicationContext.java
        at org.mortbay.util.Container.startContainer.java
        at org.codehaus.plexus.jetty.AbstractJettyServletContainer.startApplicationAbstractJettyServletContainer.java
        at org.codehaus.plexus.service.jetty.JettyPlexusService.afterApplicationStartJettyPlexusService.java
        at org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.AfterAppStartServiceSetupPhase.executeAfterAppStartServiceSetupP
hase.java
        at org.codehaus.plexus.appserver.application.deploy.DefaultApplicationDeployer.deployJarDefaultApplicationDeployer.java
        at org.codehaus.plexus.appserver.application.deploy.DefaultApplicationDeployer.deployDefaultApplicationDeployer.java
        at org.codehaus.plexus.appserver.lifecycle.phase.ApplicationDeploymentPhase$.onJarDiscoveredApplicationDeploymentPhase.java
        at org.codehaus.plexus.appserver.supervisor.DefaultSupervisor.scanDirectoryDefaultSupervisor.java
        at org.codehaus.plexus.appserver.supervisor.DefaultSupervisor.scanDefaultSupervisor.java
        at org.codehaus.plexus.appserver.lifecycle.phase.ApplicationDeploymentPhase.executeApplicationDeploymentPhase.java
        at org.codehaus.plexus.appserver.DefaultApplicationServer.startDefaultApplicationServer.java
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.StartPhase.executeStartPhase.java
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.startAbstractLifecycleHandler.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycleAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstanceAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponentClassicSingletonComponentManager.java
        at org.codehaus.plexus.DefaultComponentLookupManager.lookupDefaultComponentLookupManager.java
        at org.codehaus.plexus.DefaultComponentLookupManager.lookupDefaultComponentLookupManager.java
        at org.codehaus.plexus.DefaultPlexusContainer.lookupDefaultPlexusContainer.java
        at org.codehaus.plexus.DefaultPlexusContainer.lookupDefaultPlexusContainer.java
        at org.codehaus.plexus.appserver.PlexusApplicationHost.startPlexusApplicationHost.java
        at org.codehaus.plexus.appserver.PlexusApplicationHost.startPlexusApplicationHost.java
        at org.codehaus.plexus.appserver.PlexusApplicationHost.mainPlexusApplicationHost.java
        at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
        at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
        at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
        at java.lang.reflect.Method.invokeMethod.java
        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhancedLauncher.java
        at org.codehaus.plexus.classworlds.launcher.Launcher.launchLauncher.java
        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCodeLauncher.java
        at org.codehaus.plexus.classworlds.launcher.Launcher.mainLauncher.java
        at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
        at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
        at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
        at java.lang.reflect.Method.invokeMethod.java
        at org.tanukisoftware.wrapper.WrapperSimpleApp.runWrapperSimpleApp.java
        at java.lang.Thread.runThread.java

 WrapperSimpleAppMain ERROR JPOX.RDBMS.Schema  - An exception was thrown while addingvalidating classes  BLOBTEXT column NAME u
sed in key specification without a key length
com.mysql.jdbc.exceptions.MySQLSyntaxErrorException BLOBTEXT column NAME used in key specification without a key length
        at com.mysql.jdbc.SQLError.createSQLExceptionSQLError.java
        at com.mysql.jdbc.SQLError.createSQLExceptionSQLError.java
        at com.mysql.jdbc.MysqlIO.checkErrorPacketMysqlIO.java
        at com.mysql.jdbc.MysqlIO.checkErrorPacketMysqlIO.java
        at com.mysql.jdbc.MysqlIO.sendCommandMysqlIO.java
        at com.mysql.jdbc.MysqlIO.sqlQueryDirectMysqlIO.java
        at com.mysql.jdbc.ConnectionImpl.execSQLConnectionImpl.java
        at com.mysql.jdbc.ConnectionImpl.execSQLConnectionImpl.java
        at com.mysql.jdbc.StatementImpl.executeStatementImpl.java
        at org.apache.commons.dbcp.DelegatingStatement.executeDelegatingStatement.java
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementAbstractTable.java
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementListAbstractTable.java
        at org.jpox.store.rdbms.table.AbstractTable.createAbstractTable.java
        at org.jpox.store.rdbms.table.AbstractTable.existsAbstractTable.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidationRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidateRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.runRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.executeRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager.addClassesRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager.addClassRDBMSManager.java
        at org.jpox.store.StoreManager.getDatastoreClassStoreManager.java
        at org.jpox.store.rdbms.RDBMSManager.getExtentRDBMSManager.java
        at org.jpox.AbstractPersistenceManager.getExtentAbstractPersistenceManager.java
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getAllObjectsJdoTool.java
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getAllObjectsJdoTool.java
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.triggerInitJdoTool.java
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getPersistenceManagerJdoTool.java
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getObjectByIdJdoTool.java
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.objectExistsByIdJdoTool.java
        at org.codehaus.plexus.redback.rbac.jdo.JdoRbacManager.resourceExistsJdoRbacManager.java
        at org.codehaus.plexus.redback.rbac.cached.CachedRbacManager.resourceExistsCachedRbacManager.java
        at org.codehaus.plexus.redback.role.processor.DefaultRoleModelProcessor.processResourcesDefaultRoleModelProcessor.java
        at org.codehaus.plexus.redback.role.processor.DefaultRoleModelProcessor.processDefaultRoleModelProcessor.java
        at org.codehaus.plexus.redback.role.DefaultRoleManager.loadRoleModelDefaultRoleManager.java
        at org.codehaus.plexus.redback.role.DefaultRoleManager.loadRoleModelDefaultRoleManager.java
        at org.codehaus.plexus.redback.role.DefaultRoleManager.initializeDefaultRoleManager.java
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializePhase.executeInitializePhase.java
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.startAbstractLifecycleHandler.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycleAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstanceAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponentClassicSingletonComponentManager.java
        at org.codehaus.plexus.DefaultComponentLookupManager.lookupDefaultComponentLookupManager.java
        at org.codehaus.plexus.DefaultPlexusContainer.lookupDefaultPlexusContainer.java
        at org.codehaus.plexus.component.composition.AbstractComponentComposer.findRequirementAbstractComponentComposer.java
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementToFieldFieldComponentComposer.java
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementFieldComponentComposer.java
        at org.codehaus.plexus.component.composition.AbstractComponentComposer.assembleComponentAbstractComponentComposer.java
        at org.codehaus.plexus.component.composition.DefaultComponentComposerManager.assembleComponentDefaultComponentComposerManager.java

        at org.codehaus.plexus.personality.plexus.lifecycle.phase.CompositionPhase.executeCompositionPhase.java
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.startAbstractLifecycleHandler.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycleAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstanceAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponentClassicSingletonComponentManager.java
        at org.codehaus.plexus.DefaultComponentLookupManager.lookupDefaultComponentLookupManager.java
        at org.codehaus.plexus.DefaultPlexusContainer.lookupDefaultPlexusContainer.java
        at org.codehaus.plexus.component.composition.AbstractComponentComposer.findRequirementAbstractComponentComposer.java
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementToFieldFieldComponentComposer.java
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementFieldComponentComposer.java
        at org.codehaus.plexus.component.composition.AbstractComponentComposer.assembleComponentAbstractComponentComposer.java
        at org.codehaus.plexus.component.composition.DefaultComponentComposerManager.assembleComponentDefaultComponentComposerManager.java

        at org.codehaus.plexus.personality.plexus.lifecycle.phase.CompositionPhase.executeCompositionPhase.java
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.startAbstractLifecycleHandler.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycleAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstanceAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponentClassicSingletonComponentManager.java
        at org.codehaus.plexus.DefaultComponentLookupManager.lookupDefaultComponentLookupManager.java
        at org.codehaus.plexus.DefaultPlexusContainer.lookupDefaultPlexusContainer.java
        at org.codehaus.plexus.container.initialization.StartLoadOnStartComponentsPhase.executeStartLoadOnStartComponentsPhase.java
        at org.codehaus.plexus.DefaultPlexusContainer.initializePhasesDefaultPlexusContainer.java
        at org.codehaus.plexus.DefaultPlexusContainer.initializeDefaultPlexusContainer.java
        at org.codehaus.plexus.DefaultPlexusContainer.constructDefaultPlexusContainer.java
        at org.codehaus.plexus.DefaultPlexusContainer.initDefaultPlexusContainer.java
        at org.codehaus.plexus.DefaultPlexusContainer.initDefaultPlexusContainer.java
        at org.codehaus.plexus.xwork.PlexusLifecycleListener.contextInitializedPlexusLifecycleListener.java
        at org.mortbay.jetty.servlet.WebApplicationContext.doStartWebApplicationContext.java
        at org.mortbay.util.Container.startContainer.java
        at org.codehaus.plexus.jetty.AbstractJettyServletContainer.startApplicationAbstractJettyServletContainer.java
        at org.codehaus.plexus.service.jetty.JettyPlexusService.afterApplicationStartJettyPlexusService.java
        at org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.AfterAppStartServiceSetupPhase.executeAfterAppStartServiceSetupP
hase.java
        at org.codehaus.plexus.appserver.application.deploy.DefaultApplicationDeployer.deployJarDefaultApplicationDeployer.java
        at org.codehaus.plexus.appserver.application.deploy.DefaultApplicationDeployer.deployDefaultApplicationDeployer.java
        at org.codehaus.plexus.appserver.lifecycle.phase.ApplicationDeploymentPhase$.onJarDiscoveredApplicationDeploymentPhase.java
        at org.codehaus.plexus.appserver.supervisor.DefaultSupervisor.scanDirectoryDefaultSupervisor.java
        at org.codehaus.plexus.appserver.supervisor.DefaultSupervisor.scanDefaultSupervisor.java
        at org.codehaus.plexus.appserver.lifecycle.phase.ApplicationDeploymentPhase.executeApplicationDeploymentPhase.java
        at org.codehaus.plexus.appserver.DefaultApplicationServer.startDefaultApplicationServer.java
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.StartPhase.executeStartPhase.java
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.startAbstractLifecycleHandler.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycleAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstanceAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponentClassicSingletonComponentManager.java
        at org.codehaus.plexus.DefaultComponentLookupManager.lookupDefaultComponentLookupManager.java
        at org.codehaus.plexus.DefaultComponentLookupManager.lookupDefaultComponentLookupManager.java
        at org.codehaus.plexus.DefaultPlexusContainer.lookupDefaultPlexusContainer.java
        at org.codehaus.plexus.DefaultPlexusContainer.lookupDefaultPlexusContainer.java
        at org.codehaus.plexus.appserver.PlexusApplicationHost.startPlexusApplicationHost.java
        at org.codehaus.plexus.appserver.PlexusApplicationHost.startPlexusApplicationHost.java
        at org.codehaus.plexus.appserver.PlexusApplicationHost.mainPlexusApplicationHost.java
        at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
        at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
",Bug
"Company POM - Allow a different version than  to be entered. Company POM always takes version , a different version cannot be usedentered via GUI.  Allow version to be specified along with existing group and artifact ids.  Thanks.",Improvement
"Improve the ""Administration - Proxy Connectors"" view When clicking the ""expand"" button I would assume it to read ""collapse"" after I press it. Also, when pressing it it take around  seconds for it to actually collapse. Browser opera . on os x.",Improvement
"When scanning, Archiva doesnt resolve propertiesvariables of POMs in managed repositories If you have a JAR with a POM that contains variables like ""pom.version"" or properties, Archiva doesnt resolve them when scanning and analysing the repository. Some of the multiple consequences are that the ""Dependencies"" tab can list dependencies without ""real"" versions, and that the ""Dependency Tree"" tabs can break with an exception ""Unable to generate graph for XXX  Unable to create ArchivaArtifact with empty version"".

A consequence of this bug can be seen by following these steps
 install Archiva 
 ask for the following artifact httplocalhostarchivarepositoryinternalorgapachemavenarchivaarchiva-model.archiva-model-..jar
 then go to the page httplocalhostarchivabrowseorg.apache.maven.archivaarchiva-model.
 on the ""Dependencies"" tab theres no version for the dependencies which is linked to the fact that the versions are defined in the parent POM, but if ${pom.version} would have been specified, we would have had ""${pom.version}""...}
 on the ""Dependency Tree"", we get the ""Unable to generate graph for XXX  Unable to create ArchivaArtifact with empty version"" exception

This bug breaks other functionalities like the ""Used by"" tab.",Bug
"HTTP  when opening proxyConnectors.jsp proxyConnectors cannot be opened after updating to version .

HTTP ERROR 

Exception in JSP WEB-INFjspadminproxyConnectors.jsp

       img src""curl value""imagesarchiva-world.png""""
       p class""id""${connector.targetRepoId}p
       p class""name""${repoMapconnector.targetRepoId.name}p
       p class""url""a href""${repoMapconnector.targetRepoId.url}""${repoMapconnector.targetRepoId.url}ap
     div
     
     a class""expand"" href"""" onclick""Effect.toggleproxySettings_${connector.sourceRepoId}_${connector.targetRepoId},slide; return false;""Expanda


Stacktrace

RequestURIarchivaadminproxyConnectors.action

Powered by Jetty",Bug
"Search results contains links with  characters in them on Windows I have installed Archiva . following the guide here
httpmaven.apache.orgarchivadocs.quick-start.html

After configuring the admin account I logged in and entered the example URLs  found on the above page. This downloads junit-.. properly and installs it in the internal repository.

Then I tried to search for junit. I got  hits see screenshot. The first two who link to the archivarepositoryinternal... have URLs that ends in the Windows path to those artifacts. So these links do not work. The third one which links to archivabrowse... works fine.",Bug
"database not being updated with project model information I noticed Archiva database was not being updated with project model information in the following scenario

 Project B .-SNAPSHOT depends on Project A .
 Project B is deployed to Archiva repository
 Project B changes Project A dependency version from . to .-SNAPSHOT
 Project B is deployed to Archiva repository again.
 The user executes Scan Repository Now and Update Database Now using Archiva.

At this point, if you browse project B, youll notice it still keeps the reference to the former version of Project A, ., and not .-SNAPSHOT. However, if you download the POM file, you will see it has the lastet dependency version as expected.

NOTE In project B POM file the snapshotRepository is configured with uniqueVersion equals to false.",Bug
"Virtual repositories or repository grouping A number of managed repositories can  be grouped together with that group having only one url. So you only need to specify that url in the settings.xml file and when Archiva receives a request via that url, it would look for that artifact from the repositories belonging to that group. 

More details are dicussed here
httpwww.nabble.comArchiva-.-Roadmap-td.htmla",New_Feature
"Archiva doesnt download SNAPSHOTs for proxied repositories. I have setup Archiva Managed Internal Repository as my whole and sole mirror in my settings.xml.
The settings.xml does not contain any other repository information, just the mirror entry .

The Archiva Manged Internal Repository is set to proxy  external repositories,
One of which contains certain SNAPSHOTs that I have as dependencies.

The proxy connector for this repository has snapshot policy set to ""always"", I also tried
""daily"", ""hourly"". But the SNAPSHOT is never downloaded any my build fails.

The log file shows no special activity.

Also I am including the link to the thread on user-list
httpwww.nabble.comProxying-SNAPSHOT-repositories-td.html",Bug
"Archiva runs out of heap memory Archiva appears to run out of heap memory frequently and the service crashes.

mb should be more than enough.",Bug
"Timeout implementation for Archiva This patch replaces Wagon HTTP lightweight with Wagon HTTP to allow for connection timeouts.

By using Wagon HTTP, we also get connection pooling for free YAY",Improvement
"revise default proxy settings again it appears that Archiva is reported as being slow because the default for releases is set to ""always"".

Clear up
- what each means
- whether releases is the artifact or the metadata
- whether its the same for snapshots
- how metadata is affected if not in the above",Bug
"archiva homepage should highlight the zip version Due to MRM-, and the more general fact that tar isnt very well standardized across OSes, the zip version should be more visible.  Right now you have to click through to ""All Downloads"" to find the zip file; I very nearly posted a request to users asking someone to make me a zip version, thinking that there wasnt one.",Improvement
"mvn coberturacobertura does not work with Archiva repository set as mirror mvn coberturacobertura does not work with Archiva repository set as mirror. 

$ mvn coberturacobertura
INFO Scanning for projects...
INFO Searching repository for plugin with prefix cobertura.
INFO org.apache.maven.plugins checking for updates from central
INFO org.codehaus.mojo checking for updates from central
INFO artifact org.apache.maven.pluginsmaven-cobertura-plugin checking for updates from central
INFO ------------------------------------------------------------------------
ERROR BUILD ERROR
INFO ------------------------------------------------------------------------
INFO The plugin org.apache.maven.pluginsmaven-cobertura-plugin does not exist or no valid version could be found
INFO ------------------------------------------------------------------------
INFO For more information, run Maven with the -e switch
INFO ------------------------------------------------------------------------
INFO Total time  seconds
INFO Finished at Thu Dec   GMT 
INFO Final Memory MM
INFO ------------------------------------------------------------------------",Bug
Add description field to the different types of repositories When looking over the repositories page it would be useful to have a description for each of the repositories configured. Personally I need it to be able to describe the owner of the repository and indended purpose.,New_Feature
"org.apache.maven.archiva.repository.content.FilenameParser is unable to determine unique snapshot versions with specific version names After deploying an artifact with version trunk-SNAPSHOT with unique version set to true, I am not able to download the artifact anymore. The reason is the org.apache.maven.archiva.repository.content.DefaultPathParser throwing a LayoutException ""filename format is invalid, expected timestamp format in filename"".

The problem is the determination of an unique snapshot in the given file path using the FilenameParser.nextVersion method that uses VersionUtil.isVersion to determine if the parsed section of a given filename is part of a version or not.
The VersionUtil uses a VersionMegaPattern to identify version parts in a string, this does not work on any possible version name.

A quick solution for me was to patch the VersionUtil and add trunk to the VersionMegaPattern, but a more stable solution should use the already identified baseVersion trunk-SNAPSHOT in this case to determine the version and timestamp parts in a given or to skip path validity checks.

I added an additional unit test snippet for org.apache.maven.archiva.repository.content.DefaultPathParserTest to reproduce the problem",Bug
unstable test case MavenProjectInfoReportsPluginDependencyGraphTest this test appears to depend on the current remote repository contents of a snapshot which changes from time to time. Needs adjusting.,Bug
"NullPointer when setting corporate POM on a fresh archvia install Tryning to set a corporate POM fails with a NullPointerException

The maven-shared-application configuration expect a configuration to exist as either org.apache.maven.shared.app.user or org.apache.maven.shared.app.base. The first one is declared in archvia application.xml as ""config-forceCreate""true"""", so it SHOULD have been created, but is absent from my ${user.home}.m

This may be a plexus-registry-provider bug, or a commons-configuration bug.",Bug
"add a troubleshooting section to the documentation we should add a troubleshooting section troubleshooting proxy, troubleshooting webdav",Bug
Database seems to be getting initialized twice -- the second time causing the Repositories page to take a long time to load on initial access The database seems to be initialized twice. The first one during startup and the second one when you initially access the Repositories page causing this page to take a long time to load . Please see attached logs.,Bug
find artifact self signed certificate will expire soon we need a new certificate with a longer timeframe,Bug
"a number of unit tests fail on windows I have failures in the following
BytecodeIndexTest Im not sure if this is Windows-specific though
EditManagedRepositoryActionTest c vs C - need canonicalisation
All repository tests in archiva-webapp these are intermittent, failure to delete files in the setUp of the abstract test case for WebDAV - this suite of tests need a review due to their time consuming nature and timing issues",Bug
"archiva-common tests rely on relative paths it would be good to make these path independent by using getResource or similar

other modules are possibly affected - havent checked.",Bug
"Use UTF- for better in support for page dispaly Current the web page use iso-- 
It result in some Chinese Characters display as 

Please help to deal with it.",Improvement
"Cant untar archiva with cygwin tar . When I try to untar archiva on Windows XP with cygwin tar ., I get ""tar A lone zero block at "".  Not sure if anything can be done about this bug, tar just isnt very standardized across various OSes but I figured Id file it anyway for the record.",Bug
"ClassCastException when saving proxy connector with property defined Im having trouble configurating Archiva to proxy an instance of 
  Proximity because Im required to set a property on the proxy
 connector.
  Unfortunately Archiva . bombs when I try to save a proxy connector 
  with a property
 
 
 
 
  HTTP ERROR 
 
  Ljava.lang.String; cannot be cast to java.lang.String
 
  RequestURIarchivaadmineditProxyConnector!commit.action
 
  Powered by Jetty httpjetty.mortbay.org


 Heres the full stacktrace from the console

 jvm     | WARNING archivaadmineditProxyConnector!commit.action
 jvm     | java.lang.ClassCastException Ljava.lang.String; cannot be
 cast to j
 ava.lang.String
 jvm     |      at
 org.apache.maven.archiva.configuration.io.registry.Configurat
 ionRegistryWriter.writeProxyConnectorConfigurationConfigurationRegist
 ry
 Writer.j
 ava
 jvm     |      at
 org.apache.maven.archiva.configuration.io.registry.Configurat
 ionRegistryWriter.writeConfigurationConfigurationRegistryWriter.java
 
 
 jvm     |      at
 org.apache.maven.archiva.configuration.io.registry.Configurat
 ionRegistryWriter.writeConfigurationRegistryWriter.java
 jvm     |      at
 org.apache.maven.archiva.configuration.DefaultArchivaConfigur
 ation.saveDefaultArchivaConfiguration.java
 jvm     |      at
 org.apache.maven.archiva.web.action.admin.connectors.proxy.Ab
 stractProxyConnectorAction.saveConfigurationAbstractProxyConnectorAct
 io
 n.java
 
 jvm     |      at
 org.apache.maven.archiva.web.action.admin.connectors.proxy.Ed
 itProxyConnectorAction.commitEditProxyConnectorAction.java
 jvm     |      at sun.reflect.NativeMethodAccessorImpl.invokeNative
 Method
 jvm     |      at
 sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAcces
 sorImpl.java
 jvm     |      at
 sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMet
 hodAccessorImpl.java
 jvm     |      at java.lang.reflect.Method.invokeMethod.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeActionD
 efaultActionInvocation.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeActionOn
 lyDefaultActionInvocation.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor
 .doInterceptDefaultWorkflowInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.interceptor.MethodFilterInterceptor.in
 terceptMethodFilterInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 com.opensymphony.xwork.validator.ValidationInterceptor.doInte
 rceptValidationInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.interceptor.MethodFilterInterceptor.in
 terceptMethodFilterInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 org.apache.maven.archiva.web.interceptor.ConfigurationInterce
 ptor.interceptConfigurationInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforceme
 ntInterceptor.interceptPolicyEnforcementInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 org.codehaus.plexus.redback.xwork.interceptor.SecureActionInt
 erceptor.interceptSecureActionInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 com.opensymphony.xwork.interceptor.ParameterFilterInterceptor
 .interceptParameterFilterInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor
 .doInterceptDefaultWorkflowInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.interceptor.MethodFilterInterceptor.in
 terceptMethodFilterInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 com.opensymphony.xwork.validator.ValidationInterceptor.doInte
 rceptValidationInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.interceptor.MethodFilterInterceptor.in
 terceptMethodFilterInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 com.opensymphony.xwork.interceptor.AroundInterceptor.intercep
 tAroundInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 com.opensymphony.xwork.interceptor.AroundInterceptor.intercep
 tAroundInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 com.opensymphony.xwork.interceptor.AroundInterceptor.intercep
 tAroundInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 com.opensymphony.webwork.interceptor.FileUploadInterceptor.in
 terceptFileUploadInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 com.opensymphony.xwork.interceptor.AroundInterceptor.intercep
 tAroundInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 com.opensymphony.webwork.interceptor.debugging.DebuggingInter
 ceptor.interceptDebuggingInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 com.opensymphony.xwork.interceptor.AroundInterceptor.intercep
 tAroundInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 com.opensymphony.xwork.interceptor.InInterceptor.intercept
 InInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 com.opensymphony.xwork.interceptor.AroundInterceptor.intercep
 tAroundInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 com.opensymphony.xwork.interceptor.AroundInterceptor.intercep
 tAroundInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 com.opensymphony.xwork.interceptor.AroundInterceptor.intercep
 tAroundInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 com.opensymphony.xwork.interceptor.ExceptionMappingIntercepto
 r.interceptExceptionMappingInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterc
 eptor.interceptAutoLoginInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserI
 nterceptor.interceptForceAdminUserInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 com.opensymphony.xwork.interceptor.AroundInterceptor.intercep
 tAroundInterceptor.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionInvocation.invokeDefault
 ActionInvocation.java
 jvm     |      at
 com.opensymphony.xwork.DefaultActionProxy.executeDefaultActi
 onProxy.java
 jvm     |      at
 com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAc
 tionDispatcherUtils.java
 jvm     |      at
 com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter
 FilterDispatcher.java
 jvm     |      at
 org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.d
 oFilterWebApplicationHandler.java
 jvm     |      at
 com.opensymphony.module.sitemesh.filter.PageFilter.parsePage
 PageFilter.java
 jvm     |      at
 com.opensymphony.module.sitemesh.filter.PageFilter.doFilterP
 ageFilter.java
 jvm     |      at
 org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.d
 oFilterWebApplicationHandler.java
 jvm     |      at
 com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFi
 lterActionContextCleanUp.java
 jvm     |      at
 org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.d
 oFilterWebApplicationHandler.java
 jvm     |      at
 org.mortbay.jetty.servlet.WebApplicationHandler.dispatchWebA
 pplicationHandler.java
 jvm     |      at
 org.mortbay.jetty.servlet.ServletHandler.handleServletHandle
 r.java
 jvm     |      at
 org.mortbay.http.HttpContext.handleHttpContext.java
 jvm     |      at
 org.mortbay.jetty.servlet.WebApplicationContext.handleWebApp
 licationContext.java
 jvm     |      at
 org.mortbay.http.HttpContext.handleHttpContext.java
 jvm     |      at
 org.mortbay.http.HttpServer.serviceHttpServer.java
 jvm     |      at
 org.mortbay.http.HttpConnection.serviceHttpConnection.java
 
 jvm     |      at
 org.mortbay.http.HttpConnection.handleNextHttpConnection.jav
 a
 jvm     |      at
 org.mortbay.http.HttpConnection.handleHttpConnection.java
 
 jvm     |      at
 org.mortbay.http.SocketListener.handleConnectionSocketListen
 er.java
 jvm     |      at
 org.mortbay.util.ThreadedServer.handleThreadedServer.java
 
 jvm     |      at
 org.mortbay.util.ThreadPool$PoolThread.runThreadPool.java
 
",Bug
"LayoutException when downloading SNAPSHOT test-sources If you deploy a SNAPSHOT to Archiva that deploys test sources, and then try to download the test sources, the download will fail with an error.

To reproduce Using the attached project, deploy to Archiva, then go to httplocalhostarchivarepositorysnapshotscommycompanyappmy-app.-SNAPSHOT and try to download the test-sources.jar.  An example settings.xml file is also provided in the archive; change its password and then do ""mvn deploy -s settings.xml"".

Youll get a  error, with this exception

{noformat}
org.apache.maven.archiva.repository.layout.LayoutException Invalid path to Artifact filename format is invalid,expected timestamp format in filename.
	at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReferenceDefaultPathParser.java
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toArtifactReferenceRepositoryRequest.java
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toNativePathRepositoryRequest.java
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.processProxiedDavServer.java
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.serviceMultiplexedWebDavServlet.java
	at org.apache.maven.archiva.web.repository.RepositoryServlet.serviceRepositoryServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at org.mortbay.jetty.servlet.WebApplicationHandler.dispatchWebApplicationHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.http.HttpContext.handleHttpContext.java
	at org.mortbay.jetty.servlet.WebApplicationContext.handleWebApplicationContext.java
	at org.mortbay.http.HttpContext.handleHttpContext.java
	at org.mortbay.http.HttpServer.serviceHttpServer.java
	at org.mortbay.http.HttpConnection.serviceHttpConnection.java
	at org.mortbay.http.HttpConnection.handleNextHttpConnection.java
	at org.mortbay.http.HttpConnection.handleHttpConnection.java
	at org.mortbay.http.SocketListener.handleConnectionSocketListener.java
	at org.mortbay.util.ThreadedServer.handleThreadedServer.java
	at org.mortbay.util.ThreadPool$PoolThread.runThreadPool.java
{noformat}",Bug
warinplace usage is not compatible with cobertura review usage so that we can look at code coverage for the webapp,Bug
"Invalid html links in ""webdav"" directory browsing The html page served by archiva in the ""webdav"" repository browsing contains badly formed a href links. Here is an example of what I get at httplocalhostarchivarepositoryinternalantant
{code}
html
head
titleCollection antanttitle
head
body
hCollection antanth
ul
lia href""..""anta ismallParentsmallili
ul
ul
lia href""...""..li

lia href""...""..li
lia href"".."".li
ul
body
html
{code}
As you can see the a elements referencing the available versions are not closed.",Bug
"Test failure occurs when building the bundled sources of archiva I downloaded the bundled sources of archiva from httpmaven.apache.orgarchiva and extracted it in some directory.  After that, I executed `mvn clean install` inside the extracted source directory, then I encountered a test failure somewhere in the archiva-repository-layer

{code}
-------------------------------------------------------------------------------
Test set org.apache.maven.archiva.repository.scanner.RepositoryScannerTest
-------------------------------------------------------------------------------
Tests run , Failures , Errors , Skipped , Time elapsed . sec  FAILURE!
testDefaultRepositoryScannerorg.apache.maven.archiva.repository.scanner.RepositoryScannerTest  Time elapsed . sec   FAILURE!
junit.framework.AssertionFailedError Processed Count of invalid items expected but was
	at junit.framework.Assert.failAssert.java
	at junit.framework.Assert.failNotEqualsAssert.java
	at junit.framework.Assert.assertEqualsAssert.java
	at junit.framework.Assert.assertEqualsAssert.java
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerTest.testDefaultRepositoryScannerRepositoryScannerTest.java
{code}

I attached my build log as well.",Bug
"Repository scanning does not recognize newly added artifacts if they have an old timestamp After starting up a fresh instance with default configuration, I copied parts of my existing repository to Archivas default internal repository. Then I used the ""Scan Repository Now"" button on the repository administration page. Afterwards, all artifacts were visible on the ""Browse"" page. So far so good.

I then copied some more groups of my existing repo to Archivas default internal repository, and used ""Scan Repository Now"" once again. But this time, the ""Browse"" page did not show the newly added groups. This was quite surprising, as the log output of RepositoryScanner clearly showed that Archiva DID walk over these new artifacts, without errors or warnings. I tried to use the ""Update Database Now"" button, but still no effect.

I finally touched one of the POM files in the missing groups, i.e. I gave the POM file a new timestamp. After doing ""Scan Repository Now"" again, the artifact appeared on the Browse page.


As discussed on httpwww.nabble.comRepository-scanning-problem-in-.--tf.htmla",Bug
"index-public-method throwing ConsumerExceptions Executed ""mvn deploy"" on multi-module project. As build and deployment traverses to submodules, exceptions listed below are thrown

-- , pool--thread- WARN  org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure  - Unable to process artifact com. myprojectjar.-RELEASE with consumer index-public-methods
org.apache.maven.archiva.consumers.ConsumerException Error encountered while adding artifact to index Error updating index Lock obtain timed out SimpleFSLock@Earchivadatarepositoriesinternal.indexbytecodewrite.lock
	at org.apache.maven.archiva.consumers.lucene.IndexJavaPublicMethodsConsumer.processArchivaArtifactIndexJavaPublicMethodsConsumer.java
	at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.executeProcessArchivaArtifactClosure.java
	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateUnprocessedJdoDatabaseUpdater.java
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateAllUnprocessedJdoDatabaseUpdater.java
	at org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor.executeTaskArchivaDatabaseUpdateTaskExecutor.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
	at java.lang.Thread.runThread.java
-- , pool--thread- WARN  org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure  - Unable to process artifact com.myprojectjava-sourcesources.-RELEASE with consumer index-public-methods
org.apache.maven.archiva.consumers.ConsumerException Error encountered while adding artifact to index Error updating index Lock obtain timed out SimpleFSLock@Earchivadatarepositoriesinternal.indexbytecodewrite.lock
	at org.apache.maven.archiva.consumers.lucene.IndexJavaPublicMethodsConsumer.processArchivaArtifactIndexJavaPublicMethodsConsumer.java
	at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.executeProcessArchivaArtifactClosure.java
	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateUnprocessedJdoDatabaseUpdater.java
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateAllUnprocessedJdoDatabaseUpdater.java
	at org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor.executeTaskArchivaDatabaseUpdateTaskExecutor.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
	at java.lang.Thread.runThread.java


and this

-- , pool--thread- WARN  org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure  - Unable to process artifact com.mywarprojectwar.-RELEASE with consumer index-public-methods
org.apache.maven.archiva.consumers.ConsumerException Error encountered while getting file contents error in opening zip file
	at org.apache.maven.archiva.consumers.lucene.IndexJavaPublicMethodsConsumer.processArchivaArtifactIndexJavaPublicMethodsConsumer.java
	at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.executeProcessArchivaArtifactClosure.java
	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateUnprocessedJdoDatabaseUpdater.java
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateAllUnprocessedJdoDatabaseUpdater.java
	at org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor.executeTaskArchivaDatabaseUpdateTaskExecutor.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
	at edu.emory.mathcs.backport.java.util.con

",Bug
"Typo in Search results page Minor typo in Search results page. ""Hist"" is spelled which should be ""Hits"".",Bug
" Archiva user-admin should be able to view useredit after logging in from ""Security Alert"" page Steps to reproduce

. Log out of Archiva, and go to httplocalhostsecurityuseredit.actionusernamesomeuser

. Security Alert page is displayed. Click ""Go Ahead Login""

. Login as admin

. Url shows login success  httplocalhostsecurityuseredit!edit.actionexternalResultsecurity-login-success but Security Alert Page is still displayed

. Going to httplocalhost and you can see that the user is already logged in.",Bug
"Fresh installation of Archiva with LDAP authentication does not survive restart of the servlet container Im trying to setup an Archiva instance from the scratch. Ive configured Archiva to use LDAP for user authentication see attached security.policy. The admin user is defined to be ""maven"" and theres corresponding entry in the ActiveDirectory for the user. When I start Tomcat with no existing Derby database, everything work just fine. The Derby database is created and I can log in using any user in the ActiveDirectory, including the Archiva admin user.

However, troubles begin if I shutdown Tomcat and re-start it. Now Archiva wont start. Log entries in localhost.--.log attached, as the other log files would suggest that the system tried to find some user probably admin user in the local Derby database, but couldnt find one since were using remote LDAP directory.

As a workaround, I was able get Archiva properly running with LDAP support so that I first deleted the Derby databased and used minimal security.properties like this

redback.default.adminmaven
redback.default.guestmavengu
security.policy.password.expiration.enabledfalse

This will configure Redback to use the same admin and guest user names that the LDAP setup has. When accessing Archiva for the first time, itll redirect to admin creation form. After creating the admin user, I shutdown Tomcat and replaced security.properties with the full one that enables LDAP support. Now when Tomcat is started, also Archiva start properly and Im able to login as any user in LDAP.

As a summary, quick instructions to reproduce this
. Have a working Archiva setup ready
. Configure security.properties so that Archiva is using LDAP
. Delete existing Derby database directory
. Start the servlet container and verify LDAP login works
. Shutdown servlet container
. Start servlet container, Archiva application fails to load

Correct behaviour would be that that Archiva would just work when configured to use LDAP, with no aforementioned workaround needed.",Bug
"Archiva throws NPE when a user uploads a large artifact When a user uploads a file larger then bytes they are presented with a meaningless NPE attached as NPE-user.txt and the server throws a NPE attached as NPE-server.txt but also contains the following

Nov ,   AM org.apache.struts.dispatcher.Dispatcher getSaveDir
INFO Unable to find struts.multipart.saveDir property setting. Defaulting to javax.servlet.context.tempdir
Nov ,   AM org.apache.struts.dispatcher.multipart.JakartaMultiPartRequest parse
SEVERE org.apache.commons.fileupload.FileUploadBase$SizeLimitExceededException the request was rejected because its size  exceeds the configured maximum 
Nov ,   AM org.apache.struts.interceptor.FileUploadInterceptor intercept
SEVERE the request was rejected because its size  exceeds the configured maximum 
Nov ,   AM org.apache.catalina.core.StandardWrapperValve invoke
SEVERE Servlet.service for servlet default threw exception

With some digging i found that i could increase this limit by adding ""struts.multipart.maxSize"" to webappsarchivaROOTWEB-INFclassesstruts.properties which i have tested

archiva needs to handle this exception better to the userserver and there needs to be a mechanism to define the max file size in a better solution",Bug
"Bug with upload artifact Artifact Data

Group Id  org.apache.openjpa	
Artifact Id openjpa-persistence	
Version ..	
Packaging jar	

When i upload artifact openjpa-persistence there is an error 

javax.servlet.ServletException java.lang.NullPointerException
	org.apache.struts.dispatcher.Dispatcher.serviceActionDispatcher.java
	org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilterReplyHeaderFilter.java

root cause

java.lang.NullPointerException
	org.apache.maven.archiva.common.utils.VersionUtil.isVersionVersionUtil.java
	org.apache.maven.archiva.web.action.UploadAction.validateUploadAction.java
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ConversionErrorInterceptor.interceptConversionErrorInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ParametersInterceptor.doInterceptParametersInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.StaticParametersInterceptor.interceptStaticParametersInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.interceptor.CheckboxInterceptor.interceptCheckboxInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ModelDrivenInterceptor.interceptModelDrivenInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ScopedModelDrivenInterceptor.interceptScopedModelDrivenInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.interceptor.ProfilingActivationInterceptor.interceptProfilingActivationInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ChainingInterceptor.interceptChainingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.PrepareInterceptor.doInterceptPrepareInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.interceptor.ServletConfigInterceptor.interceptServletConfigInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AliasInterceptor.interceptAliasInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.struts.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.struts.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ParametersInterceptor.doInterceptParametersInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.struts.impl.StrutsActionProxy.executeStrutsActionProxy.java
	org.apache.struts.dispatcher.Dispatcher.serviceActionDispatcher.java
	org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilterReplyHeaderFilter.java

",Bug
LDAP Support and Documentation It would be very nice to integrate with our corporate LDAP rather than maintain a separate User DB for authentication.,New_Feature
"Add statictics pages It would be good to have some statictics with eventually graphs in the UI with 
- nb artifacts by repositoryglobal
- size of the repositories
- downloadupload statictics how many by dayby hourby user
- ...",New_Feature
"Error  Exception when reseting a password When tried to reset a password for a user by clicked on the link sent to the user email. The reset form shows, but then after click submit, I get the following

HTTP Status  -

type Exception report

message

description The server encountered an internal error  that prevented it from fulfilling this request.

exception

javax.servlet.ServletException fromIndex  toIndex-
	com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
	com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
root cause

java.lang.IllegalArgumentException fromIndex  toIndex-
	java.util.SubList.initAbstractList.java
	java.util.RandomAccessSubList.initAbstractList.java
	java.util.AbstractList.subListAbstractList.java
	org.codehaus.plexus.redback.policy.DefaultUserSecurityPolicy.extensionChangePasswordDefaultUserSecurityPolicy.java
	org.codehaus.plexus.redback.users.jdo.JdoUserManager.updateUserJdoUserManager.java
	org.codehaus.plexus.redback.users.cached.CachedUserManager.updateUserCachedUserManager.java
	org.codehaus.plexus.redback.users.configurable.ConfigurableUserManager.updateUserConfigurableUserManager.java
	org.codehaus.plexus.redback.xwork.action.PasswordAction.submitPasswordAction.java
	sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	java.lang.reflect.Method.invokeMethod.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.xwork.interceptor.EnvironmentCheckInterceptor.interceptEnvironmentCheckInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.webwork.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionProxy.executeDefaultActionProxy.java
	com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
	com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java


This happens on .., and I just upgraded to .. and still shows the same error.",Bug
"Find Artifact broken Find Artifact is broken.

Ubuntu .  FF
After browsing to a file and clicking Search, an error message pops up saying that the file does not exist. Only the basename of the file is part of the error message, despite the full absolute path is shown in the file selection field.

Windows XP  SP  IE
Absolutely nothing happens when clicking Search. Not even an error message.
",Bug
"UsedBy tab didnt show dependant projects when range are used. On our enterprise Archiva we have many dependants projects using range ie 

mycorp-er-go depends on mycorp-mk-rif

Archiva shows us that mycorp-er-go depends on mycorp-mk-rif

 mycorp-er-go
Info Dependencies Dependency Tree Used By Mailing Lists
Downloads

       Jar      
       Pom      
mycorp-mk-rif

 fr  mycorp  mk  mycorp-mk-rif | Versions ..,.. | Scope compile
mycorp-er-core

When I goes on mycorp-mk-rif and select Used By 

 mycorp-mk-rif
Info Dependencies Dependency Tree Used By Mailing Lists
Downloads

       Jar      
       Pom      
No results


I suspect sometings weird when range are in use.

Regards",Bug
"Typo of Legacy Support option on the left nav menu Please see attached screen shot. I guess it must be ""Legacy Support"". Thanks! ",Improvement
"Add artifact search box to the default decorator Add artifact search box to the default decorator.

Being able to search from every page highlights the improved search for . and reduces the amount of clicks to get to the quicksearch page.",New_Feature
"Fix close link on main page download popups Download popups on the main site page have close links just added, but theres a problem with them. Attached is a patch that changes the close links to ""x"" links on the top right. The patch also inlines the link to previous versions of the documentation.",Bug
"SQL Server database gets emptied by repository scanner When Using SQL Server as a backing store, the repository scanner regularly empties my database, specifically the ARCHIVA_ARTIFACT table, despite the files still existing on disk. This does NOT happen when using Derby as the backing store.

Strangely, and possibly significantly, the only artifacts left in that table after a scan are the JUnit jar and POM that is recommended as a post-install test in the documentation. 

All the other files in the Maven repo were copied from another server installation. I have seen the other JIRA issues relating to timestamps, but I dont think this is the issue.

As a test, I have truncated the ARCHIVA_REPOSITORY_STATS table, then re-scanned - this does re-populate the ARCHIVA_ARTIFACT table with the  files I have in my repo, but only temporarily,  subsequent scans empty the table. 

The files on disk are not changing, with the exception of a handful of artifacts that I deploy to the repo periodically via Hudson builds.

Ive attached the last contents of my  ARCHIVA_REPOSITORY_STATS table before I switched back to Derby, which works all files remain visible in Archiva.",Bug
"DependenciesDependency TreeUsed by doesnt work correctly with properties in version I have a pom with a number of modules. So what I have done is 
I define a property in this pom

properties
    version.commons.beanutils..version.commons.beanutils
properties

In some of the module poms i define the following dependencies

dependency
    groupIdcommons-beanutilsgroupId
    artifactIdcommons-beanutilsartifactId
    version${version.commons.beanutils}version
dependency

Maven retrieves correctly commons-beanutils version ... 
De pages DependenciesDependency TreeUsed by doesnt  work correctly with the use of a property in a dependency version.
If a go to the link ${version.commons.beanutils} in de DependenciesDependency Tree, I expected to go the page of commons-beanutilscommon-beanutils.., but I go to the page of commons-beanutilscommon-beanutils${version.commons.beanutils} that doesnt exist.


",Bug
"Archiva fails to properly deal with overloaded upstream proxy httpjava.freehep.org is having problems at the moment, but archiva cannot deal with that problem and keeps pounding it with http connections with long timeouts which in turn affects the stability of archiva itself.

If a remote artifact needs to be fetched, can a mutex be used to ensure that the same request is not made multiple times 

-- , http-jee.mproxy.atlassian.comF...-- WARN  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer error from repository ""freehep"" for artifact org.springframeworksp
ring-aop..sourcesjava-source, continuing to next repository. Error message Download failure on resource httpjava.freehep.orgmavenorgfreehepfreehep-graphicsd..orgspringframeworkspring-aop..spring-aop
-..-sources.jarError transferring file cause java.io.IOException Server returned HTTP response code  for URL httpjava.freehep.orgmavenorgfreehepfreehep-graphicsd..orgspringframeworkspring-aop..s
pring-aop-..-sources.jar

",Bug
"Errors on when upgrading from v.. to v.-M {code}
-- , ContainerBackgroundProcessorStandardEngineCatalina ERROR JPOX.RDBMS  - Error thrown executing ALTER TABLE ""ARCHIVA_REPOS
ITORY_STATS"" ADD COLUMN ""TOTAL_PROJECT_COUNT"" int NOT NULL  ERROR column ""TOTAL_PROJECT_COUNT"" contains null values
org.postgresql.util.PSQLException ERROR column ""TOTAL_PROJECT_COUNT"" contains null values
        at org.postgresql.core.v.QueryExecutorImpl.receiveErrorResponseQueryExecutorImpl.java
        at org.postgresql.core.v.QueryExecutorImpl.processResultsQueryExecutorImpl.java
        at org.postgresql.core.v.QueryExecutorImpl.executeQueryExecutorImpl.java
        at org.postgresql.jdbc.AbstractJdbcStatement.executeAbstractJdbcStatement.java
        at org.postgresql.jdbc.AbstractJdbcStatement.executeWithFlagsAbstractJdbcStatement.java
        at org.postgresql.jdbc.AbstractJdbcStatement.executeAbstractJdbcStatement.java
        at org.apache.tomcat.dbcp.dbcp.DelegatingStatement.executeDelegatingStatement.java
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementAbstractTable.java
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementListAbstractTable.java
        at org.jpox.store.rdbms.table.TableImpl.validateColumnsTableImpl.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidationRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidateRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.runRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.executeRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager.addClassesRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager.addClassRDBMSManager.java
        at org.jpox.store.StoreManager.getDatastoreClassStoreManager.java
        at org.jpox.store.rdbms.RDBMSManager.getExtentRDBMSManager.java
        at org.jpox.AbstractPersistenceManager.getExtentAbstractPersistenceManager.java
        at org.jpox.store.rdbms.query.JDOQLQuery$Compiler.compileCandidatesJDOQLQuery.java
        at org.jpox.store.rdbms.query.JDOQLQuery$Compiler.executionCompileJDOQLQuery.java
        at org.jpox.store.rdbms.query.JDOQLQuery.performExecuteJDOQLQuery.java
        at org.jpox.store.query.Query.executeWithMapQuery.java
        at org.jpox.store.query.Query.executeWithArrayQuery.java
        at org.jpox.store.query.Query.executeQuery.java
        at org.apache.maven.archiva.database.jdo.JdoAccess.processParameterizedQueryJdoAccess.java
        at org.apache.maven.archiva.database.jdo.JdoAccess.processConstraintJdoAccess.java
        at org.apache.maven.archiva.database.jdo.JdoAccess.queryObjectsJdoAccess.java
        at org.apache.maven.archiva.database.jdo.JdoArchivaDAO.queryJdoArchivaDAO.java
        at org.apache.maven.archiva.scheduled.DefaultArchivaTaskScheduler.isPreviouslyScannedDefaultArchivaTaskScheduler.java
        at org.apache.maven.archiva.scheduled.DefaultArchivaTaskScheduler.startDefaultArchivaTaskScheduler.java
        at org.codehaus.plexus.spring.PlexusLifecycleBeanPostProcessor.postProcessAfterInitializationPlexusLifecycleBeanPostProcessor.java
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitializationAbstractAutowireCap
ableBeanFactory.java
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBeanAbstractAutowireCapableBeanFa
ctory.java
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$.runFactoryBeanRegistrySupport.java
        at java.security.AccessController.doPrivilegedNative Method
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBeanFactoryBeanRegistrySupport.java
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBeanFactoryBeanRegistrySupport.java
        at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstanceAbstractBeanFactory.java
        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
        at org.springframework.context.support.AbstractApplicationContext.getBeanAbstractApplicationContext.java
        at org.apache.maven.archiva.web.startup.ArchivaStartup.contextInitializedArchivaStartup.java
        at org.apache.catalina.core.StandardContext.listenerStartStandardContext.java
        at org.apache.catalina.core.StandardContext.startStandardContext.java
        at org.apache.catalina.core.ContainerBase.addChildInternalContainerBase.java
        at org.apache.catalina.core.ContainerBase.addChildContainerBase.java
        at org.apache.catalina.core.StandardHost.addChildStandardHost.java
        at org.apache.catalina.startup.HostConfig.deployDescriptorHostConfig.java
        at org.apache.catalina.startup.HostConfig.deployDescriptorsHostConfig.java
        at org.apache.catalina.startup.HostConfig.deployAppsHostConfig.java
        at org.apache.catalina.startup.HostConfig.checkHostConfig.java
        at org.apache.catalina.startup.HostConfig.lifecycleEventHostConfig.java
        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEventLifecycleSupport.java
        at org.apache.catalina.core.ContainerBase.backgroundProcessContainerBase.java
        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildrenContainerBase.java
        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildrenContainerBase.java
        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.runContainerBase.java
        at java.lang.Thread.runThread.java

-- , ContainerBackgroundProcessorStandardEngineCatalina ERROR JPOX.RDBMS.Schema  - An exception was thrown while addingvalid
ating classes  ERROR current transaction is aborted, commands ignored until end of transaction block
org.postgresql.util.PSQLException ERROR current transaction is aborted, commands ignored until end of transaction block
        at org.postgresql.core.v.QueryExecutorImpl.receiveErrorResponseQueryExecutorImpl.java
        at org.postgresql.core.v.QueryExecutorImpl.processResultsQueryExecutorImpl.java
        at org.postgresql.core.v.QueryExecutorImpl.executeQueryExecutorImpl.java
        at org.postgresql.jdbc.AbstractJdbcStatement.executeAbstractJdbcStatement.java
        at org.postgresql.jdbc.AbstractJdbcStatement.executeWithFlagsAbstractJdbcStatement.java
        at org.postgresql.jdbc.AbstractJdbcStatement.executeQueryAbstractJdbcStatement.java
        at org.postgresql.jdbc.AbstractJdbcDatabaseMetaData.getTablesAbstractJdbcDatabaseMetaData.java
        at org.jpox.store.rdbms.table.TableImpl.getExistingCandidateKeysTableImpl.java
        at org.jpox.store.rdbms.table.TableImpl.validateCandidateKeysTableImpl.java
        at org.jpox.store.rdbms.table.TableImpl.validateConstraintsTableImpl.java
        at org.jpox.store.rdbms.table.ClassTable.validateConstraintsClassTable.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidationRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidateRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.runRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.executeRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager.addClassesRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager.addClassRDBMSManager.java
        at org.jpox.store.StoreManager.getDatastoreClassStoreManager.java
        at org.jpox.store.rdbms.RDBMSManager.getExtentRDBMSManager.java
        at org.jpox.AbstractPersistenceManager.getExtentAbstractPersistenceManager.java
        at org.jpox.store.rdbms.query.JDOQLQuery$Compiler.compileCandidatesJDOQLQuery.java
        at org.jpox.store.rdbms.query.JDOQLQuery$Compiler.executionCompileJDOQLQuery.java

        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBeanFactoryBeanRegistrySupport.java
        at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstanceAbstractBeanFactory.java
        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
        at org.springframework.context.support.AbstractApplicationContext.getBeanAbstractApplicationContext.java
        at org.apache.maven.archiva.web.startup.ArchivaStartup.contextInitializedArchivaStartup.java
        at org.apache.catalina.core.StandardContext.listenerStartStandardContext.java
        at org.apache.catalina.core.StandardContext.startStandardContext.java
        at org.apache.catalina.core.ContainerBase.addChildInternalContainerBase.java
        at org.apache.catalina.core.ContainerBase.addChildContainerBase.java
        at org.apache.catalina.core.StandardHost.addChildStandardHost.java
        at org.apache.catalina.startup.HostConfig.deployDescriptorHostConfig.java
        at org.apache.catalina.startup.HostConfig.deployDescriptorsHostConfig.java
        at org.apache.catalina.startup.HostConfig.deployAppsHostConfig.java
        at org.apache.catalina.startup.HostConfig.startHostConfig.java
        at org.apache.catalina.startup.HostConfig.lifecycleEventHostConfig.java
        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEventLifecycleSupport.java
        at org.apache.catalina.core.ContainerBase.startContainerBase.java
        at org.apache.catalina.core.StandardHost.startStandardHost.java
        at org.apache.catalina.core.ContainerBase.startContainerBase.java
        at org.apache.catalina.core.StandardEngine.startStandardEngine.java
        at org.apache.catalina.core.StandardService.startStandardService.java
        at org.apache.catalina.core.StandardServer.startStandardServer.java
        at org.apache.catalina.startup.Catalina.startCatalina.java
        at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
        at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
        at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
        at java.lang.reflect.Method.invokeMethod.java
        at org.apache.catalina.startup.Bootstrap.startBootstrap.java
        at org.apache.catalina.startup.Bootstrap.mainBootstrap.java
{code}",Bug
"No icon for maven-plugin on artifact-details view. On artifact detail view FOR PLUGINS there is on the right side download-links for pom, source-files, jarwaretc on the link for the maven-plugin-jar no icon.",Bug
"Option to force scanning of an artifactrepository regardless of file dates Often I try to browse an artifact and see ""Unable to find project model"" even though I know the artifact is in the repository.  

By default when Archiva scans a repo, it only ""sees"" files added since the last time the scan was run.

Currently the only way I know to re-set it is to touch the files on disk so they appear newer, or delete the database so that Archiva will start over with scanning, neither of which is ideal.

I need a way to force scanning of artifacts or an entire repository, regardless of the file dates.

If the Last Scanned date on the Repositories page were configurable, that would allow me to set the date far back in time so that all files would appear to be ""new"" and it would scan everything again.

Or, some way to give it a groupId or groupIdartifactId and have it go fix its database for that subset of the repo contents.",Improvement
"Change the web context for jetty deliverable to   ROOT context Hi,

Placing the archiva jetty distribution behind a proxy or web server is tricky at the moment because the web context is archiva not . Could this please be fixed 

Cheers

Dave",Improvement
"Organisation link on logo points to somewhere the link on the organisation logo in the top right points to somewhere. Shouldnt this point to the organisation url

Thanks

greets Stefan
",Bug
"Archiva allows deployment by user with expired password If a user has the repo manager role, he can still deploy artifacts even if his password is expired andor flagged as must be changed.

An expired password is no longer valid, and Archiva should prevent access to the repository until it is changed.",Bug
"Automatically detect and upload pom packaged inside artifacts produced by maven Maven stores in its artifacts the pom of the project in META-INFmavenGROUPIDARTIFACTID
A nice feature could be to have archiva to automatically detect and deploy them when we use its upload page",New_Feature
"Dependency Tree does not show dependencies correctly See attached screenshot  POM

saxon-xpath depends on saxon, but the dependency tree only shows saxon-xpath itself.",Bug
Upgrade modello maven plugin to . to support Java  generics Upgrade modello maven plugin to . to support Java  generics.,Improvement
"Repository manager does not see the ""Upload"" link Hello,

Ive users that are ""Repository Manager"".
They do not see the link ""Upload artifact"" in the menu. They have to enter the URL in the browser address bar to go to the upload form. It works but its not enough ""user-friendly"" for them.

Ive looked at the default.jsp file in WEB-INFjspdecorators folder. It seems that the user does not match this condition
redbackifAnyAuthorized permissions""archiva-manage-users,archiva-access-reports,archiva-manage-configuration""

So, either there is something wrong with the taglib but I do not think so as the ""admin"" user can see the ""Upload artifact link"" either giving ""Repository manager"" role to a user is not enough.

Please advise.

Thanks,

David",Bug
"Search returns too many results When performing a search for a specific artifactId, there will be many other projects that will be returned presumably because they have that defined as a dependency.  I would expect the behavior to be that the artifactId which is defined as a project should be returned only or at least returned as the first entry.  For a common jar, there could be several pages and the ""real"" project is buried somewhere in those pages.

Due to this issue, this makes the UI search interface unusable in many cases.",Bug
"Error  ""too many open files"" In our start-script we have configured ""ulimit -n ""
But still, occassionally we get http error  ""java.io.FileNotFoundException ... Too many open files"" on a Maven-artifact-request.

I suppose the files are not properly closed after they are delivered.",Bug
"Unable to download metadata.xml Hello,

I am not able to pull down this file.  Any suggestions

here is error from log

... -  -  Jan  ""GET
archivarepositoryreleasescomfortinetfortidbmavenpluginsmaven-metadata.xml
HTTP.""  
""httparchiva.fortinet-us.comarchivarepositoryreleasescomfortinetfortidbmavenplugins""
""Mozilla. compatible; MSIE .; Windows NT .; .NET CLR ..;
.NET CLR ..""

here is errror on the browser

HTTP ERROR 
Adding text to an XML document must not be null
RequestURIarchivarepositoryreleasescomfortinetfortidbmavenpluginsmaven-metadata.xml

Caused by
java.lang.IllegalArgumentException Adding text to an XML document
must not be null
       at org.domj.DocumentFactory.createTextDocumentFactory.java
       at org.domj.tree.AbstractElement.addTextAbstractElement.java
       at org.domj.tree.AbstractElement.setTextAbstractElement.java
       at org.apache.maven.archiva.repository.metadata.RepositoryMetadataWriter.writeRepositoryMetadataWriter.java
       at org.apache.maven.archiva.repository.metadata.RepositoryMetadataWriter.writeRepositoryMetadataWriter.java
       at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.writeMergedMetadataToFileArchivaDavResourceFactory.java
       at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResourceArchivaDavResourceFactory.java
       at org.apache.maven.archiva.webdav.RepositoryServlet.serviceRepositoryServlet.java
       at javax.servlet.http.HttpServlet.serviceHttpServlet.java
       at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
       at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
       at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
       at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
       at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
       at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
       at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
       at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
       at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
       at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
       at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
       at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
       at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
       at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
       at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
       at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
       at org.mortbay.jetty.Server.handleServer.java
       at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
       at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
       at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
       at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
       at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
       at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
       at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java

Powered by Jetty



Hey Dan,
Archiva is trying to merge the metadata file with the existing metadata on your file system if there is any.

What version of Archiva is this From memory, the repository metadata writer class got a good rewrite in trunk. Can you file an issue

Thanks
James",Bug
"Website navigation links dont work as expected I would expect the logo in the top left corner of each page to link back to the main page, i.e. httparchiva.apache.org.

However, it does not so this on many pages I tested - often the links are back to the same page, or a sub-page.

E.g.

httparchiva.apache.orgdocs.-Mtourindex.html - logo links to httparchiva.apache.orgdocs

Given that the image url is relative, and works, it ought to be possible to generate the correct relative link as well.
Otherwise just use absolute links for both

However, it does work on httparchiva.apache.orgdocs.-Mrelease-notes.html

Likewise, the breadcrumb trail does not always work.

On the page httparchiva.apache.orgdocs.-Mtourindex.html the last crumb is .-M which points to httparchiva.apache.orgdocs.-Mdocs.-M which does not exist.


Other issues

httparchiva.apache.orgdocs does not have an index page - it just shows a directory listing.

There are is no ""Download"" link in the lhs navigation links on many pages.

httparchiva.apache.orgdocs.-Mindex.html

The system requirements for using Archiva are present on the download page, but are right at the bottom where they are easy to miss.
It would be better to move them closer to the current release, i.e. before the section of previous versions - or at least add a link to the introduction or current version section.

",Bug
"upload is stalling if file size exceeds limit When uploading using web interace  file bigger then max upload file limit browser is handling waiting for response and in server logs I can read
|--T.-|SEVERE|sun-appserver.|org.apache.struts.dispatcher.multipart.MultiPartRequest|_ThreadID;_ThreadNamehttpSSLWorkerThread--;_RequestIDdf-f-b-af-beca;|org.apache.commons.fileupload.FileUploadBase$SizeLimitExceededException the request was rejected because its size  exceeds the configured maximum |

|--T.-|SEVERE|sun-appserver.|org.apache.struts.interceptor.FileUploadInterceptor|_ThreadID;_ThreadNamehttpSSLWorkerThread--;_RequestIDdf-f-b-af-beca;|the request was rejected because its size  exceeds the configured maximum |

|--T.-|SEVERE|sun-appserver.|javax.enterprise.system.container.web|_ThreadID;_ThreadNamehttpSSLWorkerThread--;_RequestIDdf-f-b-af-beca;|StandardWrapperValvedefault PWC Servlet.service for servlet default threw exception
java.lang.NullPointerException
        at org.apache.maven.archiva.common.utils.VersionUtil.isVersionVersionUtil.java
        at org.apache.maven.archiva.web.action.UploadAction.validateUploadAction.java
        at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
        at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
        at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
        at org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
        at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
        at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
                                                                                                   ",Bug
"Shutdown of Tomcat causes Exception when running Archiva Project It looks like the Quartz thread is still running because the web-context has been unloaded before.
This could maybe happen because the Quartz threads are not yet under Spring control httpjira.springframework.orgbrowseSPR-.


Exception summary 

INFO Illegal access this web application instance has been stopped already.  Could not load org.quartz.StatefulJob.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.
java.lang.IllegalStateException
	at org.apache.catalina.loader.WebappClassLoader.loadClassWebappClassLoader.java
	at org.apache.catalina.loader.WebappClassLoader.loadClassWebappClassLoader.java
	at java.lang.ClassLoader.loadClassInternalUnknown Source
	at java.lang.Class.forNameNative Method
	at java.lang.Class.forNameUnknown Source
	at org.quartz.JobDetail.class$JobDetail.java
	at org.quartz.JobDetail.isStatefulJobDetail.java
	at org.quartz.simpl.RAMJobStore.triggerFiredRAMJobStore.java
	at org.quartz.core.QuartzSchedulerThread.runQuartzSchedulerThread.java
Exception in thread ""defaultScheduler_QuartzSchedulerThread"" java.lang.NoClassDefFoundError org.quartz.StatefulJob",Bug
"build problem because of use of jarsigner with a path with spaces This is the error that occures

INFO Scanning for projects...
INFO ------------------------------------------------------------------------
INFO Building Archiva Web  Applet
INFO    task-segment clean, install
INFO ------------------------------------------------------------------------
Downloading httpDEarchivarepositoryinternalorgcodehausmojokeytool-maven-plugin.-beta-keytool-maven-plugin-.-beta-.pom
K downloaded
Downloading httpDEarchivarepositoryinternalorgcodehausmojomojomojo-.pom
K downloaded
Downloading httpDEarchivarepositoryinternalorgcodehausmojokeytool-maven-plugin.-beta-keytool-maven-plugin-.-beta-.jar
K downloaded
Downloading httpDEarchivarepositoryinternalorgapachemavenpluginsmaven-jar-plugin.maven-jar-plugin-..pom
K downloaded
Downloading httpDEarchivarepositoryinternalorgapachemavenpluginsmaven-jar-plugin.maven-jar-plugin-..jar
K downloaded
INFO artifact org.codehaus.mojocobertura-maven-plugin checking for updates from central
Downloading httpDEarchivarepositoryinternalorgcodehausmojocobertura-maven-plugin.cobertura-maven-plugin-..pom
K downloaded
Downloading httpDEarchivarepositoryinternalorgcodehausmojocobertura-maven-plugin.cobertura-maven-plugin-..jar
K downloaded
INFO cleanclean
INFO enforcerenforce {execution default}
INFO plexusdescriptor {execution generate}
INFO Setting property classpath.resource.loader.class &gt; org.codehaus.plexus.velocity.ContextClassLoaderResourceLoader.
INFO Setting property velocimacro.messages.on &gt; false.
INFO Setting property resource.loader &gt; classpath.
INFO Setting property resource.manager.logwhenfound &gt; false.
INFO remote-resourcesprocess {execution default}
Downloading httpDEarchivarepositoryinternalorgapachemavenmaven-plugin-api.-beta-maven-plugin-api-.-beta-.pom
K downloaded
Downloading httpDEarchivarepositoryinternalorgcodehausplexusplexus-utils.plexus-utils-..jar
K downloaded
INFO keytoolclean {execution default}
WARNING Keystore file CProgram Filesapache-continuum-..dataworking-directorytargetkeystore doesnt exist.
INFO keytoolgenkey {execution default}
INFO resourcesresources
INFO Using default encoding to copy filtered resources.
INFO compilercompile
INFO Compiling  source file to CProgram Filesapache-continuum-..dataworking-directorytargetclasses
INFO resourcestestResources
INFO Using default encoding to copy filtered resources.
INFO compilertestCompile
INFO No sources to compile
INFO surefiretest
Downloading httpDEarchivarepositoryinternalorgapachemavensurefiresurefire-junit..surefire-junit-...pom
K downloaded
Downloading httpDEarchivarepositoryinternalorgapachemavensurefiresurefire-providers..surefire-providers-...pom
K downloaded
Downloading httpDEarchivarepositoryinternalorgapachemavensurefiresurefire-junit..surefire-junit-...jar
K downloaded
INFO Surefire report directory CProgram Filesapache-continuum-..dataworking-directorytargetsurefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
There are no tests to run.

Results 

Tests run , Failures , Errors , Skipped 

Downloading httpDEarchivarepositoryinternalorgapachemavenmaven-archiver.maven-archiver-..pom
K downloaded
Downloading httpDEarchivarepositoryinternalorgapachemavensharedmaven-shared-componentsmaven-shared-components-.pom
K downloaded
Downloading httpDEarchivarepositoryinternalorgapachemavenmaven-archiver.maven-archiver-..jar
K downloaded
INFO jarjar
INFO Building jar CProgram Filesapache-continuum-..dataworking-directorytargetarchiva-applet-.-SNAPSHOT.jar
INFO jarsign {execution default}
debug jarsigner executableCProgram FilesJavajdk.._jre..binjarsigner.exe
debug Executing &quot;CProgram FilesJavajdk.._jre..binjarsigner.exe&quot; -verify &quot;CProgram Filesapache-continuum-..dataworking-directorytargetarchiva-applet-.-SNAPSHOT.jar&quot;
warn Der Befehl &quot;CProgram&quot; ist entweder falsch geschrieben oder
warn konnte nicht gefunden werden.
INFO ------------------------------------------------------------------------
ERROR BUILD ERROR
INFO ------------------------------------------------------------------------
INFO Result of &quot;CProgram FilesJavajdk.._jre..binjarsigner.exe&quot; -verify &quot;CProgram Filesapache-continuum-..dataworking-directorytargetarchiva-applet-.-SNAPSHOT.jar&quot; execution is .
INFO ------------------------------------------------------------------------
INFO For more information, run Maven with the -e switch
INFO ------------------------------------------------------------------------
INFO Total time  seconds
INFO Finished at Wed Jan   CET 
INFO Final Memory MM
INFO ------------------------------------------------------------------------

It tries to execute ""CProgram"" instead of  ""CProgram FilesJavajdk.._jre..binjarsigner.exe"" and this causes the signing to fail.
Is this a problem of archiva or continuum or maven or something else
Best regards,
Carsten 
",Bug
"Archiva model should be updated so that the ARTIFACT table includes repositoryId as a primary key Archiva model should be updated so that the ARTIFACT table includes repositoryId as a primary key.

Multiple repositories can contain the same artifacts which may be available only to certain principals.

For example
if commons-lang . is in a repository called ""internal"" and in another repository called ""public"" both repositories were scanned public first, then internal the artifact will no longer be accessible to the users of the public repository as the artifact reference is not considered unique.",Improvement
"Log configuration and repository changes made. Log the changes made to the configurations and repositories.

Added logging to the following operations
- purge artifacts being removed
- repository scanning configurations
- database scanning configurations
- add, edit, and delete of managed and remote repositories
- add and delete repository groups including add and delete of repository from group

Changes are logged in archiva-audit.log.",Improvement
Move consumer APIs from plexus to spring Move consumers and related APIs to Spring. This is a prerequisite for the plugin work as we cannot define plexus in spring components from within plugins.,Improvement
"NPE in NexusIndexConsumer when executed when an artifact is deployed in the Archiva repository Error in the logs

java.lang.NullPointerException
	at org.apache.lucene.index.IndexWriter.initIndexWriter.java
	at org.apache.lucene.index.IndexWriter.initIndexWriter.java
	at org.sonatype.nexus.index.context.NexusIndexWriter.initNexusIndexWriter.java
	at org.sonatype.nexus.index.context.DefaultIndexingContext.getIndexWriterDefaultIndexingContext.java
	at org.sonatype.nexus.index.creator.DefaultIndexerEngine.endIndexingDefaultIndexerEngine.java
	at org.apache.archiva.consumers.lucene.NexusIndexerConsumer.completeScanNexusIndexerConsumer.java
	at org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure.executeTriggerScanCompletedClosure.java
	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	at org.apache.maven.archiva.repository.scanner.RepositoryContentConsumers.executeConsumersRepositoryContentConsumers.java
	at org.apache.maven.archiva.webdav.ArchivaDavResource.addMemberArchivaDavResource.java
	at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.doPutAbstractWebdavServlet.java
	at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.executeAbstractWebdavServlet.java
	at org.apache.maven.archiva.webdav.RepositoryServlet.serviceRepositoryServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.mortbay.jetty.Server.handleServer.java
	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
	at org.mortbay.jetty.HttpConnection$RequestHandler.contentHttpConnection.java
	at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
	at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
	at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
	at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java",Bug
"Remote, legacy Maven  repositories appear to be consulted for all artifacts, even if no appropriate proxy connector has been defined.  - We have a number of remote repositories configured, including one legacy maven  repository maven-repository.dev.java.netnonavrepository.
- We have two managed repositories configured, one for external artifacts, one for internally produced artifacts.
- We have a proxy connector that links each of the external repositories into the managed repository for external artifacts. The proxy connector explicitly excludes our group prefix e.g. orgfoo. We have configured the proxy connectors to cache-errors.

While tailing the logs, I have noticed that every request seems to be proxied through to the legacy maven  repository, even requests for artifacts that come from our managed repository for internally produced artifacts note that there is no proxy defined for this repository. These fail of course, and eventually show up in the logs as such

-- , btpool- INFO  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer not attempted on maven-repository.dev.java.netnonavrepositorycom.ea.nucleuspomsprofanity-...pom  NO to fetch, check-failures detected previous failure on url maven-repository.dev.java.netnonavrepositoryorg.foopomsprofanity-...pom",Bug
"Add support for temporary repositories used for staging Something like in Nexus Pro 
httpblogs.sonatype.compeoplebrianannouncing-nexus-maven-repository-manager-pro-beta
",New_Feature
"Used By page incorrect and Dependency Tree page  crash when specifying dependency version using dependencyManagement in parent POM. In our projects we specify the versions of artifactsdependencies in a parent POM using the dependencyManagement mechanism. This enables us to easily specify the version of an artifact to be used for all the modules in our project. However, when looking at the Dependencies page of such a module in Archiva, the versions of the dependencies are not listed. Furthermore, when opening the Dependency Tree screen, it crashes with the following error

{quote}
org.apache.maven.archiva.common.ArchivaException Unable to generate graph for com.fortis.fffjFFFJ-Integration..-.-  Unable to create ArchivaArtifact with empty version junitjunitnullpom
{quote}

Another problem,  that is probably a result of this issue, is that when looking at an artifacts Used By page for example JUNIT, the page does not list the modules that use the artifact if the artifacts version is specified in the modules parent POM using the dependencyManagement mechanism.",Bug
upgrade to wagon .-beta- this will allow removing a workaround for MRM- in archiva-proxy,Improvement
"Search Usability Taken from Bretts email to the list
{noformat}
   -   improve the search results page
       -   remove metadata files
       -   merge versions in search results
       -   for snapshots, just show SNAPSHOT, not timestamps
       -   show hits in the results this may not be possible or needed with better results, however

   -   existing JIRA complaints
       -   MRM- tokenizing
       -   MRM- weighting
       -   MRM- windows bug - may be fixed
       -   MRM- hit count, pagination completely busted

   -   advanced search
       -   improve appearance and flexibility, maybe change to ""add term"" buttons on the default search
       -   classpackage search is still flaky
           -   might be the analyzer rules, etc. for splitting on .

-   browse improvements
   -   artifact version list should show basic shared project information rather than having to drill into one version
   -   snapshot should go to a page that shows a list of versions
         go to latest, but list previous snapshots
{noformat}",Improvement
"Error  Unable to load class for JSP Twice now after Archiva .-M has been running for a while on my laptop including several sleepwake cycles, I get this error when visiting the main page.  The logs appear normal.  Restarting the app ""fixes"" it.

HTTP ERROR 

Unable to load class for JSP

RequestURIarchiva
Caused by

org.apache.jasper.JasperException Unable to load class for JSP
	at org.apache.jasper.JspCompilationContext.loadJspCompilationContext.java
	at org.apache.jasper.servlet.JspServletWrapper.getServletJspServletWrapper.java
	at org.apache.jasper.servlet.JspServletWrapper.serviceJspServletWrapper.java
	at org.apache.jasper.servlet.JspServlet.serviceJspFileJspServlet.java
	at org.apache.jasper.servlet.JspServlet.serviceJspServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.servlet.Dispatcher.forwardDispatcher.java
	at org.mortbay.jetty.servlet.Dispatcher.forwardDispatcher.java
	at org.mortbay.jetty.servlet.DefaultServlet.doGetDefaultServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.mortbay.jetty.Server.handleServer.java
	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
	at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
	at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
	at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
	at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java
Caused by java.lang.ClassNotFoundException org.apache.jsp.index_jsp
	at java.net.URLClassLoader$.runURLClassLoader.java
	at java.security.AccessController.doPrivilegedNative Method
	at java.net.URLClassLoader.findClassURLClassLoader.java
	at org.apache.jasper.servlet.JasperLoader.loadClassJasperLoader.java
	at org.apache.jasper.servlet.JasperLoader.loadClassJasperLoader.java
	at org.apache.jasper.JspCompilationContext.loadJspCompilationContext.java
	...  more

Caused by

java.lang.ClassNotFoundException org.apache.jsp.index_jsp
	at java.net.URLClassLoader$.runURLClassLoader.java
	at java.security.AccessController.doPrivilegedNative Method
	at java.net.URLClassLoader.findClassURLClassLoader.java
	at org.apache.jasper.servlet.JasperLoader.loadClassJasperLoader.java
	at org.apache.jasper.servlet.JasperLoader.loadClassJasperLoader.java
	at org.apache.jasper.JspCompilationContext.loadJspCompilationContext.java
	at org.apache.jasper.servlet.JspServletWrapper.getServletJspServletWrapper.java
	at org.apache.jasper.servlet.JspServletWrapper.serviceJspServletWrapper.java
	at org.apache.jasper.servlet.JspServlet.serviceJspFileJspServlet.java
	at org.apache.jasper.servlet.JspServlet.serviceJspServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.servlet.Dispatcher.forwardDispatcher.java
	at org.mortbay.jetty.servlet.Dispatcher.forwardDispatcher.java
	at org.mortbay.jetty.servlet.DefaultServlet.doGetDefaultServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.mortbay.jetty.Server.handleServer.java
	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
	at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
	at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
	at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
	at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java

Powered by Jetty




",Bug
"Creating new network proxy fails Hi,

I have a fresh Archiva install, version .-M. At my company all outbound web access must go through a proxy. This is why I would like to configure Archiva to use this corporate proxy when accessing remote repositories. However, when I fill the Add Network Proxy from in Administration - Network Proxies - Add Network Proxy, I get the following exception.

java.lang.IllegalArgumentException URI is not hierarchical
	at java.io.File.initFile.java
	at com.opensymphony.xwork.validator.ValidatorFactory.parseValidatorsValidatorFactory.java
	at com.opensymphony.xwork.validator.ValidatorFactory.clinitValidatorFactory.java
	at com.opensymphony.xwork.validator.ValidatorFileParser.addValidatorConfigsValidatorFileParser.java
	at com.opensymphony.xwork.validator.ValidatorFileParser.parseActionValidatorConfigsValidatorFileParser.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.loadFileAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.buildAliasValidatorConfigsAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.buildValidatorConfigsAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.getValidatorsAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.validateAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.validateAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.validateAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.ValidationInterceptor.doBeforeInvocationValidationInterceptor.java
	at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	at org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ConversionErrorInterceptor.interceptConversionErrorInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.doInterceptParametersInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.StaticParametersInterceptor.interceptStaticParametersInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.CheckboxInterceptor.interceptCheckboxInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ModelDrivenInterceptor.interceptModelDrivenInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ScopedModelDrivenInterceptor.interceptScopedModelDrivenInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.ProfilingActivationInterceptor.interceptProfilingActivationInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ChainingInterceptor.interceptChainingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.PrepareInterceptor.doInterceptPrepareInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.interceptor.ServletConfigInterceptor.interceptServletConfigInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AliasInterceptor.interceptAliasInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.struts.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.doInterceptParametersInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.struts.impl.StrutsActionProxy.executeStrutsActionProxy.java
	at org.apache.struts.dispatcher.Dispatcher.serviceActionDispatcher.java
	at org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at com.caucho.server.dispatch.FilterFilterChain.doFilterFilterFilterChain.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at com.caucho.server.dispatch.FilterFilterChain.doFilterFilterFilterChain.java
	at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at com.caucho.server.dispatch.FilterFilterChain.doFilterFilterFilterChain.java
	at com.caucho.server.webapp.WebAppFilterChain.doFilterWebAppFilterChain.java
	at com.caucho.server.dispatch.ServletInvocation.serviceServletInvocation.java
	at com.caucho.server.http.HttpRequest.handleRequestHttpRequest.java
	at com.caucho.server.port.TcpConnection.runTcpConnection.java
	at com.caucho.util.ThreadPool.runTasksThreadPool.java
	at com.caucho.util.ThreadPool.runThreadPool.java
	at java.lang.Thread.runThread.java",Bug
"Missing links to older versions in repository group I made a repository group with two repositories inside. In both are the same artifact in a different version.

The maven-metadata.xml file is merged correctly with both artifact versions, but the index in the browser just shows me version of the artifact. If I change the url manually to the other version, i can reach the artifact.

Is it possible to show all available versions of an artifact in the index of the artifact, not just one


An other issue 

the link on the organisation logo in the top right points to somewhere. Shouldnt this point to the organisation url


Thanks a lot


greets Stefan",Bug
"Archiva didnt works with IBM SDK I had to reinstalled Archiva .., in webapp version, under a new box Suse Linux box under Tomcat .. and using IBM SDK . SR.

INFO Starting Servlet Engine Apache Tomcat..
 dc.   org.apache.catalina.core.StandardContext addApplicationListener
INFO The listener ""org.springframework.web.context.ContextLoaderListener"" is already configured for this context. The duplicate definition has been ignored.
 dc.   org.apache.catalina.core.StandardContext addApplicationListener
INFO The listener ""org.apache.maven.archiva.web.startup.ArchivaStartup"" is already configured for this context. The duplicate definition has been ignored.
 dc.   org.springframework.web.context.ContextLoader initWebApplicationContext
INFO Root WebApplicationContext initialization started
 dc.   org.springframework.context.support.AbstractApplicationContext prepareRefresh
INFO Refreshing org.codehaus.plexus.spring.PlexusWebApplicationContext@cc display name Root WebApplicationContext; startup date Mon Dec   CET ; root of context hierarchy
logjWARN No appenders could be found for logger org.codehaus.plexus.spring.PlexusApplicationContextDelegate.
logjWARN Please initialize the logj system properly.
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL filehomearchivatomcatwebappsarchivaWEB-INFclassesMETA-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibarchiva-artifact-reports-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibarchiva-configuration-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibarchiva-core-consumers-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibarchiva-database-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibarchiva-database-consumers-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibarchiva-indexer-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibarchiva-lucene-consumers-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibarchiva-policies-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibarchiva-proxy-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibarchiva-report-manager-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibarchiva-repository-layer-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibarchiva-rss-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibarchiva-scheduled-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibarchiva-security-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibarchiva-webdav-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibplexus-cache-api-.-alpha-.jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibplexus-cache-ehcache-.-alpha-.jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibplexus-digest-..jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibplexus-ehcache-.-alpha-.jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibplexus-expression-evaluator-.-rc.jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibplexus-mail-sender-javamail-.-alpha-.jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibplexus-quartz-.-alpha-.jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibplexus-registry-commons-.-alpha-.jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibplexus-velocity-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibplexus-xwork-integration-.-alpha-.jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibredback-authentication-api-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibredback-authentication-keys-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibredback-authentication-ldap-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibredback-authentication-users-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibredback-authorization-rbac-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibredback-common-jdo-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibredback-common-ldap-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibredback-configuration-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibredback-keys-cached-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibredback-keys-jdo-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibredback-policy-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibredback-rbac-cached-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibredback-rbac-jdo-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibredback-rbac-role-manager-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibredback-system-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibredback-users-cached-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibredback-users-configurable-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibredback-users-jdo-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibredback-users-ldap-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibredback-xwork-integration-...jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean environmentCheckrequired-roles replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean userSecurityPolicy replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean jdoFactoryusers replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibwagon-file-.-beta-.jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibwagon-http-lightweight-.-beta-.jar!META-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibarchiva-policies-...jar!META-INFspring-context.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibarchiva-proxy-...jar!META-INFspring-context.xml
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from ServletContext resource WEB-INFclassesMETA-INFplexusapplication.xml
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean registrycommons-configuration replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean mailSender replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean jdoFactoryusers replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean environmentChecklocked-admin-check replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from ServletContext resource WEB-INFclassesMETA-INFplexuscomponents.xml
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actioneditOrganisationInfo replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actionorganisationInfo replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actionaddProxyConnectorAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actiondeleteProxyConnectorAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actioneditProxyConnectorAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actionproxyConnectorsAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actionsortProxyConnectorsAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actiondatabaseAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actionaddLegacyArtifactPathAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actiondeleteLegacyArtifactPathAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actionlegacyArtifactPathAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actionconfigureNetworkProxyAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actionnetworkProxiesAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actionaddManagedRepositoryAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actionaddRemoteRepositoryAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actiondeleteManagedRepositoryAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actiondeleteRemoteRepositoryAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actiondeleteRepositoryGroupAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actioneditManagedRepositoryAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actioneditRemoteRepositoryAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actionrepositoriesAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actionrepositoryGroupsAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actionsortRepositoriesAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actionrepositoryScanningAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actionschedulerAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actionbrowseAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actiongenerateReport replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actionsearchAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actionshowArtifactAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean actionuploadAction replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean interceptorconfigurationInterceptor replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean resolverFactoryInit replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean securitySynchronization replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean dependencyTree replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean componentdownload-artifact replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull
 dc.   org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO Loading XML bean definitions from ServletContext resource WEB-INFapplicationContext.xml
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean loggerManager replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.codehaus.plexus.logging.slfj.SlfjLoggerManager; scopesingleton; abstractfalse; lazyInitfalse; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNameinitialize; destroyMethodNamenull; defined in ServletContext resource WEB-INFapplicationContext.xml
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean urlFailureCache replacing Generic bean class org.apache.maven.archiva.policies.urlcache.DefaultUrlFailureCache; scopesingleton; abstractfalse; lazyInitfalse; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull; defined in URL jarfilehomearchivatomcatwebappsarchivaWEB-INFlibarchiva-policies-...jar!META-INFspring-context.xml with Generic bean class org.apache.maven.archiva.policies.urlcache.DefaultUrlFailureCache; scopesingleton; abstractfalse; lazyInitfalse; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull; defined in ServletContext resource WEB-INFapplicationContext.xml
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean wagonhttp replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.apache.maven.wagon.providers.http.LightweightHttpWagon; scopeprototype; abstractfalse; lazyInitfalse; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull; defined in ServletContext resource WEB-INFapplicationContext.xml
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean wagon replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.apache.maven.wagon.providers.http.LightweightHttpsWagon; scopeprototype; abstractfalse; lazyInitfalse; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull; defined in ServletContext resource WEB-INFapplicationContext.xml
 dc.   org.springframework.context.support.AbstractApplicationContext obtainFreshBeanFactory
INFO Bean factory for application context org.codehaus.plexus.spring.PlexusWebApplicationContext@cc org.springframework.beans.factory.support.DefaultListableBeanFactory@aa
 dc.   org.springframework.core.io.support.PropertiesLoaderSupport loadProperties
INFO Loading properties file from class path resource application.properties
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletons
INFO Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@aa defining beans actioneditOrganisationInfo,actionorganisationInfo,actionaddProxyConnectorAction,actiondeleteProxyConnectorAction,actioneditProxyConnectorAction,actionproxyConnectorsAction,actionsortProxyConnectorsAction,actiondatabaseAction,actionaddLegacyArtifactPathAction,actiondeleteLegacyArtifactPathAction,actionlegacyArtifactPathAction,actionconfigureNetworkProxyAction,actionnetworkProxiesAction,actionaddManagedRepositoryAction,actionaddRemoteRepositoryAction,actiondeleteManagedRepositoryAction,actiondeleteRemoteRepositoryAction,actiondeleteRepositoryGroupAction,actioneditManagedRepositoryAction,actioneditRemoteRepositoryAction,actionrepositoriesAction,actionrepositoryGroupsAction,actionsortRepositoriesAction,actionrepositoryScanningAction,actionschedulerAction,actionbrowseAction,actiongenerateReport,actionsearchAction,actionshowArtifactAction,actionuploadAction,interceptorconfigurationInterceptor,resolverFactoryInit,securitySynchronization,dependencyTree,componentdownload-artifact,dynamicReportSourceduplicate-artifacts,archivaArtifactConsumerduplicate-artifacts,archivaArtifactConsumervalidate-artifacts-location,dynamicReportSourceartifact-location,dynamicReportSourceold-artifacts,dynamicReportSourceold-snapshots,archivaConfiguration,fileTypes,knownRepositoryContentConsumercreate-missing-checksums,knownRepositoryContentConsumerauto-remove,knownRepositoryContentConsumerauto-rename,knownRepositoryContentConsumermetadata-updater,knownRepositoryContentConsumerrepository-purge,knownRepositoryContentConsumervalidate-checksum,repositoryBrowsing,jdoAccessarchiva,archivaDAOjdo,artifactDAOjdo,projectModelDAOjdo,repositoryContentStatisticsDAOjdo,repositoryProblemDAOjdo,projectModelResolverdatabase,projectModelResolutionListenermodel-to-db,databaseConsumers,databaseUpdaterjdo,knownRepositoryContentConsumerupdate-db-artifact,databaseUnprocessedArtifactConsumerupdate-db-bytecode-stats,databaseCleanupConsumernot-present-remove-db-artifact,databaseCleanupConsumernot-present-remove-db-project,databaseUnprocessedArtifactConsumerupdate-db-project,databaseUnprocessedArtifactConsumervalidate-repository-metadata,transformerbytecode,transformerfilecontent,transformerhashcodes,transformersearchable,repositoryContentIndexFactorylucene,crossRepositorySearch,databaseUnprocessedArtifactConsumerindex-archive-toc,databaseUnprocessedArtifactConsumerindex-artifact,knownRepositoryContentConsumerindex-content,databaseUnprocessedArtifactConsumerindex-public-methods,databaseCleanupConsumernot-present-remove-indexed,preDownloadPolicycache-failures,postDownloadPolicychecksum,downloadErrorPolicypropagate-errors,downloadErrorPolicypropagate-errors-on-update,preDownloadPolicyreleases,preDownloadPolicysnapshots,cacheurl-failures-cache,repositoryProxyConnectors,reportingManager,auditListenerlogging,pathParserlegacy,managedRepositoryContent,managedRepositoryContentlegacy,remoteRepositoryContent,remoteRepositoryContentlegacy,repositoryRequest,metadataTools,dependencyGraphBuilderproject-model,projectModelFiltereffective,projectModelFilterexpression,projectModelResolverFactory,repositoryContentFactory,repositoryScanner,repositoryContentConsumers,cacheeffective-project-cache,rssFeedProcessornew-artifacts,rssFeedProcessornew-versions,rssFeedGenerator,archivaTaskScheduler,taskExecutordatabase-update,taskExecutorrepository-scanning,taskQueuedatabase-update,taskQueueExecutordatabase-update,taskQueuerepository-scanning,taskQueueExecutorrepository-scanning,servletAuthenticator,environmentCheckrequired-roles,archivaXworkUser,userRepositories,securityStartup,archivaDavResourceFactory,mimeTypes,cacheBuilder,cacheehcache,checksumFile,digestersha,streamingDigestersha,streamingDigestermd,digestermd,ehcacheComponentdisk,ehcacheComponentmemory,expressionSourceproperties,expressionSourcesysprops,expressionEvaluator,mailSender,scheduler,registrycommons-configuration,velocityComponent,interceptorexceptionLogging,interceptorexceptionInterceptor,interceptorhttpRequestTrackerInterceptor,interceptorplexusReleaseComponentInterceptor,actionInvocationTrackersimple,authenticationManager,authenticationDataSourcepassword,authenticationDataSourcetoken,authenticatorkeystore,authenticatorldap,authenticatoruser-manager,permissionEvaluator,authorizerrbac,jdoFactoryusers,ldapConnectionFactoryconfigurable,userMapperldap,userConfiguration,keyManagercached,ehcacheComponentkeys,keyManagerjdo,authenticationKeyjdo,userSecurityPolicy,userValidationSettings,passwordEncoderplaintext,passwordEncodersha,passwordEncodersha,cookieSettingsrememberMe,passwordRulealpha-numeric,passwordRulealpha-count,passwordRulecharacter-length,passwordRulemust-have,passwordRulenumerical-count,passwordRulereuse,passwordRuleno-whitespaces,cookieSettingssignon,rBACManagercached,ehcacheComponentoperations,ehcacheComponentpermissions,ehcacheComponentresources,ehcacheComponentroles,ehcacheComponenteffectiveRoleSet,ehcacheComponentuserAssignments,ehcacheComponentuserPermissions,rBACManagerjdo,jdoTool,roleManager,roleModelProcessor,roleTemplateProcessor,roleModelValidator,securitySystem,userManagercached,ehcacheComponentusers,userManagerconfigurable,userManagerjdo,userjdo,ldapController,userManagerldap,actionredback-account,actionredback-admin-account,actionredback-admin-console,actionredback-assignments,actionredback-role-edit,actionredback-operations,actionredback-permissions,actionredback-report,actionredback-resources,actionredback-role-create,actionredback-role-model,actionredback-roles,actionredback-sysinfo,actionredback-admin-user-create,actionredback-admin-user-delete,actionredback-admin-user-edit,actionredback-admin-user-list,actionredback-login,actionredback-logout,actionredback-password,actionredback-password-reset,actionredback-register,actionredback-redirect,environmentCheckExpectedJsps,environmentCheckExpectedStandardWebXworkActions,environmentCheckguest-user-check,environmentChecklocked-admin-check,httpAuthenticatorbasic,httpAuthenticatordigest,httpClientHeader,interceptorredbackAutoLoginInterceptor,interceptorredbackEnvironmentCheckInterceptor,interceptorredbackForceAdminUserInterceptor,interceptorredbackPolicyEnforcementInterceptor,interceptorredbackSecureActionInterceptor,mailer,mailGeneratorvelocity,reportrolesmatrix-csv,reportuserlist-csv,reportManager,resultsecurityExternalResult,autoLoginCookies,wagonfile,wagonhttp,wagon,urlFailureCache,wagonFactory,jdoFactoryarchiva,loggerManager,propertyPlaceholder; root of factory hierarchy
 dc.   net.sf.ehcache.config.ConfigurationFactory parseConfiguration
WARNING No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath jarfilehomearchivatomcatwebappsarchivaWEB-INFlibehcache-...jar!ehcache-failsafe.xml
 dc.   org.springframework.web.context.ContextLoader initWebApplicationContext
INFO Root WebApplicationContext initialization completed in  ms
 dc.   org.apache.catalina.core.StandardContext start
SEVERE Error listenerStart
 dc.   org.apache.catalina.core.StandardContext start
SEVERE Erreur de dmarrage du contexte archiva suite aux erreurs prcdentes

When using a Sun SDK ., it seems to works 

INFO Overriding bean definition for bean wagonhttp replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.apache.maven.wagon.providers.http.LightweightHttpWagon; scopeprototype; abstractfalse; lazyInitfalse; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull; defined in ServletContext resource WEB-INFapplicationContext.xml
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO Overriding bean definition for bean wagon replacing Generic bean class org.codehaus.plexus.spring.PlexusComponentFactoryBean; scopesingleton; abstractfalse; lazyInittrue; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull with Generic bean class org.apache.maven.wagon.providers.http.LightweightHttpsWagon; scopeprototype; abstractfalse; lazyInitfalse; autowireCandidatetrue; autowireMode; dependencyCheck; factoryBeanNamenull; factoryMethodNamenull; initMethodNamenull; destroyMethodNamenull; defined in ServletContext resource WEB-INFapplicationContext.xml
 dc.   org.springframework.context.support.AbstractApplicationContext obtainFreshBeanFactory
INFO Bean factory for application context org.codehaus.plexus.spring.PlexusWebApplicationContext@cdb org.springframework.beans.factory.support.DefaultListableBeanFactory@ea
 dc.   org.springframework.core.io.support.PropertiesLoaderSupport loadProperties
INFO Loading properties file from class path resource application.properties
 dc.   org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletons
INFO Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@ea defining beans actioneditOrganisationInfo,actionorganisationInfo,actionaddProxyConnectorAction,actiondeleteProxyConnectorAction,actioneditProxyConnectorAction,actionproxyConnectorsAction,actionsortProxyConnectorsAction,actiondatabaseAction,actionaddLegacyArtifactPathAction,actiondeleteLegacyArtifactPathAction,actionlegacyArtifactPathAction,actionconfigureNetworkProxyAction,actionnetworkProxiesAction,actionaddManagedRepositoryAction,actionaddRemoteRepositoryAction,actiondeleteManagedRepositoryAction,actiondeleteRemoteRepositoryAction,actiondeleteRepositoryGroupAction,actioneditManagedRepositoryAction,actioneditRemoteRepositoryAction,actionrepositoriesAction,actionrepositoryGroupsAction,actionsortRepositoriesAction,actionrepositoryScanningAction,actionschedulerAction,actionbrowseAction,actiongenerateReport,actionsearchAction,actionshowArtifactAction,actionuploadAction,interceptorconfigurationInterceptor,resolverFactoryInit,securitySynchronization,dependencyTree,componentdownload-artifact,dynamicReportSourceduplicate-artifacts,archivaArtifactConsumerduplicate-artifacts,archivaArtifactConsumervalidate-artifacts-location,dynamicReportSourceartifact-location,dynamicReportSourceold-artifacts,dynamicReportSourceold-snapshots,archivaConfiguration,fileTypes,knownRepositoryContentConsumercreate-missing-checksums,knownRepositoryContentConsumerauto-remove,knownRepositoryContentConsumerauto-rename,knownRepositoryContentConsumermetadata-updater,knownRepositoryContentConsumerrepository-purge,knownRepositoryContentConsumervalidate-checksum,repositoryBrowsing,jdoAccessarchiva,archivaDAOjdo,artifactDAOjdo,projectModelDAOjdo,repositoryContentStatisticsDAOjdo,repositoryProblemDAOjdo,projectModelResolverdatabase,projectModelResolutionListenermodel-to-db,databaseConsumers,databaseUpdaterjdo,knownRepositoryContentConsumerupdate-db-artifact,databaseUnprocessedArtifactConsumerupdate-db-bytecode-stats,databaseCleanupConsumernot-present-remove-db-artifact,databaseCleanupConsumernot-present-remove-db-project,databaseUnprocessedArtifactConsumerupdate-db-project,databaseUnprocessedArtifactConsumervalidate-repository-metadata,transformerbytecode,transformerfilecontent,transformerhashcodes,transformersearchable,repositoryContentIndexFactorylucene,crossRepositorySearch,databaseUnprocessedArtifactConsumerindex-archive-toc,databaseUnprocessedArtifactConsumerindex-artifact,knownRepositoryContentConsumerindex-content,databaseUnprocessedArtifactConsumerindex-public-methods,databaseCleanupConsumernot-present-remove-indexed,preDownloadPolicycache-failures,postDownloadPolicychecksum,downloadErrorPolicypropagate-errors,downloadErrorPolicypropagate-errors-on-update,preDownloadPolicyreleases,preDownloadPolicysnapshots,cacheurl-failures-cache,repositoryProxyConnectors,reportingManager,auditListenerlogging,pathParserlegacy,managedRepositoryContent,managedRepositoryContentlegacy,remoteRepositoryContent,remoteRepositoryContentlegacy,repositoryRequest,metadataTools,dependencyGraphBuilderproject-model,projectModelFiltereffective,projectModelFilterexpression,projectModelResolverFactory,repositoryContentFactory,repositoryScanner,repositoryContentConsumers,cacheeffective-project-cache,rssFeedProcessornew-artifacts,rssFeedProcessornew-versions,rssFeedGenerator,archivaTaskScheduler,taskExecutordatabase-update,taskExecutorrepository-scanning,taskQueuedatabase-update,taskQueueExecutordatabase-update,taskQueuerepository-scanning,taskQueueExecutorrepository-scanning,servletAuthenticator,environmentCheckrequired-roles,archivaXworkUser,userRepositories,securityStartup,archivaDavResourceFactory,mimeTypes,cacheBuilder,cacheehcache,checksumFile,digestersha,streamingDigestersha,streamingDigestermd,digestermd,ehcacheComponentdisk,ehcacheComponentmemory,expressionSourceproperties,expressionSourcesysprops,expressionEvaluator,mailSender,scheduler,registrycommons-configuration,velocityComponent,interceptorexceptionLogging,interceptorexceptionInterceptor,interceptorhttpRequestTrackerInterceptor,interceptorplexusReleaseComponentInterceptor,actionInvocationTrackersimple,authenticationManager,authenticationDataSourcepassword,authenticationDataSourcetoken,authenticatorkeystore,authenticatorldap,authenticatoruser-manager,permissionEvaluator,authorizerrbac,jdoFactoryusers,ldapConnectionFactoryconfigurable,userMapperldap,userConfiguration,keyManagercached,ehcacheComponentkeys,keyManagerjdo,authenticationKeyjdo,userSecurityPolicy,userValidationSettings,passwordEncoderplaintext,passwordEncodersha,passwordEncodersha,cookieSettingsrememberMe,passwordRulealpha-numeric,passwordRulealpha-count,passwordRulecharacter-length,passwordRulemust-have,passwordRulenumerical-count,passwordRulereuse,passwordRuleno-whitespaces,cookieSettingssignon,rBACManagercached,ehcacheComponentoperations,ehcacheComponentpermissions,ehcacheComponentresources,ehcacheComponentroles,ehcacheComponenteffectiveRoleSet,ehcacheComponentuserAssignments,ehcacheComponentuserPermissions,rBACManagerjdo,jdoTool,roleManager,roleModelProcessor,roleTemplateProcessor,roleModelValidator,securitySystem,userManagercached,ehcacheComponentusers,userManagerconfigurable,userManagerjdo,userjdo,ldapController,userManagerldap,actionredback-account,actionredback-admin-account,actionredback-admin-console,actionredback-assignments,actionredback-role-edit,actionredback-operations,actionredback-permissions,actionredback-report,actionredback-resources,actionredback-role-create,actionredback-role-model,actionredback-roles,actionredback-sysinfo,actionredback-admin-user-create,actionredback-admin-user-delete,actionredback-admin-user-edit,actionredback-admin-user-list,actionredback-login,actionredback-logout,actionredback-password,actionredback-password-reset,actionredback-register,actionredback-redirect,environmentCheckExpectedJsps,environmentCheckExpectedStandardWebXworkActions,environmentCheckguest-user-check,environmentChecklocked-admin-check,httpAuthenticatorbasic,httpAuthenticatordigest,httpClientHeader,interceptorredbackAutoLoginInterceptor,interceptorredbackEnvironmentCheckInterceptor,interceptorredbackForceAdminUserInterceptor,interceptorredbackPolicyEnforcementInterceptor,interceptorredbackSecureActionInterceptor,mailer,mailGeneratorvelocity,reportrolesmatrix-csv,reportuserlist-csv,reportManager,resultsecurityExternalResult,autoLoginCookies,wagonfile,wagonhttp,wagon,urlFailureCache,wagonFactory,jdoFactoryarchiva,loggerManager,propertyPlaceholder; root of factory hierarchy
 dc.   net.sf.ehcache.config.ConfigurationFactory parseConfiguration
ATTENTION No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath jarfilehomearchivatomcatwebappsarchivaWEB-INFlibehcache-...jar!ehcache-failsafe.xml
 dc.   org.springframework.web.context.ContextLoader initWebApplicationContext
INFO Root WebApplicationContext initialization completed in  ms
 dc.   org.quartz.simpl.RAMJobStore initialize
INFO RAMJobStore initialized.
 dc.   org.quartz.impl.StdSchedulerFactory instantiate
INFO Quartz scheduler defaultScheduler initialized from an externally provided properties instance.
 dc.   org.quartz.impl.StdSchedulerFactory instantiate
INFO Quartz scheduler version ..
 dc.   org.quartz.core.QuartzScheduler start
INFO Scheduler defaultScheduler_$_NON_CLUSTERED started.
 dc.   com.opensymphony.webwork.config.DefaultConfiguration init
INFO Loading global messages from org.codehaus.plexus.redback.xwork.default
 dc.   com.opensymphony.webwork.config.DefaultConfiguration init
INFO Loading global messages from org.apache.maven.archiva.redback.custom
 dc.   com.opensymphony.webwork.spring.WebWorkSpringObjectFactory init
INFO Initializing WebWork-Spring integration...
 dc.   com.opensymphony.xwork.spring.SpringObjectFactory setAutowireStrategy
INFO Setting autowire strategy to name
 dc.   com.opensymphony.webwork.spring.WebWorkSpringObjectFactory init
INFO ... initialized WebWork-Spring integration successfully
 dc.   org.apache.coyote.http.HttpAprProtocol start
INFO Dmarrage de Coyote HTTP. sur http-
 dc.   org.apache.coyote.ajp.AjpAprProtocol start
INFO Starting Coyote AJP. on ajp-
 dc.   org.apache.catalina.startup.Catalina start
INFO Server startup in  ms
 dc.   com.opensymphony.webwork.views.freemarker.FreemarkerManager getInstance
INFO Instantiating Freemarker ConfigManager!, com.opensymphony.webwork.views.freemarker.FreemarkerManager

How could I locate the problem with the IBM JDK 

We plan to deploy Archiva on AIX ou iOS systems where only IBM JDK will be available, so this Sun restriction is a very serious show stopper.
",Bug
"Error  when accessing repository url HTTP ERROR 

INTERNAL_SERVER_ERROR

RequestURIarchivarepositorysample
Caused by

java.lang.NullPointerException
	at org.codehaus.redback.integration.filter.authentication.HttpAuthenticator.authenticateHttpAuthenticator.java
	at org.codehaus.redback.integration.filter.authentication.basic.HttpBasicAuthentication.getAuthenticationResultHttpBasicAuthentication.java
	at org.apache.maven.archiva.webdav.ArchivaDavSessionProvider.attachSessionArchivaDavSessionProvider.java
	at org.apache.maven.archiva.webdav.RepositoryServlet.serviceRepositoryServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.mortbay.jetty.Server.handleServer.java
	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
	at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
	at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
	at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
	at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java


Looks like this is caused by the upgrade to Redback .-beta-. This doesnt occur in the Archiva .-M release.",Bug
"Fix the crazy alpaca on Windows The banner message with the cute alpaca in it contains hard-coded Unix line ends, which deprives many Windows users of the pleasure of seeing him each time Archiva starts. The attached patch fixes that so that everyone can see him in all his glory. The patch also fixes a typo in the message possessive should be plural.

Patch attached.",Bug
"Browse artifact error does not show correct error message Any problem that occurs on artifact browse is reported as ""Unable to find project model for blah"" instead of the real error message ""Unable to find artifact blah for in observable repository for current user"".",Bug
"quicksearch should not NPE without completeQueryString httpvmbuild.apache.orgarchivaquickSearch.actionqbytecodeALogFactory

java.lang.NullPointerException
	at org.apache.maven.archiva.web.action.SearchAction.isEqualToPreviousSearchTermSearchAction.java
	at org.apache.maven.archiva.web.action.SearchAction.quickSearchSearchAction.java
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	at java.lang.reflect.Method.invokeMethod.java

",Bug
Allow for easier database upgrade See httpwww.nabble.com-VOTE--Release-Archiva-.-M-tt.htmla for more details.,Improvement
"Archiva keeps scanning repositories, even if scanning disabled in the web UI Archiva logs show 

{noformat}
-- , pool--thread- INFO  org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor  - Finished repository task 
. Scan of internal .__________________________________________
  Repository Dir     homearchivatrunkarchiva-modulesarchiva-webarchiva-webappappserver-basedatarepositoriesinternal
  Repository Name    Archiva Managed Internal Repository
  Repository Layout  default
  Known Consumers     configured
                      metadata-updater
                      auto-remove
                      auto-rename
                      update-db-artifact
                      create-missing-checksums
                      index-content
  Invalid Consumers  none
  Duration            Milliseconds
  When Gathered        PM
  Total File Count   
  Avg Time Per File   Milliseconds
{noformat} 

Even though scanning is disabled for that particular repository in the web UI.
Even after Archiva restart, the problem persists.",Bug
"Upload artifact should be able to retrieve informtion from uploaded POM The Upload Artifact forces the user to enter a Group ID, Artifact ID, etc., even when a POM file is uploaded along with the artifact. It would be nice to have a feature for example a checkbox use POM information which would allow the POM information to be used when uploading an artifact and POM.",Improvement
Search and Destroy artifacts according to originating remote proxy It would be helpful to query artifacts based on the sourceoriginating remote proxy. It would also be helpful if the associated artifacts could be deleted. ,New_Feature
"Database corrupt on restart I installed the WAR distribution of .-M on a tomcat  instance.

It starts up fine, but when tomcat is restarted archive can no longer access the derby database.
This may be caused by a crash Archive seemed to stop responding and failed on restart

Here is what looks like the important part of the stack trace

Caused by java.sql.SQLException Failed to start database varemineoarchivausers, see the next exception for details.
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLExceptionUnknown Source
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.wrapArgsForTransportAcrossDRDAUnknown Source
	...  more
Caused by java.sql.SQLException Another instance of Derby may have already booted the database varemineoarchivausers.
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLExceptionUnknown Source
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.wrapArgsForTransportAcrossDRDAUnknown Source
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLExceptionUnknown Source
	at org.apache.derby.impl.jdbc.Util.generateCsSQLExceptionUnknown Source
	...  more
Caused by ERROR XSDB Another instance of Derby may have already booted the database varemineoarchivausers.
	at org.apache.derby.iapi.error.StandardException.newExceptionUnknown Source
	at org.apache.derby.impl.store.raw.data.BaseDataFileFactory.privGetJBMSLockOnDBUnknown Source
	at org.apache.derby.impl.store.raw.data.BaseDataFileFactory.runUnknown Source
	at java.security.AccessController.doPrivilegedNative Method
	at org.apache.derby.impl.store.raw.data.BaseDataFileFactory.getJBMSLockOnDBUnknown Source
	at org.apache.derby.impl.store.raw.data.BaseDataFileFactory.bootUnknown Source
",Bug
Exception trying to change Passwort trying to change the passwort results in exception as shown in ghe screenshot,Bug
"Oracle DB Support Can there be consideration to use Oracle as DB provider for Archiva  This is our standard to ease adoption of this tool across the enterprise.  Also, it would be much easier to configure a multi-node environment instead of using Derby.",New_Feature
"Updated Archiva User Guide UpdatedAdded the following sections

 Browsing
 Deploying an Artifact
 Identifying an Artifact
 Deleting an Artifact",Improvement
"RepositoryServlet tests fail intermittently on Windows The repository servlet tests e.g. RepositoryServletProxiedRelocatedTest fail on Windows due to a bug in a Maven class MavenXppReader that Archiva is using. The bug is that MavenXppReader does not close the Reader after reading the content of a POM. Thus the file is left open until the MavenXppReader instance is garbage collected. Since the garbage collector is run whenever the JVM feels like it, the problem is intermittent rather than being consistent.

Although the root of the problem is with Mavens MavenXppReader class, there is a simple workaround that can be applied to the Archiva code. That is to close the reader explicitly, after the POM content has been read. This will not cause a problem when the Maven bug is fixed, since closing an already-closed Reader is a no-op.

Patch attached.",Bug
"AdministrationServiceImplTest fails on Windows The AdministrationServiceImplTest fails on Windows due to path separator issues. When test data is recorded into the legacy repo, a Unix path separator is hard-coded into the data. This later fails to match a native file system path in matchesArtifactPattern, causing the test itself to fail.

The fix is to create the test data using the system path separator File.separator instead of hard-coding it. Patch attached.",Bug
"HTTP ERROR , No bean named wagon  file is defined I am migrating archiva to .. but one of the libraries gets the following error. I cannot see anything wrong with the xml and grep ""file""  returns nothing for this directory.

HTTP ERROR 

No bean named wagon 	file is defined

RequestURIarchivarepositorysnapshotscommycommylib.-SNAPSHOTmaven-metadata.xml
Caused by

org.springframework.beans.factory.NoSuchBeanDefinitionException No bean named wagon 	file is defined
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinitionDefaultListableBeanFactory.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinitionAbstractBeanFactory.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
	at org.springframework.beans.factory.config.ServiceLocatorFactoryBean$ServiceLocatorInvocationHandler.invokeServiceLocatorMethodServiceLocatorFactoryBean.java
	at org.springframework.beans.factory.config.ServiceLocatorFactoryBean$ServiceLocatorInvocationHandler.invokeServiceLocatorFactoryBean.java
	at $Proxy.getWagonUnknown Source
	at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFileDefaultRepositoryProxyConnectors.java
	at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxiesDefaultRepositoryProxyConnectors.java
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchMetadataFromProxiesArchivaDavResourceFactory.java
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxiesArchivaDavResourceFactory.java
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.doGetArchivaDavResourceFactory.java
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResourceArchivaDavResourceFactory.java
	at org.apache.maven.archiva.webdav.RepositoryServlet.serviceRepositoryServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.mortbay.jetty.Server.handleServer.java
	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
	at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
	at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
	at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
	at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java

Powered by Jetty",Bug
"Archiva problem with SQL schemas After a system restart, the Archiva .. system didnt works anymore on our Linux box. It consumes up to  CPU without any visible system activity.

We decided to switch from the previous derby DB to Mysql.

I set MySQL like this in context.xml 

...

  Resource name""jdbcusers""
            auth""Container""
            type""javax.sql.DataSource""
            username""archiva""
            password""somepwd""
            driverClassName""com.mysql.jdbc.Driver""
            url""jdbcmysqllocalhostarchiva-usersautoReconnecttrue""

  Resource name""jdbcarchiva""
            auth""Container""
            type""javax.sql.DataSource""
            username""archiva""
            password""somepwd""
            driverClassName""com.mysql.jdbc.Driver""
            url""jdbcmysqllocalhostarchivaautoReconnecttrue""

...

Created the archiva database on the local mysql DB, created archiva user and grant it access to archiva DB.

Archiva .. created the table at startup time and seems to start.

I created the admin user, but after trying to create another user, archiva is stuck with SQL schema 

ATTENTION Caught OgnlException while setting property principal on type com.opensymphony.webwork.dispatcher.ServletActionRedirectResult.
ognl.NoSuchPropertyException com.opensymphony.webwork.dispatcher.ServletActionRedirectResult.principal
        at ognl.ObjectPropertyAccessor.setPropertyObjectPropertyAccessor.java
        at com.opensymphony.xwork.util.OgnlValueStack$ObjectAccessor.setPropertyOgnlValueStack.java
        at ognl.OgnlRuntime.setPropertyOgnlRuntime.java
        at ognl.ASTProperty.setValueBodyASTProperty.java
        at ognl.SimpleNode.evaluateSetValueBodySimpleNode.java
        at ognl.SimpleNode.setValueSimpleNode.java
        at ognl.Ognl.setValueOgnl.java
        at com.opensymphony.xwork.util.OgnlUtil.setValueOgnlUtil.java
        at com.opensymphony.xwork.util.OgnlUtil.internalSetPropertyOgnlUtil.java
        at com.opensymphony.xwork.util.OgnlUtil.setPropertiesOgnlUtil.java
        at com.opensymphony.xwork.util.OgnlUtil.setPropertiesOgnlUtil.java
        at com.opensymphony.xwork.ObjectFactory.buildResultObjectFactory.java
        at com.opensymphony.xwork.DefaultActionInvocation.createResultDefaultActionInvocation.java
        at com.opensymphony.xwork.DefaultActionInvocation.executeResultDefaultActionInvocation.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.EnvironmentCheckInterceptor.interceptEnvironmentCheckInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java

org.codehaus.plexus.redback.rbac.RbacObjectNotFoundException Unable to find RBAC Object userone of type org.codehaus.plexus.redback.rbac.jdo.JdoUserAssignment using fetch-group null
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getObjectByIdJdoTool.java
        at org.codehaus.plexus.redback.rbac.jdo.JdoRbacManager.getUserAssignmentJdoRbacManager.java
        at org.codehaus.plexus.redback.rbac.AbstractRBACManager.getAssignedRolesAbstractRBACManager.java
        at org.codehaus.plexus.redback.rbac.cached.CachedRbacManager.getAssignedRolesCachedRbacManager.java
        at org.codehaus.plexus.redback.xwork.action.admin.AssignmentsAction.showAssignmentsAction.java
        at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
        at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
        at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
        at java.lang.reflect.Method.invokeMethod.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.EnvironmentCheckInterceptor.interceptEnvironmentCheckInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.webwork.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java

Caused by javax.jdo.JDOObjectNotFoundException No such database row
FailedObjectuserone
        at org.jpox.store.rdbms.request.FetchRequest.executeFetchRequest.java
        at org.jpox.store.rdbms.table.ClassTable.fetchClassTable.java
        at org.jpox.store.StoreManager.fetchStoreManager.java
        at org.jpox.state.StateManagerImpl.loadFieldsInFetchPlanStateManagerImpl.java
        at org.jpox.state.StateManagerImpl.validateStateManagerImpl.java
        at org.jpox.AbstractPersistenceManager.getObjectByIdAbstractPersistenceManager.java
        at org.jpox.AbstractPersistenceManager.getObjectByIdAbstractPersistenceManager.java
        at org.jpox.AbstractPersistenceManager.getObjectByIdAbstractPersistenceManager.java
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getObjectByIdJdoTool.java
        ...  more
org.codehaus.plexus.redback.rbac.RbacObjectNotFoundException Unable to find RBAC Object userone of type org.codehaus.plexus.redback.rbac.jdo.JdoUserAssignment using fetch-group null
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getObjectByIdJdoTool.java
        at org.codehaus.plexus.redback.rbac.jdo.JdoRbacManager.getUserAssignmentJdoRbacManager.java
        at org.codehaus.plexus.redback.rbac.AbstractRBACManager.getAssignedRolesAbstractRBACManager.java
        at org.codehaus.plexus.redback.rbac.cached.CachedRbacManager.getAssignedRolesCachedRbacManager.java
        at org.codehaus.plexus.redback.xwork.action.admin.AssignmentsAction.showAssignmentsAction.java
        at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
        at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
        at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
        at java.lang.reflect.Method.invokeMethod.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.EnvironmentCheckInterceptor.interceptEnvironmentCheckInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.webwork.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java

Caused by javax.jdo.JDOObjectNotFoundException No such database row
FailedObjectuserone
        at org.jpox.store.rdbms.request.FetchRequest.executeFetchRequest.java
        at org.jpox.store.rdbms.table.ClassTable.fetchClassTable.java
        at org.jpox.store.StoreManager.fetchStoreManager.java
        at org.jpox.state.StateManagerImpl.loadFieldsInFetchPlanStateManagerImpl.java
        at org.jpox.state.StateManagerImpl.validateStateManagerImpl.java
        at org.jpox.AbstractPersistenceManager.getObjectByIdAbstractPersistenceManager.java
        at org.jpox.AbstractPersistenceManager.getObjectByIdAbstractPersistenceManager.java
        at org.jpox.AbstractPersistenceManager.getObjectByIdAbstractPersistenceManager.java
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getObjectByIdJdoTool.java
        ...  more

I had to restart the tomcat hosting archiva.

After restart I see in Archiva log 

-- , main ERROR JPOX.RDBMS  - An exception was thrown while addingvalidating classes  You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near -users.`SECURITY_USERASSIGNMENT_ROLENAMES` ADD CONSTRAINT `SECURITY_USERASSIGNME at line 
com.mysql.jdbc.exceptions.jdbc.MySQLSyntaxErrorException You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near -users.`SECURITY_USERASSIGNMENT_ROLENAMES` ADD CONSTRAINT `SECURITY_USERASSIGNME at line 
        at sun.reflect.NativeConstructorAccessorImpl.newInstanceNative Method
        at sun.reflect.NativeConstructorAccessorImpl.newInstanceNativeConstructorAccessorImpl.java
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstanceDelegatingConstructorAccessorImpl.java
        at java.lang.reflect.Constructor.newInstanceConstructor.java
        at com.mysql.jdbc.Util.handleNewInstanceUtil.java
        at com.mysql.jdbc.Util.getInstanceUtil.java
        at com.mysql.jdbc.SQLError.createSQLExceptionSQLError.java
        at com.mysql.jdbc.SQLError.createSQLExceptionSQLError.java
        at com.mysql.jdbc.MysqlIO.checkErrorPacketMysqlIO.java
        at com.mysql.jdbc.MysqlIO.checkErrorPacketMysqlIO.java
        at com.mysql.jdbc.MysqlIO.sendCommandMysqlIO.java
        at com.mysql.jdbc.MysqlIO.sqlQueryDirectMysqlIO.java
        at com.mysql.jdbc.ConnectionImpl.execSQLConnectionImpl.java
        at com.mysql.jdbc.ConnectionImpl.execSQLConnectionImpl.java
        at com.mysql.jdbc.StatementImpl.executeStatementImpl.java
        at org.apache.tomcat.dbcp.dbcp.DelegatingStatement.executeDelegatingStatement.java
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementAbstractTable.java
        at org.jpox.store.rdbms.table.TableImpl.validateForeignKeysTableImpl.java
        at org.jpox.store.rdbms.table.TableImpl.validateConstraintsTableImpl.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidationRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidateRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.runRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.executeRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager.addClassesRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager.addClassRDBMSManager.java

",Bug
"Minor usability enhancement for the web app footer Each page of the web app has a footer with links to the Archiva web site and to the main ASF web site. Its a little annoying that these targets come up in the same browser window  tab as the Archiva app itself, rendering the app inaccessible unless and until the user hits the back button. The attached patch causes these links to open their targets in a new browser window  tab instead.

Also, for the link to the main ASF web site, only the text ""The Apache Software Foundation"" is linked rather than the entire copyright notice.

Patch attached.",Improvement
"CLONE -Failing to startup due to invalid bean definition After doing a war install, running Tomcat yields the following exception

org.springframework.beans.factory.BeanDefinitionStoreException Invalid bean definition with name archivaConfiguration defined in null Could not resolve placeholder appserver.base
	at org.springframework.beans.factory.config.PropertyPlaceholderConfigurer.processPropertiesPropertyPlaceholderConfigurer.java
	at org.springframework.beans.factory.config.PropertyResourceConfigurer.postProcessBeanFactoryPropertyResourceConfigurer.java
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessorsAbstractApplicationContext.java
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessorsAbstractApplicationContext.java
	at org.springframework.context.support.AbstractApplicationContext.refreshAbstractApplicationContext.java
	at org.springframework.web.context.ContextLoader.createWebApplicationContextContextLoader.java
	at org.springframework.web.context.ContextLoader.initWebApplicationContextContextLoader.java
	at org.springframework.web.context.ContextLoaderListener.contextInitializedContextLoaderListener.java
	at org.apache.catalina.core.StandardContext.listenerStartStandardContext.java
	at org.apache.catalina.core.StandardContext.startStandardContext.java
	at org.apache.catalina.core.ContainerBase.addChildInternalContainerBase.java
	at org.apache.catalina.core.ContainerBase.addChildContainerBase.java
	at org.apache.catalina.core.StandardHost.addChildStandardHost.java
	at org.apache.catalina.startup.HostConfig.deployDescriptorHostConfig.java
	at org.apache.catalina.startup.HostConfig.deployDescriptorsHostConfig.java
	at org.apache.catalina.startup.HostConfig.deployAppsHostConfig.java
	at org.apache.catalina.startup.HostConfig.startHostConfig.java
	at org.apache.catalina.startup.HostConfig.lifecycleEventHostConfig.java
	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEventLifecycleSupport.java
	at org.apache.catalina.core.ContainerBase.startContainerBase.java
	at org.apache.catalina.core.StandardHost.startStandardHost.java
	at org.apache.catalina.core.ContainerBase.startContainerBase.java
	at org.apache.catalina.core.StandardEngine.startStandardEngine.java
	at org.apache.catalina.core.StandardService.startStandardService.java
	at org.apache.catalina.core.StandardServer.startStandardServer.java
	at org.apache.catalina.startup.Catalina.startCatalina.java
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	at java.lang.reflect.Method.invokeMethod.java
	at org.apache.catalina.startup.Bootstrap.startBootstrap.java
	at org.apache.catalina.startup.Bootstrap.mainBootstrap.java
",Bug
"Document how to set up a redundant mirror configuration of Archiva I have tried setting up on archiva and pointing to another, but this doesnt work.
Could someone document how to set a redundant pair of servers, or to point to where this is covered as I could not find it",Improvement
"Clean up old versions feature I like to clean up old versions in our company maven repository.

I can do it on the filesystem, but that costs a lot of time to find the versionsgroupIds.
I like to see a solutions in archiva. I have seen that artifactory has also such a functionality.",New_Feature
Unable to remove user In User Management i cant remove user. When i clik on red cross there is no action; only url is changed from httplocalhostarchivasecurityuserlist.action to httplocalhostarchivasecurityuserlist.actionuserdeleteUrl,Bug
"Changing the location of a scanned repository results to the contents of the new location not getting indexed For example, you have a repository test which already has contents and is located at ..test. The repository has already been scanned and indexed. Now, you would like to point repository test to a different repository. So you change its location to ..another.repository. You wouldnt be able to index the artifacts in ..another.repository since the test repository is already considered scanned and the time stamp of the artifacts are older than the last scanning.",Bug
"Archiva should clean bad UTF- data in poms Archiva should have a mechanism to clean the repository of bad poms that contain improper UTF data.

Possible places for this to occur

 During the repository scan for content.
   Have a process that reads the xml data as a stream not as an xml document and process out any improper UTF characters with appropriate XML latin entities. example changing ""Ã¸"" to ""oslash;""

 During pom download, check the pom and clean it inline on the way down to the user.",Improvement
"Delays in searching proxies due to blacklist not being honoured All my proxy connectors have comcatlin as a blacklist item which should mean that our own internal artifacts are not searched for through our proxy. However, the logs show this is happening, and this is slowing down or builds considerably. Is this an Archiva bug or a config bug on my part

-- , btpool- INFO  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer not attempted on httpsnapshots.repository.codehaus.orgcomcatlinscmProcessLaunch.-SNAPSHOTmaven-metadata.xml.sha  NO to fetch, check-failures detected previous failure on url httpsnapshots.repository.codehaus.orgcomcatlinscmProcessLaunch.-SNAPSHOTmaven-metadata.xml.sha
-- , btpool- INFO  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer not attempted on httpmirrors.ibiblio.orgpubmirrorsmavencomcatlinscmProcessLaunch.-SNAPSHOTmaven-metadata.xml.sha  NO to fetch, check-failures detected previous failure on url httpmirrors.ibiblio.orgpubmirrorsmavencomcatlinscmProcessLaunch.-SNAPSHOTmaven-metadata.xml.sha
-- , btpool- INFO  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer not attempted on httpjunitee.sourceforge.netrepositorycomcatlinscmProcessLaunch.-SNAPSHOTmaven-metadata.xml.sha  NO to fetch, check-failures detected previous failure on url httpjunitee.sourceforge.netrepositorycomcatlinscmProcessLaunch.-SNAPSHOTmaven-metadata.xml.sha
-- , btpool- INFO  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer not attempted on httprepo.maven.orgmavencomcatlinscmProcessLaunch.-SNAPSHOTmaven-metadata.xml.sha  NO to fetch, check-failures detected previous failure on url httprepo.maven.orgmavencomcatlinscmProcessLaunch.-SNAPSHOTmaven-metadata.xml.sha
-- , btpool- INFO  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer not attempted on httppeople.apache.orgrepom-snapshot-repositorycomcatlinscmProcessLaunch.-SNAPSHOTmaven-metadata.xml.sha  NO to fetch, check-failures detected previous failure on url httppeople.apache.orgrepom-snapshot-repositorycomcatlinscmProcessLaunch.-SNAPSHOTmaven-metadata.xml.sha
-- , btpool- INFO  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer not attempted on httprepository.jboss.commavencomcatlinscmProcessLaunch.-SNAPSHOTmaven-metadata.xml.sha  NO to fetch, check-failures detected previous failure on url httprepository.jboss.commavencomcatlinscmProcessLaunch.-SNAPSHOTmaven-metadata.xml.sha
-- , btpool- INFO  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer not attempted on httpgwt-maven.googlecode.comsvntrunkmavenrepocomcatlinscmProcessLaunch.-SNAPSHOTmaven-metadata.xml.sha  NO to fetch, check-failures detected previous failure on url httpgwt-maven.googlecode.comsvntrunkmavenrepocomcatlinscmProcessLaunch.-SNAPSHOTmaven-metadata.xml.sha",Bug
"Certain remote Maven  artifacts require special leading slash in whitelist filter Problem
-------------------
Unable to initializesetup m repository with archiva as the default mirror

Debug observation
-----------------------------
With logj debug settings enabled .appsarchivaWEB-INFclasseslogj.xml, hints about the problem surfaced. I did not look any further into the code to determine the exact cause of the problem. 

Heres the archiva log entry
-------------------------------
-- , btpool- DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Path orgapachemavenpluginsmaven-metadata.xml is not part of defined whitelist skipping transfer from repository Central Repository.

RemedyWork-around
-------------------------------
Added   the following to the whitelist  filter set
    

Steps to reproduce DO NOT FOLLOW unless youre willing to lose local & archiva m data!
-------------------------------------------------------------------------------------------------------------
 movehide client  .mrepository to temporary location
 movehide server archivadatarepositoriesinternal  files and subdirectories to temporary locaton
 Rescan ""Archiva Managed Internal Repository"" - should show zero entries
 ""Update Database Now""
 Make sure the ""Central Repository"" proxy connector whitelist only contains the default fiter  
 To initialize local m, run from client   mvn -X -e -U -up archetypecreate -DgroupIdcom.mycompany.app -DartifactIdmy-appp

The client throws the following
   org.apache.maven.lifecycle.LifecycleExecutionException The plugin org.apache.maven.pluginsmaven-archetype-plugin does not exist or  no valid version could be found

RemedyWork-around
-------------------------------
Added  the following entry to the whitelist filter set
    

Remember to click  ""Save Proxy Connector""   after defining the extra patternfilter

The connector whitelist now has the following entries

  
  
 
Rerun step  above and the local m repo should build properly.
",Bug
"Impossible to login with a created account. Impossible to login with a created account event if admin account works perfectly well !

-----------------------------------------------------------------------
Step to reproduce

- Login with admin account
- create the following account

user test
password a

see the complete configuration in attachment

- Logout 
- try login with testa
 - YOU CANT LOGIN !!!

-----------------------------------------------------------------------
Diagnostic It seems like the users are created in the database but are not read properly at login time.

",Bug
"maven metadata partly updated When i deploy a release or snapshot, to archiva, the metadata gets corrupted.

The scenario is

I have a maven project with lets say  nested module
. root project
    . nested 
    . nested 

. When uploading the project
    . the metadata gets reset by maven with no release, latest etc.
. the scaning process is set to every  minute
    . the scanner correctsupdates the maven metadata
          .. the root project is correct
          .. the nested  is INCORRECT with no release, latest etc. the scanner hast touched it
          .. the nested  is correct

I dont know if it is a coincidens that it is the first nested module hows metadata dont get updated. but that is what i have noticed in several projects.",Bug
"DependencyTreeGeneratorConsumerTest fails under windows due to line ending To fix it, assertEquals should be done on the xml object and not on the xml string.",Bug
"wrong taglib short-name causes deployment error on Geronimo taglib short-name should not contain spaces according to the DTD comments

!--
Defines a short default short-name to be used for tags and
variable names usedcreated by this tag library.  Do not use
white space, and do not start with digits or underscore.

PCDATA  NMTOKEN
--

!ELEMENT short-name      PCDATA 


This causes deployment error on Geronimo
usrlocaljbossgeronimo-tomcat-javaee-.repositorydefaultarchivaarchiva-.warWEB-INFclassesMETA-INFtaglib.tld error cvc-datatype-valid.. string value Archiva Taglib does not match pattern for tld-canonical-nameType in namespace httpjava.sun.comxmlnsjavaee
",Bug
Artifact information screen should indicate the name of repository in which the artifact resides Click Browse and click any artifact. It would be nice if the repository location of the artifact is also displayed.,Improvement
"java.lang.NoClassDefFoundError orgapachexmlserializeOutputFormat Xerces was excluded and banned from the Archiva dependency tree.

We need to remove the excludes and change the enforcer plugin rules.

Exception that caused this was
{code}
java.lang.NoClassDefFoundError orgapachexmlserializeOutputFormat
	at org.apache.jackrabbit.webdav.WebdavResponseImpl.sendXmlResponseWebdavResponseImpl.java
	at org.apache.jackrabbit.webdav.WebdavResponseImpl.sendMultiStatusWebdavResponseImpl.java
	at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.doPropFindAbstractWebdavServlet.java
	at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.executeAbstractWebdavServlet.java
	at org.apache.maven.archiva.webdav.RepositoryServlet.serviceRepositoryServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.mortbay.jetty.Server.handleServer.java
	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
	at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
	at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
	at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
	at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java
{code}",Bug
"make it possible to reindex  rescan without clearing database flushing the database not only takes a long time, but it resets a number of useful attributes such as RSS times - though this could be helped by adding artifacts with their file system timestamp, and also makes searchbrowse for the repo fail or be incomplete during the period. It should be possible to force a rescan.",Bug
Uploads done through the Web UI are not reported in the audit log Uploads done through the Web UI are not reported in the audit log.  In fact they are not logged at all.,Bug
"Deployed dll wont be indexed I deployed a dll with the following command

mvn deploydeploy-file -DfileDCommonm-repositoryjlicensuresjarcl-dll..sjarcl-dll-...dll 
  -DartifactIdsjarcl-dll 
  -Dversion.. 
  -Dpackagingdll 
  -DgroupIdjlicensure 
  -DrepositoryIdarchiva.internal 
  -Durldavhttpdeveloparchivarepositoryinternal

The deployment was OK and the dll is in the repository. In archiva ""Repository Scanning"" section I added .dll. When I browse the repository I see the pom but I cant download the dll. It is not visible.",Bug
Display the url for the repository group It would be helpful to have the url of the repository group in the Repository Groups page so that users can just copy and paste it to their settings.xml.,Improvement
"Pre-configured repositories initially appear to be empty If you pre-configure a populated repository, Archiva does not display the content immediately when you start the application.

I think it should scan and index the repositories on startup, or possibly on the first startup when the database and index are empty.",Improvement
"Admin user account user lockout via Webdav only Weve setup Archiva fairly basically here.  Out of the box unpack, no additional users, so pretty much the admin user does everything.

So, we setup the admin user with a simple password.  If someone however uses Maven to attempt to deploy using this account, but has the admin password wrong, it appears even after just one attempt, the admin user account is locked.  We cannot even login to the web page anymore let alone deploy.  We have been forced to trash the userdatabase directory and restart archiva and reissue a new password.

What is totally bizarre is that despite repeated attempts to enter incorrect password details into the login page of Archiva I cant get it to trip this same behaviour. Its as if only during the Maven deploy stage which goes through the WebDAV connector presumably does this behaviour exhibit itself.

Of course getting the password reset then causes further problems because the when you try to get everyone to update their local Maven settings.xml, if one person forgets and tries to deploy, then the admin account is locked again, and we go through the whole cycle once more.

Fits more in annoying side, just cant work out why this lockout happens only in deploy mode.  I cant see anything in the logs either about this account of interest.
",Bug
"add notes on reindexing to the upgrade docs this is needed to take advantage of new index features, such as the java class indexing",Bug
"Encrypt network proxy password on archiva.xml It is common to most of companies to provide Internet Services through network proxies. But it is unlikely to have anonymous access on such nodes. 
Archiva stores passwords in a plain text format, generating a security risk or security flaw.

It is really critical to have a encrypted password on Archivas configuration file.

",Improvement
Checksum search appears broken I tried to use the checksum search feature on trunk r and it broke. See attached exception.,Bug
"POM snippet for plugins should be plugin not dependency On the browse page for a plugin, the pom snippet should be a plugin element, not a dependency with type maven-plugin.

The text ""POM Dependency Snippet"" should probably be changed to just ""POM Snippet"" so that it works for both.
",Improvement
"Illegal browse operation allow  httparchiva.openqa.orgrepositoryreleasesorgopenqaseleniumclient-driversselenium-client-drivers..selenium-client-drivers-..-tests.jar   -- note the last forward slash

return the jar  which is illegal

httprepo.maven.orgmavenHTTPClientHTTPClient.-HTTPClient-.-.jar

return http   which is correct.

This bug crashes maven-staging-plugin with wagon-beta-  since it tries to pass the content of the jar to 
the html parser and crashes with ArrayOutOfIndex exception.



see httpjira.codehaus.orgbrowseMRM- for details.  

Sorry I am not able provide patch at this moment.",Bug
"Archiva doesnt read metadata file for SNAPSHOTS with webdav When the snapshot repository doesnt contain -SNAPSHOT files but timestamped files with a metadata file that describe the timestamp and build number to use, Archiva doesnt locate files artifactId-.-timestamp-buildnumber.pom",Bug
"Continuous Loop when you click a repository group link  Steps to reproduce

. Created a repository group called ""repoGroup""
. Click link httplocalhostrepositoryrepoGroup

Using Firefox
The page isnt redirecting properly
Firefox has detected that the server is redirecting the request for this address in a way that will never complete.

Using IE
Blank page",Bug
"Archiva requires DNS lookup on URLs for remote repositories, even with http proxy Archiva seems to require to be able to perform DNS lookups on remote repositories even if a http proxy is defined - which is unfortunate in restricted network setups.  MavenProxy handles this well, leaving Archiva . out as an alternative to migrate from in such environments.

At work we use MavenProxy, and that works quite ok - but we have had a wish to migrate to Archiva for better administration GUI etc.  Tested the .-release yesterday and setup was easy, but connects to remote repositories failed for some reason when Archiva tried to retrieve artifacts.  Our server uses an http network proxy, which was specified in Archiva. Tried all sorts of things, and in the end I installed Ethereal and sniffed the network card to find out what was going on.  Ethereal indicated that no http traffic was performed by Archiva towards any server.  If I understand the Ethereal output correctly, Archiva performs a DNS lookup on remote addresses e.g. on download.java.net or repo.maven.org prior to any http traffic.  As the DNS lookup is rejected by the internal DNS used by the server it has access to a limited DNS for security reasons etc, the rejection fails the communication with the remote repository.

Is it necessary for Archiva to perform DNS lookup on addresses which will be proxied by an http network proxy  Perhaps I am a bit confused there, but if a network proxy is specified - could it not also leave the DNS lookup to the network proxy for the external addresses  It seems quite unnecessary for Archiva to perform it in that scenario, and this may make Archiva unsuitable to some network setupsenvironments like ours.  MavenProxy does not perform any DNS lookup on the remote repository when a proxy is defined checked with ethereal - it just fires away the http request to the network proxy defined and leaves it up to that to perform further lookups.

I may be wrong here, so this issue should probably be verified by someone - but it should be quite easy to test.  Install Archiva, specify http proxy, install and start a network snifferethereal, run a request for an artifact in a remote repository and verify that archiva performs a DNS lookup prior to any http requests to the proxy.

Solving this would make it easier for environments with restricted network setups and http proxies like us to migrate from mavenproxy to archiva.  Perhaps this is already fixed in the fixes for .. by Brett  As a temporary workaround for affected environment it would perhaps be possible to add hosts-file entries with ips of all the remote repositories etc. on Windows to make Archiva work, but...",Bug
"addRepositoryToGroup.action  AbstractMethodError on DeferredDocumentImpl.getXmlStandalone  HTTP ERROR 

INTERNAL_SERVER_ERROR

RequestURIarchivaadminaddRepositoryToGroup.action
Caused by

java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	at java.lang.reflect.Method.invokeMethod.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.interceptConfigurationInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.interceptParameterFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.webwork.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionProxy.executeDefaultActionProxy.java
	at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.mortbay.jetty.Server.handleServer.java
	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
	at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
	at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
	at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
	at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java
Caused by java.lang.AbstractMethodError org.apache.xerces.dom.DeferredDocumentImpl.getXmlStandaloneZ
	at com.sun.org.apache.xalan.internal.xsltc.trax.DOMTO.setDocumentInfoDOMTO.java
	at com.sun.org.apache.xalan.internal.xsltc.trax.DOMTO.parseDOMTO.java
	at com.sun.org.apache.xalan.internal.xsltc.trax.DOMTO.parseDOMTO.java
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transformIdentityTransformerImpl.java
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transformTransformerImpl.java
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transformTransformerImpl.java
	at org.apache.commons.configuration.XMLConfiguration.saveXMLConfiguration.java
	at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration$FileConfigurationDelegate.saveAbstractHierarchicalFileConfiguration.java
	at org.apache.commons.configuration.AbstractFileConfiguration.saveAbstractFileConfiguration.java
	at org.apache.commons.configuration.AbstractFileConfiguration.saveAbstractFileConfiguration.java
	at org.apache.commons.configuration.AbstractFileConfiguration.saveAbstractFileConfiguration.java
	at org.apache.commons.configuration.AbstractFileConfiguration.saveAbstractFileConfiguration.java
	at org.apache.commons.configuration.AbstractFileConfiguration.saveAbstractFileConfiguration.java
	at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.saveAbstractHierarchicalFileConfiguration.java
	at org.codehaus.plexus.registry.commons.CommonsConfigurationRegistry.saveCommonsConfigurationRegistry.java
	at org.apache.maven.archiva.configuration.DefaultArchivaConfiguration.saveDefaultArchivaConfiguration.java
	at org.apache.maven.archiva.web.action.admin.repositories.AbstractRepositoriesAdminAction.saveConfigurationAbstractRepositoriesAdminAction.java
	at org.apache.maven.archiva.web.action.admin.repositories.RepositoryGroupsAction.addRepositoryToGroupRepositoryGroupsAction.java
	...  more

Caused by

java.lang.AbstractMethodError org.apache.xerces.dom.DeferredDocumentImpl.getXmlStandaloneZ
	at com.sun.org.apache.xalan.internal.xsltc.trax.DOMTO.setDocumentInfoDOMTO.java
	at com.sun.org.apache.xalan.internal.xsltc.trax.DOMTO.parseDOMTO.java
	at com.sun.org.apache.xalan.internal.xsltc.trax.DOMTO.parseDOMTO.java
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transformIdentityTransformerImpl.java
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transformTransformerImpl.java
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transformTransformerImpl.java
	at org.apache.commons.configuration.XMLConfiguration.saveXMLConfiguration.java
	at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration$FileConfigurationDelegate.saveAbstractHierarchicalFileConfiguration.java
	at org.apache.commons.configuration.AbstractFileConfiguration.saveAbstractFileConfiguration.java
	at org.apache.commons.configuration.AbstractFileConfiguration.saveAbstractFileConfiguration.java
	at org.apache.commons.configuration.AbstractFileConfiguration.saveAbstractFileConfiguration.java
	at org.apache.commons.configuration.AbstractFileConfiguration.saveAbstractFileConfiguration.java
	at org.apache.commons.configuration.AbstractFileConfiguration.saveAbstractFileConfiguration.java
	at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.saveAbstractHierarchicalFileConfiguration.java
	at org.codehaus.plexus.registry.commons.CommonsConfigurationRegistry.saveCommonsConfigurationRegistry.java
	at org.apache.maven.archiva.configuration.DefaultArchivaConfiguration.saveDefaultArchivaConfiguration.java
	at org.apache.maven.archiva.web.action.admin.repositories.AbstractRepositoriesAdminAction.saveConfigurationAbstractRepositoriesAdminAction.java
	at org.apache.maven.archiva.web.action.admin.repositories.RepositoryGroupsAction.addRepositoryToGroupRepositoryGroupsAction.java
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	at java.lang.reflect.Method.invokeMethod.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.interceptConfigurationInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.interceptParameterFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.webwork.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionProxy.executeDefaultActionProxy.java
	at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.mortbay.jetty.Server.handleServer.java
	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
	at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
	at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
	at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
	at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java

Powered by Jetty
",Bug
"ERROR  page when clicking the URL of Repository Group with identifier i.e. ""testtest"" . Click on Repository Group
. Enter value ""testtest"" on identifier field then click ""Add Group""
. Click on the URL of the newly created Repo GroupIME, httplocalhostrepositorytesttest

Actual result will display HTTP ERROR  page.",Bug
"checksum validation reports invalid checksum when checksum is correct checksum validation reports invalid checksum when checksum is correct

{quote}
-- , TP-Processor INFO
org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  -
Transfer invalidated from
maven.atlassian.comprivate-snapshotcomatlassianconfluenceconfluence-project.-SNAPSHOTconfluence-project-.-.-.pom  Checksums do not match, policy set to FAIL, deleting checksum files and local file optarchivarepodatainternalcomatlassianconfluenceconfluence-project.-SNAPSHOTconfluence-project-.-.-.pom.
{quote}

When downloaded directly from the remote repository the checksum is
{code}
cbfbbdccbbdc
{code}

The .md from the remote repository contains
{code}
cbfbbdccbbdc
{code}


When the checksum policy is ignore on Archiva the checksum for the file is
{code}
cbfbbdccbbdc
{code}
",Bug
" when the dav url of an Archiva default repository internal or snapshots is accessed To reproduce
. Install Archiva as a war. In this case, I used Tomcat.
. Start the server
. Go to the Repositories page and click the Webdav URL of any of the default repositories. 
. This results to HTTP Status  - Not a valid request path layout, too short.

This is caused by the location datarepositoriessnapshots and datarepositoriesinternal set in the default repositories. When I changed the location to ..datarepositoriesinternal, it became TOMCAT_INSTALLATIONdatarepositoriesinternal when the config was saved and the repository can now be browsed via the webdav url. Maybe we should change the default to ..datarepositoriesinternal. But we should also take note that MRM- wont happen. ",Bug
"Thread count for schedule is not configurable Their are  Quartz worker threads in the default configuration,  In environment swhere the number of threads per process is limited, for example HP-UX .xs default limit is , this may prevent the including of Continuum in an existing Servlet engine, i.e. Tomcat.  It appears the number of thread was configurable in components.xml, but that changed around -may-.

This issue is a result of the thread titled Getting ""java.lang.OutOfMemoryError unable to create new native thread""Link to this message"" on the continuum user mailing list.

httpsvn.apache.orgviewvccontinuumtrunkcontinuum-coresrcmainresourcesMETA-INFplexuscomponents.xmlr&r&diff_formath
",Bug
"set a user agent for proxy HTTP requests it would be good to be able to set this to, say Apache Archiva.",Improvement
"Failing to startup due to invalid bean definition After doing a war install, running Tomcat yields the following exception

org.springframework.beans.factory.BeanDefinitionStoreException Invalid bean definition with name archivaConfiguration defined in null Could not resolve placeholder appserver.base
	at org.springframework.beans.factory.config.PropertyPlaceholderConfigurer.processPropertiesPropertyPlaceholderConfigurer.java
	at org.springframework.beans.factory.config.PropertyResourceConfigurer.postProcessBeanFactoryPropertyResourceConfigurer.java
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessorsAbstractApplicationContext.java
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessorsAbstractApplicationContext.java
	at org.springframework.context.support.AbstractApplicationContext.refreshAbstractApplicationContext.java
	at org.springframework.web.context.ContextLoader.createWebApplicationContextContextLoader.java
	at org.springframework.web.context.ContextLoader.initWebApplicationContextContextLoader.java
	at org.springframework.web.context.ContextLoaderListener.contextInitializedContextLoaderListener.java
	at org.apache.catalina.core.StandardContext.listenerStartStandardContext.java
	at org.apache.catalina.core.StandardContext.startStandardContext.java
	at org.apache.catalina.core.ContainerBase.addChildInternalContainerBase.java
	at org.apache.catalina.core.ContainerBase.addChildContainerBase.java
	at org.apache.catalina.core.StandardHost.addChildStandardHost.java
	at org.apache.catalina.startup.HostConfig.deployDescriptorHostConfig.java
	at org.apache.catalina.startup.HostConfig.deployDescriptorsHostConfig.java
	at org.apache.catalina.startup.HostConfig.deployAppsHostConfig.java
	at org.apache.catalina.startup.HostConfig.startHostConfig.java
	at org.apache.catalina.startup.HostConfig.lifecycleEventHostConfig.java
	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEventLifecycleSupport.java
	at org.apache.catalina.core.ContainerBase.startContainerBase.java
	at org.apache.catalina.core.StandardHost.startStandardHost.java
	at org.apache.catalina.core.ContainerBase.startContainerBase.java
	at org.apache.catalina.core.StandardEngine.startStandardEngine.java
	at org.apache.catalina.core.StandardService.startStandardService.java
	at org.apache.catalina.core.StandardServer.startStandardServer.java
	at org.apache.catalina.startup.Catalina.startCatalina.java
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	at java.lang.reflect.Method.invokeMethod.java
	at org.apache.catalina.startup.Bootstrap.startBootstrap.java
	at org.apache.catalina.startup.Bootstrap.mainBootstrap.java
",Bug
"incorrect metadata generated from merge I got this for logj

xml version""."" encoding""UTF-""

metadata
  groupIdgroupId
  artifactIdlogjartifactId
  versionlogjversion
metadata

",Bug
"""Unable to create ArchivaArtifact with empty version"" in dependency tree. I got the following when asking a dependency tree for org.springframeworkspring.. mirrored from
httprepo.maven.orgmavenorgspringframeworkspring..spring-...pom, or anything that depends on it.

Its clear that the spring-.. POM is invalid, since it refers to dependencies without versions, but Archiva should fail more gracefully and show at least the rest of the graph. It could perhaps show invalid leafs with an error icon on it.

org.apache.maven.archiva.common.ArchivaException Unable to generate graph for org.springframeworkspring..  Unable to create ArchivaArtifact with empty version logjlogjnullpom
at org.apache.maven.archiva.web.tags.DependencyTree.fetchGraphDependencyTree.java
at org.apache.maven.archiva.web.tags.DependencyTree.gatherTreeListDependencyTree.java
at org.apache.maven.archiva.web.tags.DependencyTreeTag.doStartTagDependencyTreeTag.java
at org.apache.jsp.WEB_dINF.jsp.artifact.dependencyTree_jsp._jspx_meth_archiva_dependency$tree_dependencyTree_jsp.java
at org.apache.jsp.WEB_dINF.jsp.artifact.dependencyTree_jsp._jspServicedependencyTree_jsp.java
at org.apache.jasper.runtime.HttpJspBase.serviceHttpJspBase.java
...  more
Caused by org.apache.maven.archiva.dependency.graph.GraphTaskException Unable to create ArchivaArtifact with empty version logjlogjnullpom
at org.apache.maven.archiva.dependency.DependencyGraphFactory.getGraphDependencyGraphFactory.java
at org.apache.maven.archiva.web.tags.DependencyTree.fetchGraphDependencyTree.java
...  more
Caused by java.lang.IllegalArgumentException Unable to create ArchivaArtifact with empty version logjlogjnullpom
at org.apache.maven.archiva.model.ArchivaArtifact.ArchivaArtifact.java
at org.apache.maven.archiva.repository.project.resolvers.ManagedRepositoryProjectResolver.resolveProjectModelManagedRepositoryProjectResolver.java
at org.apache.maven.archiva.repository.project.resolvers.ProjectModelResolverStack.findProjectProjectModelResolverStack.java
at org.apache.maven.archiva.repository.project.dependencies.ProjectModelBasedGraphBuilder.resolveModelProjectModelBasedGraphBuilder.java
at org.apache.maven.archiva.repository.project.dependencies.ProjectModelBasedGraphBuilder.resolveNodeProjectModelBasedGraphBuilder.java
at org.apache.maven.archiva.dependency.graph.tasks.ResolveGraphTask.executeTaskResolveGraphTask.java
at org.apache.maven.archiva.dependency.graph.tasks.PopulateGraphMasterTask.executeTaskPopulateGraphMasterTask.java
at org.apache.maven.archiva.dependency.DependencyGraphFactory.getGraphDependencyGraphFactory.java
...  more
",Bug
Paginate Dependencies Page in new UI only,Improvement
internationlisation of Archiva we should make Archiva mostly internationlisable,Improvement
"Unable to download from certain repositories,  Forbidden I cant download from the central repository, repo.maven.org.  I cant find any documentation on what settings I can change that relate to this.  this is what Archiva gives


jvm     | Jun ,   AM org.mortbay.jetty.servlet.ServletHandler handle
jvm     | WARNING archivarepositoryinternalorgapachefelixfelix..felix-...pom 
jvm     | org.apache.maven.archiva.policies.ProxyDownloadException Failures occurred downloading from some remote repositories
jvm     |  central Download failure on resource httprepo.maven.orgmavenorgapachefelixfelix..felix-...pomError transferring file
jvm     |  at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxiesDefaultRepositoryProxyConnectors.java
jvm     |  at org.apache.maven.archiva.web.repository.ProxiedDavServer.fetchContentFromProxiesProxiedDavServer.java
jvm     |  at org.apache.maven.archiva.web.repository.ProxiedDavServer.processProxiedDavServer.java
jvm     |  at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.serviceMultiplexedWebDavServlet.java
jvm     |  at org.apache.maven.archiva.web.repository.RepositoryServlet.serviceRepositoryServlet.java
jvm     |  at javax.servlet.http.HttpServlet.serviceHttpServlet.java
jvm     |  at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
jvm     |  at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
jvm     |  at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
jvm     |  at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
jvm     |  at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
jvm     |  at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
jvm     |  at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
jvm     |  at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
jvm     |  at org.mortbay.jetty.servlet.WebApplicationHandler.dispatchWebApplicationHandler.java
jvm     |  at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
jvm     |  at org.mortbay.http.HttpContext.handleHttpContext.java
jvm     |  at org.mortbay.jetty.servlet.WebApplicationContext.handleWebApplicationContext.java
jvm     |  at org.mortbay.http.HttpContext.handleHttpContext.java
jvm     |  at org.mortbay.http.HttpServer.serviceHttpServer.java
jvm     |  at org.mortbay.http.HttpConnection.serviceHttpConnection.java
jvm     |  at org.mortbay.http.HttpConnection.handleNextHttpConnection.java
jvm     |  at org.mortbay.http.HttpConnection.handleHttpConnection.java
jvm     |  at org.mortbay.http.SocketListener.handleConnectionSocketListener.java
jvm     |  at org.mortbay.util.ThreadedServer.handleThreadedServer.java
jvm     |  at org.mortbay.util.ThreadPool$PoolThread.runThreadPool.java



If I add -U NoSuchBrowser. to wget, I can download from the site.   

BUT,  if I use the regular wget command wget --debug httprepo.maven.orgmavenorgapachefelixfelix..felix-...pom

this is what I get


DEBUG output created by Wget . on linux-gnu.

----  httprepo.maven.orgmavenorgapachefelixfelix..felix-...pom
            `felix-...pom.
Resolving proxy.ext.ray.com... ...
Caching proxy.ext.ray.com  ...
Connecting to proxy.ext.ray.com|...|... connected.
Created socket .
Releasing x new refcount .

---request begin---
GET httprepo.maven.orgmavenorgapachefelixfelix..felix-...pom HTTP.
User-Agent Wget.
Accept 
Host repo.maven.org

---request end---
Proxy request sent, awaiting response... 
---response begin---
HTTP.  Forbidden
Content-Type texthtml; charsetiso--
Date Wed,  Jun   GMT
Proxy-Connection close
Server Apache.. Red Hat
X-Cache MISS from tus-proxy

---response end---
 Forbidden
Closed fd 
 ERROR  Forbidden.


",Bug
"Improve error message when pom does not match the artifacts location in the repo When the information in the pom does not match the artifacts location in the repository, Archiva gives the generic

Error Occurred

     Unable to find project model for com.exampleother...

The log file describes the actual problem.  This info should be displayed to the user.

-- , btpool- WARN  org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer  - File other-...pom has an invalid project model groupIdcommons-chain|artifactIdcommons-chain|version.|packagingjar The model artifactId commons-chain does not match the artifactId portion of the filename other
-- , btpool- WARN  org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer  - Invalid or corrupt pom. Project model not added to database - commons-chaincommons-chain.

",Improvement
"Replace Company POM feature with simple Appearence customisation See httpwww.nabble.comMRM----Company-POM-for-Appearance-td.html

This feature will be replaced with a simple form that allows you to set your organisation image, url and name.",Improvement
"confusing handling of browser-based webdav access for security steps to reproduce
- access a repository that has read restriction, log in via the HTTP challenge response and successfully access it
- restart server
- access an artifact URL do not browse the repository from the same browser session.

The logs show

{code}
-- , btpool- INFO  org.apache.maven.archiva.security.ArchivaServletAuthenticator  - Authorization Denied ip,
isWriteRequestfalse,permissionarchiva-read-repository,repotesting  no matching permissions
{code}

This is a result of the first request coming through such that a null result is passed to isAuthenticated. The code for that is

{code}
if  result ! null && !result.isAuthenticated 
{
    throw new AuthenticationException ""User Credentials Invalid"" ;
}

return true;
{code}

As you can see, a null result is treated as being ""authenticated"", though there is really no information as to whether that is the case.

The request later works, so I dont know if this is a bug or not, or just poor logging.",Bug
"many empty folders created in managed repos with proxy connectors when used in a group my repository conf is  

{noformat} 
group ""maven"" 
    |__  managed ""releases""
    |        |_ proxy connector to central, jboss ...
    |__  managed ""internal""
             |_ proxy to some private repositories...
{noformat} 

When I ask for artifacts on the group, many useless empty folders are created in both ""releases"" and ""internal"" repository. Every artifact request to a repository of the group creates the requested artifact directory structure, beeing foudn or not.",Bug
"Archiva does not proxy .asc files I think that it assumes all supplemental files must be retrieved with the original artifact and not passed through.

This happens to work for checksums in Maven, however the downside is that if the logic is changed to request the supplemental file first which is the case for signatures and may later be for checksums, then it wont work.",Bug
"POM snippet doesnt reflect correct protocol We have our Archiva instance running over SSL, and when I view the POM snippet for our repositories, the protocol is http.  It should be .",Bug
"Use File.createTempFile when downloading files from a remote repository Use File.createTempFile when downloading artifacts from a remote repository during a proxy request.

Currently when a file is downloaded it is saved in a temporary location before being moved in place. If a second request for the same artifact is made it will try and write to the same location as the first request at the same time. This causes the repository server to return an error.

This is common in use cases where Archiva is proxying a large file from a slow connecton.",Improvement
"classifier is appended to pom filename after artifact upload example

groupId common-daemons
artifactIdjsvc
classifierlinux-x
packaginguexe
version..

after upload jsvc-..-linux-x.pom is created instead of jsvc-...pom

",Bug
"Changing ProxyConnector sorting is painful with many remote repsitories. Changing ProxyConnector sorting is painful with many remote repsitories.

It would be nice if we could simply drag these around to change their order.",Improvement
"Network proxy does not work for version . With the default setup of archiva after following instructions about how to setup archiva in tomcat I am unable to use a network proxy. The id is devproxy, the protocol is http, the host is devproxy dns entry for the proxy server and the port is . Ive left the repositories the same as in the default setup, and in the proxy connectors Ive changed central from direct connection to devproxy.

This  same setup worked in ...",Bug
"login fails Under certain circumstances it is impossible to login, even thou the login data is valid. 
Exception
 http-- WARN  com.opensymphony.xwork.util.OgnlUtil  - Caught OgnlException while setting property infoMessage on type com.opensymphony.webwork.dispatcher.ServletActionRedirectResult.
ognl.NoSuchPropertyException com.opensymphony.webwork.dispatcher.ServletActionRedirectResult.infoMessage
	at ognl.ObjectPropertyAccessor.setPropertyObjectPropertyAccessor.java
	at com.opensymphony.xwork.util.OgnlValueStack$ObjectAccessor.setPropertyOgnlValueStack.java
	at ognl.OgnlRuntime.setPropertyOgnlRuntime.java

I havent figured out any rules. Sometimes reloading the webapp helps, but not always.
Its very annoying as you cannot login when you have to.",Bug
Archiva is very slow when remote repository is unreachable If a remote repository is not available e.g. network error then ALL artifact downloads even from different remote repos from clients are very slow. If the remote repo is removed from the config everything works again.,Bug
"The organization is incorrect when displaying an artifactss Info via browsing or searching. The organization is incorrect when displaying an artifactss Info via browsing or searching. In my case the artifact org.apache.apache version  displays """" for the organization instead of ""Apache Software ",Bug
"RSS syndication java.lang.ArrayIndexOutOfBoundsException when I click the RSS feed icon, for a artifact or a repo I have the error 

---------------------------------------------------------------
Etat HTTP  -

type Rapport dexception

message

description Le serveur a rencontrÃ© une erreur interne  qui la empÃªchÃ© de satisfaire la requÃªte.

exception

java.lang.ArrayIndexOutOfBoundsException
---------------------------------------------------------------


But sometimes not !


",Bug
"Audit log is reporting ""Modify File proxied"" when no proxy connectors exist and the file has not changed The Archiva audit log is reporting that files have been modified and proxied, when no proxy connectors are configured.  For example

{noformat}
--  sandbox guest ... ""orgapachemavenpluginsmaven-resources-pluginmaven-metadata.xml"" ""Modify File proxied""
--  third-party guest ... ""orgapachemavenpluginsmaven-resources-pluginmaven-metadata.xml"" ""Modify File proxied""
--  sandbox guest ... ""orgapachemavenpluginsmaven-compiler-pluginmaven-metadata.xml"" ""Modify File proxied""
--  third-party guest ... ""orgapachemavenpluginsmaven-compiler-pluginmaven-metadata.xml"" ""Modify File proxied""
--  sandbox guest ... ""orgapachemavenpluginsmaven-surefire-pluginmaven-metadata.xml"" ""Modify File proxied""
--  third-party guest ... ""orgapachemavenpluginsmaven-surefire-pluginmaven-metadata.xml"" ""Modify File proxied""
--  sandbox guest ... ""orgapachemavenpluginsmaven-jar-pluginmaven-metadata.xml"" ""Modify File proxied""
--  third-party guest ... ""orgapachemavenpluginsmaven-jar-pluginmaven-metadata.xml"" ""Modify File proxied""
--  sandbox guest ... ""orgapachemavenpluginsmaven-install-pluginmaven-metadata.xml"" ""Modify File proxied""
--  third-party guest ... ""orgapachemavenpluginsmaven-install-pluginmaven-metadata.xml"" ""Modify File proxied""
{noformat}

Administration - Proxy Connectors copypaste
...
Repository Proxy Connectors
No Repository Proxy Connectors Defined. 

Administration - Repositories copypaste
...
Remote Repositories
There are no remote repositories configured yet.

",Bug
"Introducing a new scannable artifact file type requires restart in order for some consumers to work  to replicate

. copied Nunit artifact see attached zip file to internal repository
. removed metadata and checksums of the artifact
  execute touch to the artifact folder recursively find NUnit.Framework | xargs touch
. add "".dll"" to Repository Scanning - File Types - artifacts
. click Scan Repository 
. Checksums of the dll artifact are not generated.

restarting Archiva and repeating steps  to  will produce the checksums of the dll artifact.",Bug
"regression Creating a company pom results to error  To reproduce
. In the Appearance page, click Select Company Pom
. Fill up the group id & artifact id in the company pom form, then save.
. Error  shows up


Below is the error page
HTTP ERROR 

No bean named wagonhttp is defined

RequestURIarchivaadminconfigureAppearance.action
Caused by

org.springframework.beans.factory.NoSuchBeanDefinitionException No bean named wagonhttp is defined
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinitionDefaultListableBeanFactory.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinitionAbstractBeanFactory.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
	at org.springframework.context.support.AbstractApplicationContext.getBeanAbstractApplicationContext.java
	at org.codehaus.plexus.spring.PlexusContainerAdapter.lookupPlexusContainerAdapter.java
	at org.apache.maven.artifact.manager.DefaultWagonManager.getWagonDefaultWagonManager.java
	at org.apache.maven.artifact.manager.DefaultWagonManager.getRemoteFileDefaultWagonManager.java
	at org.apache.maven.artifact.manager.DefaultWagonManager.getArtifactMetadataDefaultWagonManager.java
	at org.apache.maven.artifact.repository.metadata.DefaultRepositoryMetadataManager.resolveAlwaysDefaultRepositoryMetadataManager.java
	at org.apache.maven.artifact.repository.metadata.DefaultRepositoryMetadataManager.resolveDefaultRepositoryMetadataManager.java
	at org.apache.maven.project.artifact.MavenMetadataSource.retrieveAvailableVersionsMavenMetadataSource.java
	at org.apache.maven.shared.app.company.DefaultCompanyPomHandler.getCompanyPomModelDefaultCompanyPomHandler.java
	at org.apache.maven.shared.app.company.DefaultCompanyPomHandler.getCompanyPomModelDefaultCompanyPomHandler.java
	at org.apache.maven.archiva.web.action.admin.appearance.ConfigureAppearanceAction.prepareConfigureAppearanceAction.java
	at com.opensymphony.xwork.interceptor.PrepareInterceptor.beforePrepareInterceptor.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionProxy.executeDefaultActionProxy.java
	at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.mortbay.jetty.Server.handleServer.java
	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
	at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
	at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
	at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
	at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java
",Bug
"""Repository Purge By Retention Count"" option not working from httparchiva.apache.orgdocs..adminguiderepositories.html
""If the repository purge by retention count field is set to , then only the artifacts artifact-x-.-.jar, artifact-x-.-.pom, artifact-x-.-.jar and artifact-x-.-.pom will be retained in the repository. The oldest snapshots will be deleted maintaining only a number of snapshots equivalent to the set retention count.""

This is not working here. The value for ""Repository Purge By Retention Count"" is ignored, at least for the Snapshot-managed-repo.
Old artifacts are not deleted.
We are building new snaphots on hourly basis using Continuum.
The disk-space is heavily increasing and nothing is purged.
",Bug
Wrong repository url when archiva is used behind Apache with mof_proxy The repository url is httplocalhostarchivarepositoryrepoName instead of apache.hostarchivarepositoryrepoName,Bug
"track consumers in use and index version to know when an repository needs to be reindexed currently if you add consumers, it will not trigger a re-scan of the repository. By tracking the ones in use we should be able to trigger full scans of the repository as appropriate, also making upgrades easier",Bug
"Fails to read pom. I attached the log file and the pom that make it fails.

The pom.xml was created using MavenXppWriter and has the ""Project"" tag on the same line as the xml header. I suppose this make it fails.
xml version""."" encoding""UTF-""project xmlns""httpmaven.apache.orgPOM.."" xmlnsxsi""httpwww.w.orgXMLSchema-instance"" xsischemaLocation""httpmaven.apache.orgPOM.. httpmaven.apache.orgmaven-v__.xsd"" ",Bug
"Artifact Upload replaces all instances of the name ""jar"" with ""pom"" when trying to change the file extension Artifact Upload replaces all instances of the name ""jar"" with ""pom"" when trying to change the file extension",Bug
Paginate Used By page in new UI only,Improvement
"Use a ""work"" directory for the repo path e.g. if the repo definition root is mydir then put the actually repo under mydirrepository See discussion here MRM-

Note
Review the pros and cons of this setup.",Improvement
"metadata-updater does not add missing plugin versions to maven-metadata.xml file With the metadata-updater enabled, the maven-metadata.xml files are not updated to include plugin versions that are on the filesystem but not in the metadata file.

We periodically copy one repo into another, which overwrites the metadata files.  The source repository typically contains only one version of each plugin, whil we have multiple versions in the target repo.  I expected Archiva to fix the metadata files in the target repo so that they list all of the versions again.

This probably applies to normal artifacts as well, but Ive only been working with plugins.",Bug
"Cannot download SNAPSHOT version Hi all,
Our versioning is quite special, I agree  ...beta-.SNAPSHOT at the moment.

The thing is archiva accepts that this kind of artifact version be deployed, but then it doesnt allow you to download it...
In fact, when trying to download, say, the artifactId-...beta-..-.jar artifact, archiva throws the following exception

Error  Not Found

The following resource does not exist httparchivarepositorymmsocle-technique...beta-.SNAPSHOTsocle-technique-...beta-..-.jar

org.apache.maven.archiva.repository.layout.LayoutException Invalid path to Artifact filename format is invalid,expected timestamp format in filename.
	at java.lang.Throwable.Throwable.java
	at java.lang.Throwable.Throwable.java
	at org.apache.maven.archiva.common.ArchivaException.ArchivaException.java
	at org.apache.maven.archiva.repository.layout.LayoutException.LayoutException.java
	at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReferenceDefaultPathParser.java
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toArtifactReferenceRepositoryRequest.java
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toNativePathRepositoryRequest.java
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.processProxiedDavServer.java
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.serviceMultiplexedWebDavServlet.java
	at org.apache.maven.archiva.web.repository.RepositoryServlet.serviceRepositoryServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at org.mortbay.jetty.servlet.WebApplicationHandler.dispatchWebApplicationHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.http.HttpContext.handleHttpContext.java
	at org.mortbay.jetty.servlet.WebApplicationContext.handleWebApplicationContext.java
	at org.mortbay.http.HttpContext.handleHttpContext.java
	at org.mortbay.http.HttpServer.serviceHttpServer.java
	at org.mortbay.http.HttpConnection.serviceHttpConnection.java
	at org.mortbay.http.HttpConnection.handleNextHttpConnection.java
	at org.mortbay.http.HttpConnection.handleHttpConnection.java
	at org.mortbay.http.SocketListener.handleConnectionSocketListener.java
	at org.mortbay.util.ThreadedServer.handleThreadedServer.java
	at org.mortbay.util.ThreadPool$PoolThread.runThreadPool.java

I guess the versioning we used there is quite wrong in a release process, I think we should not suffix SNAPSHOT after a qualifier..., but the thing is IMO, archiva should be coherent 
if this naming scheme is incorrect, then archiva should reject the artifact when trying to deploy it we use the archiva webdav interface when doing mvn deploy.
In fact, its quite puzzling to having successfully deployed an artifact, but being unable to download it.

Cheers.",Bug
"Upload snapshot should work like a deploy Actually, if I upload a snapshot, the file is stored with the current filename and timestamplastUpdated field arent stored in metadata file.

It would be better to store the snapshot with a timestamp and a build number like the maven deploy plugin do it.",Bug
jetty.host and jetty.port properties are set by default in jetty.xml preventing user from using other hostname if user is not aware of these properties See httpwww.nabble.comArchiva-.-standalone-version-quick-installation-remarks-td.html,Bug
"Error in archiva-webapp during mvn site Build log

INFO compilercompile
INFO Nothing to compile - all classes are up to date
WARNING POM for jpoxjpoxpom..compile is invalid. It will be ignored for artifact resolution. Reason Not a v.. POM. for project jpoxjpox at homedeng.mrepositoryjpoxjpox..jpox-...pom
WARNING POM for jpoxjpoxpom..compile is invalid. It will be ignored for artifact resolution. Reason Not a v.. POM. for project jpoxjpox at homedeng.mrepositoryjpoxjpox..jpox-...pom
WARNING POM for jpoxjpoxpom..compile is invalid. It will be ignored for artifact resolution. Reason Not a v.. POM. for project jpoxjpox at homedeng.mrepositoryjpoxjpox..jpox-...pom
WARNING POM for jpoxjpoxpom..compile is invalid. It will be ignored for artifact resolution. Reason Not a v.. POM. for project jpoxjpox at homedeng.mrepositoryjpoxjpox..jpox-...pom
INFO ------------------------------------------------------------------------
ERROR BUILD ERROR
INFO ------------------------------------------------------------------------
INFO Error configuring org.apache.maven.pluginsmaven-war-plugin. Reason ERROR Cannot override read-only parameter classesDirectory in goal warinplace
INFO ------------------------------------------------------------------------
INFO For more information, run Maven with the -e switch
INFO ------------------------------------------------------------------------


Wendy encountered this before see httpwww.nabble.comTrouble-with-mvn-site-for-archiva-trunk-td.html, but the problem seemed to have gone away after downgrading the site plugin version. The current version of the site plugin in archiva-webapp is ...
",Bug
"Wagon HTTP deadlocks under high load See WAGON- for more information.

This is a blocker for the . release.",Bug
"empty metadatas frmo a repository group Here is my configuration 

{noformat} 
group repository ""maven""
  -- managed repository ""releases""
        -- proxy connector to central
        -- proxy connector to dev.java.net
        -- proxy connector to jboss ...
  -- managed repository ""private""
        -- proxy connector to corporate repository
        -- proxy connector to second corporate repository
{noformat} 

From a fresh new install, requesting ""mvn eclipseeclipse"" fails with error 
No versions are present in the repository for the artifact with a range ..,..
org.eclipse.coreresourcesjarnull

Browsing archviarepositorymavenorgeclipsecoreresourcesmaven-metadata.xml returns a metadatafile with no entry.

The metadata file in the ""releases"" repo that merges all connectors metadatas is correct with the expected versions available from central.

",Bug
"Start script has no valid ""uname"" option  Start script has no valid ""uname"" option ""-p"". The concrete line is

DIST_ARCH`uname -p | tr upper lower | tr -d blank`

I resolved this issue replacing the option ""-p"" with ""-m"".
",Bug
"Issue tracker is incorrect when displaying an artifactss Info via browsing or searching. The organization is incorrect when displaying an artifactss Info via browsing or searching. In my case the artifact org.apache.apache version  displays """" for the organization instead of ""Apache Software ",Bug
"network proxy fails after upgrading to archiva . Im trying to upgrade from . to .. I use a network proxy to access remote repos. When using ., I get no error, and when using ., I get this error. 
I double checked my configuration, and there is no differences between my .s config and my .s config. 

httpwww.nabble.comUpgrade-from-.-to-.-A-network-problem-td.html

-- , btpool- DEBUG org.apache.maven.archiva.policies.AbstractUpdatePolicy  - OK to update, snapshot policy does not apply for non-snapshot versions. 
-- , btpool- DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - No authentication for remote repository needed 
-- , btpool- DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Retrieving orgapachemavenpluginsmaven-site-plugin.-beta-maven-site-plugin-.-beta-.pom from Central Repository 
-- , btpool- DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Applying propagate-errors-on-update policy with artifact not already present 
-- , btpool- DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Applying propagate-errors policy with queue error 
-- , btpool- WARN  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer error from repository ""central"" for artifact org.apache.maven.pluginsmaven-site-plugin.-beta-pom, continuing to next repository. Error message Download failure on resource httprepo.maven.orgmavenorgapachemavenpluginsmaven-site-plugin.-beta-maven-site-plugin-.-beta-.pomError transferring file 
-- , btpool- DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Full stack trace 
org.apache.maven.archiva.proxy.ProxyException Download failure on resource httprepo.maven.orgmavenorgapachemavenpluginsmaven-site-plugin.-beta-maven-site-plugin-.-beta-.pomError transferring file 
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferSimpleFileDefaultRepositoryProxyConnectors.java 
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFileDefaultRepositoryProxyConnectors.java 
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxiesDefaultRepositoryProxyConnectors.java 
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxiesArchivaDavResourceFactory.java 
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.doGetArchivaDavResourceFactory.java 
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResourceArchivaDavResourceFactory.java 
        at org.apache.maven.archiva.webdav.RepositoryServlet.serviceRepositoryServlet.java 
        at javax.servlet.http.HttpServlet.serviceHttpServlet.java 
        at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java 
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java 
        at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java 
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java 
        at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java 
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java 
        at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java 
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java 
        at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java 
        at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java 
        at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java 
        at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java 
        at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java 
        at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java 
        at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java 
        at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java 
        at org.mortbay.jetty.Server.handleServer.java 
        at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java 
        at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java 
        at org.mortbay.jetty.HttpParser.parseNextHttpParser.java 
        at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java 
        at org.mortbay.jetty.HttpConnection.handleHttpConnection.java 
        at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java 
        at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java 
Caused by org.apache.maven.wagon.TransferFailedException Error transferring file 
        at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputDataLightweightHttpWagon.java 
        at org.apache.maven.wagon.StreamWagon.getInputStreamStreamWagon.java 
        at org.apache.maven.wagon.StreamWagon.getIfNewerStreamWagon.java 
        at org.apache.maven.wagon.StreamWagon.getStreamWagon.java 
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferSimpleFileDefaultRepositoryProxyConnectors.java 
        ...  more 
Caused by java.net.UnknownHostException repo.maven.org 
        at java.net.PlainSocketImpl.connectUnknown Source 
        at java.net.Socket.connectUnknown Source 
        at java.net.Socket.connectUnknown Source 
        at sun.net.NetworkClient.doConnectUnknown Source 
        at sun.net.www.http.HttpClient.openServerUnknown Source 
        at sun.net.www.http.HttpClient.openServerUnknown Source 
        at sun.net.www.http.HttpClient.initUnknown Source 
        at sun.net.www.http.HttpClient.NewUnknown Source 
        at sun.net.www.http.HttpClient.NewUnknown Source 
        at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClientUnknown Source 
        at sun.net.www.protocol.http.HttpURLConnection.plainConnectUnknown Source 
        at sun.net.www.protocol.http.HttpURLConnection.connectUnknown Source 
        at sun.net.www.protocol.http.HttpURLConnection.getInputStreamUnknown Source 
        at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputDataLightweightHttpWagon.java 
        ...  more",Bug
"Include sources bundle during deployment in releaseperform When I prepared the release for Archiva ., the sources werent deployed so I had to deploy it in the staging repo using mvn gpgsign-and-deploy-file ...
This used to be included in the deployment during previous archiva releases.",Bug
"Allow uploading multiple artifacts Just a suggestion. In cases like uploading  or more artifacts, its hassle uploading  artifact at a time.",New_Feature
"change RSS URLs I thik this would be a nice cosmetic improvement

- from rssrss_feedsrepoIdrepositoryId to repositoryfeedsrepositoryId
- from rssrss_feedsgroupIdgroupId&artifactIdartifactId to feedsgroupIdartifactId

Or similar. Ideally, feeds would equate to how browse is used.",Improvement
Repository Group Page will be broken if entered identifier is too long See screen shot attached.,Bug
"HTTP Error  when uploading artifact with Windows OS Artifact Repository  Upload Artifact

Group Id junit
Artifact Id junit
Version .
Packaging jar
Classifier
set Generate Maven  POM
Artifact File I was pointing this to my junit-..jar
Repository Id releases

Click ""Submit"" button

Actual Result
HTTP Error  page
String index out of range -

Heres the log
jvm  | -- , SocketListener- INFO FreemarkerManager - Instantiating Freemarker ConfigManager!, com.opensymphon
y.webwork.views.freemarker.FreemarkerManager
jvm  | -- , SocketListener- INFO DispatcherUtils - Unable to find webwork.multipart.saveDir property sett
ing. Defaulting to javax.servlet.context.tempdir
jvm  | -- , SocketListener- WARN MultiPartRequest - Item is a file upload of  size, ignoring
jvm  | -- , SocketListener- ERROR DispatcherUtils - Error setting character encoding to UTF- - ignoring.
jvm  | java.lang.IllegalStateException getReader or getInputStream called
jvm  | at org.mortbay.jetty.servlet.ServletHttpRequest.setCharacterEncodingServletHttpRequest.java
jvm  | at javax.servlet.ServletRequestWrapper.setCharacterEncodingServletRequestWrapper.java
jvm  | at com.opensymphony.webwork.dispatcher.DispatcherUtils.prepareDispatcherUtils.java
jvm  | at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
jvm  | at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
jvm  | at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
jvm  | at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
jvm  | at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
jvm  | at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
jvm  | at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
jvm  | at org.mortbay.jetty.servlet.WebApplicationHandler.dispatchWebApplicationHandler.java
jvm  | at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
jvm  | at org.mortbay.http.HttpContext.handleHttpContext.java
jvm  | at org.mortbay.jetty.servlet.WebApplicationContext.handleWebApplicationContext.java
jvm  | at org.mortbay.http.HttpContext.handleHttpContext.java
jvm  | at org.mortbay.http.HttpServer.serviceHttpServer.java
jvm  | at org.mortbay.http.HttpConnection.serviceHttpConnection.java
jvm  | at org.mortbay.http.HttpConnection.handleNextHttpConnection.java
jvm  | at org.mortbay.http.HttpConnection.handleHttpConnection.java
jvm  | at org.mortbay.http.SocketListener.handleConnectionSocketListener.java
jvm  | at org.mortbay.util.ThreadedServer.handleThreadedServer.java
jvm  | at org.mortbay.util.ThreadPool$PoolThread.runThreadPool.java
jvm  | -- , SocketListener- INFO FileUploadInterceptor - File artifact applicationjava-archive junit-..jar D
Maestro..maestro-..project-serverbinwindows-x-....tempJetty______archivauploadaedd_adbdbf_fcc_.tmp
jvm  | -- , SocketListener- INFO FileUploadInterceptor - File artifact applicationjava-archive junit-..jar D
Maestro..maestro-..project-serverbinwindows-x-....tempJetty______archivauploadaedd_adbdbf_fcc_.tmp
jvm  | Jun ,   PM org.mortbay.jetty.servlet.ServletHandler handle
jvm  | WARNING archivaupload!doUpload.action
jvm  | java.lang.StringIndexOutOfBoundsException String index out of range -
jvm  | at java.lang.String.substringString.java
jvm  | at org.apache.maven.archiva.web.action.UploadAction.getMetadataUploadAction.java
jvm  | at org.apache.maven.archiva.web.action.UploadAction.doUploadUploadAction.java
jvm  | at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
jvm  | at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
jvm  | at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
jvm  | at java.lang.reflect.Method.invokeMethod.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at com.opensymphony.webwork.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
jvm  | at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
jvm  | at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.interceptConfigurationInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.interceptParameterFilterInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
jvm  | at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
jvm  | at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at com.opensymphony.webwork.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
jvm  | at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
jvm  | at com.opensymphony.xwork.DefaultActionProxy.executeDefaultActionProxy.java
jvm  | at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
jvm  | at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
jvm  | at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
jvm  | at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
jvm  | at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
jvm  | at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
jvm  | at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
jvm  | at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
jvm  | at org.mortbay.jetty.servlet.WebApplicationHandler.dispatchWebApplicationHandler.java
jvm  | at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
jvm  | at org.mortbay.http.HttpContext.handleHttpContext.java
jvm  | at org.mortbay.jetty.servlet.WebApplicationContext.handleWebApplicationContext.java
jvm  | at org.mortbay.http.HttpContext.handleHttpContext.java
jvm  | at org.mortbay.http.HttpServer.serviceHttpServer.java
jvm  | at org.mortbay.http.HttpConnection.serviceHttpConnection.java
jvm  | at org.mortbay.http.HttpConnection.handleNextHttpConnection.java
jvm  | at org.mortbay.http.HttpConnection.handleHttpConnection.java
jvm  | at org.mortbay.http.SocketListener.handleConnectionSocketListener.java
jvm  | at org.mortbay.util.ThreadedServer.handleThreadedServer.java
jvm  | at org.mortbay.util.ThreadPool$PoolThread.runThreadPool.java",Bug
"Unable to use archiva as http source with maven-stage-plugin great - feel free to file a bug in Archiva too - though its not
incorrect, itd be better without it and we can probably fix this more
easily than getting the updated version to the maven client.
- Hide quoted text -

 Dan Tran dantran@gmail.com
 I look the html contents for repo.apache.orgmaven and the archiva
 at httparchiva.openqa.orgrepositoryreleases

 the repo shows
 img src""iconsfolder.gif"" alt""DIR"" a href""abbot""abbota
    -Oct-     -

 the archiva shows

 lia href"".org""orgli


 So the problem  area seems to be at the extra ""."" at archiva.

 will write up a test case for this.

 -D

 On Fri, Jul ,  at  PM, Dan Tran dantran@gmail.com wrote
 sure, i will look into it

 thanks

 -D

 On Fri, Jul ,  at  PM, Brett Porter brett.porter@gmail.com wrote
 Yes, thatd be the place to look its just that its on the end of
 the stage plugin where it is occurring 

  Dan Tran dantran@gmail.com
 you mean http wagon

 -D

 On Fri, Jul ,  at  PM, Brett Porter brett.porter@gmail.com wrote
 That would be an issue with the stage plugin I think - the HTML on
 Archiva looks fine to me.

  Dan Tran dantran@gmail.com
 From the other post, is it is same error for both . mine and ..
 other user  archiva.  When the stage plugin asks for a list
 of files available at source repo  ie the staging repo, it gets a
 list of one item  a space 

 on windows, the error is access deny, and unix it complains about cant
 not create directory.

 -D

 On Fri, Jul ,  at  PM, Brett Porter brett.porter@gmail.com wrote
 The stage plugin doesnt support http targets, thats correct.

 There was previously some bugs in the HTML rendering, but they should
 be fine under .. Is that what you are seeing

 Cheers,
 Brett

  Dan Tran dantran@gmail.com
 Dont think it is a bug, but worth to ask.

 see httpwww.nabble.comReA-error-plugin-stage-to.html

 I am using archiva . on linux

 -D




 --
 Brett Porter
 Blog httpblogs.exist.combporter





 --
 Brett Porter
 Blog httpblogs.exist.combporter





 --
 Brett Porter
 Blog httpblogs.exist.combporter



",Bug
"Fix obscure Webdav Litmus tests The current litmus test results
{code}
- running `basic
 . init.................. pass
 . begin................. pass
 . options............... pass
 . put_get............... pass
 . put_get_utf_segment.. pass
 . mkcol_over_plain...... pass
 . delete................ pass
 . delete_null........... pass
 . delete_fragment....... WARNING DELETE removed collection resource with Request-URI including fragment; unsafe
    ...................... pass with  warning
 . mkcol................. pass
. mkcol_again........... pass
. delete_coll........... pass
. mkcol_no_parent....... pass
. mkcol_with_body....... FAIL MKCOL with weird body must fail RFC..
. finish................ pass
- summary for `basic of  tests run  passed,  failed. .
-  warning was issued.
{code}

",Improvement
"Archiva does not start up on Solaris -Bit Updated from Archiva .. to Archiva .

binarchiva
Unable to locate any of the following binaries
  mavenarchivaapache-archiva-.bin.wrapper-solaris-sparc-
  mavenarchivaapache-archiva-.bin.wrapper-solaris-sparc-
  mavenarchivaapache-archiva-.bin.wrapper

The files are not contained in apache-archiva-.-bin.tar.gz.",Bug
"Mispelling in the browse repository page Organization is spelled ""Organisation"" in the browse repository page.",Bug
"Invalid cron expressions are accepted in Database Scanning Invalid Cron Expressions are still accepted in Database - Unprocessed Artifacts Scanning

I entered ""asdf"" in Cron and clicked on the Update Cron button; invalid value was accepted. ",Bug
" on HEAD method Doing a HTTP HEAD on a resource sends a  response.

This is because we are not checking outputcontext.hasStream before trying to write to a stream and a NPE is thrown.",Bug
last-modified header is missing last-modified header is missing. Wagon and other clients use this to determine a files freshness.,Bug
"Broken image for Dll in the Downloads box When we deploy dlls to Archiva, the browse page for the artifact has a broken image next to Dll.

Since users can deploy new types that we dont know about in advance, there should be a generic image to be used in the absence of a specific one.
",Bug
"Support RELEASE and LATEST in browsing section It would be nice to be able to use URLs like

{code}
httparchivabrowsemyorgmyartifactRELEASE
{code}

OR 

{code}
httparchivabrowsemyorgmyartifactLATEST
{code}

Where the semantics of RELEASE and LATEST are the same as within maven itself.",New_Feature
"dependency cleanup looking at WEB-INFlib,at least the following dependences can probably be removed
- xalan
- xml-apis
- xmlunit may already be removed
- wstx can be replaced by the stax RI
- velocity-dep",Bug
"Archiva MySQL bit datatype incompatible The tables are created with data-type BIT to represent boolean type fields.

Before MySQL .., BIT was a synonym for TINYINT which works fine.

However .. and later versions of MySQL treat the BIT datatype differently.

This leads to problems with all the sql fields that are supposed to represent boolean values. It becomes a big mess.

An example is the column PERMANENT in a lot of the tables.
Also the FROM_PARENT and TRANSITIVE columns in ARCHIVA_DEPENDENCY.

When changing the column data-type in MySQL for existing data, the conversion of the actual data does not take place correctly because it was not inserted correctly in the first place.

Would it not be possible to change the data-types in the code to boolean or another data-type so that when the tables are created in MySQL they have columns that represent boolean values.

This also appears in Continuum.
",Bug
"Resolution parameters in URL are not expanded When proxying orgmortbayjettymaven-jetty-plugin..premaven-jetty-plugin-..pre.jar I receive the following exception

{code}
java.lang.IllegalArgumentException Invalid uri maven.atlassian.comprivateorgmortbayjettyjetty-maven-plugin${project.version}jetty-maven-plugin-${project.version}.jar escaped absolute path not valid
	org.apache.commons.httpclient.HttpMethodBase.initHttpMethodBase.java
	org.apache.commons.httpclient.methods.GetMethod.initGetMethod.java
	org.apache.maven.wagon.providers.http.HttpWagon.getHttpWagon.java
	org.apache.maven.wagon.providers.http.HttpWagon.getHttpWagon.java
	org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferSimpleFileDefaultRepositoryProxyConnectors.java
	org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFileDefaultRepositoryProxyConnectors.java
	org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxiesDefaultRepositoryProxyConnectors.java
	org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxiesArchivaDavResourceFactory.java
	org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.doGetArchivaDavResourceFactory.java
	org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResourceArchivaDavResourceFactory.java
	org.apache.maven.archiva.web.repository.RepositoryServlet.serviceRepositoryServlet.java
	javax.servlet.http.HttpServlet.serviceHttpServlet.java
	com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
{code}",Bug
"artifact level security I would like to know if it is possible to manage access control to a specific path of repository .

Example user ""A"" will access to only orgmavenapache of a repository but this path will be forbidden for user B.

I think white list and black list will be for all users. 
Do you have an idea of how can I do that 
If I create a specific repository to user ""A"", I will duplicate the artifacts. I dont think its a good solution.

I guess it would be possible with an Apache in front of Archiva but I would prefer to manage this in the application.
",New_Feature
"add last-modified  if-modified-since  etag handling to RSS see httpfishbowl.pastiche.orghttp_conditional_get_for_rss_hackers
",Improvement
"Archiva loses connection to Active Directory group Ive been able to successfully configure Archiva to work with Microsoft Active Directory, however Archiva seems to lose its ability to fetch my AD group after a few hours.

I can temporarily resolve this issue by stopping the Tomcat Windows service and starting it, however this cycle needs to be perpetually repeated.

Ive attached a screen shot with the error message.",Bug
"Adding a find jar by checksum functionality to the REST api In ..x versions, an applet gave us the possibility to know if a jar on our local disk was already in the repo, using the checksum files.

I would like to have this useful functionality back in v.x,, but through a REST service  I provide a checksum code, and I get the list of artifacts that correspond to this checksum.

Thanks !",New_Feature
"Bug in create-missing-checksum consumer I noticed that checksum files were always created again on all the artifacts during each repo scanning. In the log, I could see messages like 

 Created missing checksum file archiva_installrepositoriesinternalcomcompanyprojectmyjar.myjar-..jarsha

Theres a dot missing at the end of the path, should be myjar-..jar.sha instead of myjar-..jarsha , and I think this issue comes from this line in the code, file ArtifactMissingChecksumsConsumer.java 

{code}
File checksumFile  new File this.repositoryDir, path  checksumAlgorithm.getExt ;
{code}

It should be 

{code}
File checksumFile  new File this.repositoryDir, path  "".""  checksumAlgorithm.getExt ;
{code}

Because without the dot, it doesnt find the checksum file, wrongly thinks its missing, and re-creates it ! Its not a blocker bug, but it slows down large repos scanning...",Bug
"Cant login as admin after upgrade from .. to .. After upgrading from version .. to .. it is not possible to log in with the admin user. The archiva.log shows a message indicating this behaviour ""user admin not validated"". The same applies for the guest user.

The reason is, that this account is a permanent account and not flagged as ""validated"" in the existing user database. 

The solution for me was to login with another account with admin permissions and check the ""validated"" box. 
",Bug
"Archiva wrapper fail to start Install
download and untar or unzip depending on packaging

procedure
{{cd bin}}
execute 
{{.archiva start}}

open browser and hit httplocalhost show error .
in {{logs}} folder
{{wrapper}} logs show massive exception.
 

everything fine on windows,or on updated archiva..",Bug
"Add a time based hold on ""delete released snapshots"" It would be nice, if the ""delete released snapshots"" flag could preserve recently build snapshots for a while. 

In general the idea is, that when we release an artifact we want to give the consumers a few days to update their POMs - If we delete the snapshot right away a lot of builds will be failing. It would be nice if one could define a number of days where snapshots should still be available e.g. only delete snapshots which are older than e.g.  days or so ",Improvement
"browseGroupId returns null artifactId with json call When browsing a group sometimes the artifacts are not recognized as such and just as folders.

I checked and the browseGroupId json call returns artifactIds as null for those, but the xml api returns them not null",Bug
"Syntax error in DOAP file release section DOAP files can contain details of multiple release Versions, however each must be listed in a separate release section, for example

release
      Version
        nameApache XYZname
        created--created
        revision..revision
      Version
release
release
      Version
        nameApache XYZname
        created--created
        revision..revision
      Version
release

Please can the project DOAP be corrected accordingly

Thanks.",Bug
"Charset applied to binary repository HTTP responses I am trying to set up a Karaf Cave proxy of an Archiva repository filled with OSGi bundles, and noticed that Cave would not find any OSGi bundles after scanning the repository e.g. by traversing the URLs under the repository path. When investigating why, I noticed that Archiva sends in the HTTP response Content-Type header

{noformat}
Content-Type applicationjava-archive;charsetUTF-
{noformat}

The {{;charsetUTF-}} caught me eye, and then I looked in Caves source and noticed it performs a full string comparison, looking for just {{applicationjava-archive}}. I thought perhaps the error was more on the Archiva side, as sending the charset for the binary payload seems incorrect.

To be clear, I expected to see the following header

{noformat}
Content-Type applicationjava-archive
{noformat}

Looking in Archivas appsarchivaWEB-INFweb.xml I saw why the charset parameter was provided

{noformat}
  filter-mapping
    filter-nameencodingFilterfilter-name
    url-patternurl-pattern
  filter-mapping
{noformat}

That filter forcibly applies the charset parameter to all responses.",Bug
"Add feedback when remote check failed If remote checks fail theres a cloud and a warning sign only currently. Itd be useful to get some feedback why the remote check failed in the web frontend.

Referencing the log file should be find as long as its copyable, not too space consuming in the web frontend and really contains helpful information i.e. please dont add `An error occured. Please check the logs`, but `The error ""useful error title occured because useful error cause. Please check the log file full path to log file for details`",Improvement
"Checksum files always recreated Checksum files are always created for each repo scan due to a wrong File path.
See httpmarkmail.orgmessageuoeqxhleatxvvw",Bug
reset admin password in MySQL To copy and paste the password hash on the MySQL database does not work. ,Bug
"Javascript error when no archiva_login cookie present When the archiva_login cookie is not present the method to retrieve the user session fails with a javascript error.  This causes the main page to not load correctly.

Adding the snippet below fixes the issue - but probably doesnt conform to your style guidelines.

jsarchivamain.js
{code}
    if!cookieContent return null;
{code}

The underlying problem is that cookieContent is undefined and the call to {code}$.parseJSONcookieContent;{code} requires valid JSON.

{quote}
httpapi.jquery.comjquery.parsejson
Prior to jQuery ., $.parseJSON returned null instead of throwing an error if it was passed an empty string, null, or undefined, even though those are not valid JSON.
{quote}",Bug
"Improvements to search Currently the search only returns at max  artifacts and then duplicates the results for each version if the version was not part of the search query.

This as a few drawbacks
. It hides that you hit a search limit and that there might be more results because the hit count changes depending on how many versions a found artifact has
. It is hard to see which artifacts have been found as there are many duplicate entries 

Proposal
Use a similar way as on search.maven.org - Only display the latest version found and display a link next to it, which shows the version overview of this artifact and the number of existing versions",Improvement
"ConcurrentModificationException in DefaultRepositoryProxyConnectors Hi,

we use Archiva version .., and have serious errors. We get randomly but
several times Server Error  if we are getting artifacts from the
repository. In the archiva logs I see a lot of such errors

    java.util.
ConcurrentModificationException
      at java.util.ArrayList$Itr.checkForComodificationUnknown Source
      at java.util.ArrayList$Itr.nextUnknown Source
      at
org.apache.archiva.proxy.DefaultRepositoryProxyConnecto
rs.fetchMetatadaFromProxiesDefaultRepositoryProxyConnectors.java
      at
org.apache.archiva.webdav.ArchivaDavResourceFactory.
fetchContentFromProxiesArchivaDavResourceFactory.java
      at
org.apache.archiva.webdav.ArchivaDavResourceFactory.processRepository
ArchivaDavResourceFactory.java
      at
org.apache.archiva.webdav.ArchivaDavResourceFactory.
processRepositoryGroupArchivaDavResourceFactory.java
      at
org.apache.archiva.webdav.ArchivaDavResourceFactory.createResource
ArchivaDavResourceFactory.java
      at
org.apache.archiva.webdav.RepositoryServlet.service
RepositoryServlet.java
      at javax.servlet.http.HttpServlet.serviceHttpServlet.java
      at
org.eclipse.jetty.servlet.ServletHolder.handleServletHolder.java
      at
org.eclipse.jetty.servlet.ServletHandler.doHandle
ServletHandler.java
      at
org.eclipse.jetty.server.handler.ScopedHandler.handle
ScopedHandler.java
      at
org.eclipse.jetty.security.SecurityHandler.handle
SecurityHandler.java
      at
org.eclipse.jetty.server.session.SessionHandler.
doHandleSessionHandler.java
      at
org.eclipse.jetty.server.handler.ContextHandler.
doHandleContextHandler.java
      at
org.eclipse.jetty.servlet.ServletHandler.doScopeServletHandler.java
      at
org.eclipse.jetty.server.session.SessionHandler.
doScopeSessionHandler.java
      at
org.eclipse.jetty.server.handler.ContextHandler.
doScopeContextHandler.java
      at
org.eclipse.jetty.server.handler.ScopedHandler.handle
ScopedHandler.java
      at
org.eclipse.jetty.server.handler.ContextHandlerCollection.handle
ContextHandlerCollection.java
      at
org.eclipse.jetty.server.handler.HandlerCollection.
handleHandlerCollection.java
      at
org.eclipse.jetty.server.handler.HandlerWrapper.handle
HandlerWrapper.java
      at org.eclipse.jetty.server.Server.handleServer.java
      at
org.eclipse.jetty.server.AbstractHttpConnection.handleRequest
AbstractHttpConnection.java
      at
org.eclipse.jetty.server.AbstractHttpConnection.headerComplete
AbstractHttpConnection.java
      at
org.eclipse.jetty.server.AbstractHttpConnection$
RequestHandler.headerCompleteAbstractHttpConnection.java
      at org.eclipse.jetty.http.HttpParser.parseNextHttpParser.java
      at
org.eclipse.jetty.http.HttpParser.parseAvailableHttpParser.java
      at
org.eclipse.jetty.server.AsyncHttpConnection.handle
AsyncHttpConnection.java
      at
org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle
SelectChannelEndPoint.java
      at
org.eclipse.jetty.io.nio.SelectChannelEndPoint$.run
SelectChannelEndPoint.java
      at
org.eclipse.jetty.util.thread.QueuedThreadPool.runJob
QueuedThreadPool.java
      at
org.eclipse.jetty.util.thread.QueuedThreadPool$.run
QueuedThreadPool.java
      at java.lang.Thread.runUnknown Source

Is this a configuration problem, or a bug in the archiva code

Regards,
Franky

Frank GÃÂ¡bor",Bug
"Add limit to index search query to prevent unnecessary calculations The MavenRespositorySearch doesnt set the max count within the FlatSearchRequest which might result in queries returning many thousands of results which the UI is silently discarding. 

Worse These searches can totally kill the server.",Improvement
RSS feeds do not work after Struts upgrade Struts is grabbing them and not finding the feeds servlet. May also impact the XMLRPC interface.,Bug
"Release .. does not work with PostgreSQL It seems that support for PostgreSQL is broken and mostly undocumented.

There a few things that need to be addressed
 Include PostgreSQL ODBC driver in the build, no need to keep it outside only to make the installation harder. 
 Include commented out PostreSQL database configuration inside confjetty.conf  including 

{noformat}
New id""users"" class""org.eclipse.jetty.plus.jndi.Resource""
    ArgjdbcusersArg
    Arg
      New class""org.apache.tomcat.jdbc.pool.DataSource""
        Set name""driverClassName""org.postgresql.DriverSet
        Set name""url""jdbcpostgresqllocalhostarchivaSet
        Set name""name""ArchivaAppSet
        Set name""username""archivaSet
        Set name""password""archivasecretSet
        Set name""maxWait""Set
        Set name""removeAbandonedTimeout""Set
        Set name""initialSize""Set
        Set name""maxActive""Set        
        Set name""removeAbandoned""trueSet
        Set name""logAbandoned""trueSet
        Set name""testOnBorrow""trueSet
        Set name""validationQuery""select Set
        Set name""testOnReturn""falseSet
        Set name""defaultTransactionIsolation""Set
      New
    Arg
  New
{noformat}

Also even with these changes being made it seems that Archiva is not properly initialized. The database tables are created with the default admin account but we cannot validate the admin account email confirmation fails. We will attach the logs.

Here are few excerpts from the logs
{noformat}
INFO   | jvm     |   | -- .WARNoejw.WebAppContextFailed startup of context o.e.j.w.WebAppContext{,fileoptarchivaappsarchiva},optarchivaappsarchiva
INFO   | jvm     |   | org.springframework.beans.factory.BeanCreationException Error creating bean with name archivaServices Cannot resolve reference to bean authenticationInterceptor
INFO   | jvm     |   |   at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReferenceBeanDefinitionValueResolver.java
INFO   | jvm     |   |   at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessaryBeanDefinitionValueResolver.java
INFO   | jvm     |   |   at java.lang.Thread.runThread.java
INFO   | jvm     |   | Caused by
INFO   | jvm     |   | org.springframework.beans.factory.BeanCreationException Error creating bean with name authenticationInterceptorrest Injection of autowired dependencies failed;
INFO   | jvm     |   |   at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValuesAutowiredAnnotationBeanPostProcessor.java

-- , WrapperSimpleAppMain INFO  org.apache.archiva.web.security.ArchivaRbacManager  - use rbacManagerIds jdo
-- , WrapperSimpleAppMain WARN  JPOX.Plugin  - Extension Point ""org.eclipse.jdt.apt.core.annotationProcessorFactory"" not registered, but plugin """" defined in jarfileoptarchivaapps
archivaWEB-INFliborg.eclipse.sisu.inject-...Ma.jar!plugin.xml refers to it.
-- , WrapperSimpleAppMain WARN  JPOX.Plugin  - Extension Point ""org.eclipse.jdt.apt.core.annotationProcessorFactory"" not registered, but plugin """" defined in jarfileoptarchivaapps
archivaWEB-INFliborg.eclipse.sisu.inject-...Ma.jar!plugin.xml refers to it.
-- , WrapperSimpleAppMain INFO  org.apache.archiva.redback.role.DefaultRoleManager  - loading System
-- , WrapperSimpleAppMain INFO  org.apache.archiva.redback.role.processor.DefaultRoleModelProcessor  - time to process roles model  ms
-- , WrapperSimpleAppMain INFO  org.apache.archiva.redback.role.DefaultRoleManager  - loading Archiva
-- , WrapperSimpleAppMain INFO  org.apache.archiva.redback.role.processor.DefaultRoleModelProcessor  - time to process roles model  ms
-- , WrapperSimpleAppMain INFO  org.apache.archiva.redback.role.DefaultRoleManager  - DefaultRoleManager initialize time 
-- , WrapperSimpleAppMain WARN  org.springframework.web.context.support.XmlWebApplicationContext  - Exception encountered during context initialization - cancelling refresh attempt
org.springframework.beans.factory.BeanCreationException Error creating bean with name archivaServices Cannot resolve reference to bean authenticationInterceptorrest while setting bean property provid
ers with key ; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name authenticationInterceptorrest Injection of autowired dependencies failed; nes
ted exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.redback.users.UserManager org.apache.archiva.redback.rest.services.interceptors.
AuthenticationInterceptor.userManager; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name userManagerarchiva Injection of autowired dependencies fa
iled; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.admin.model.runtime.RedbackRuntimeConfigurationAdmin org.apache.archiva
.web.security.ArchivaConfigurableUsersManager.redbackRuntimeConfigurationAdmin; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name redbackRuntimeConfi
gurationAdmindefault Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private java.util.List org.apache.ar
chiva.admin.repository.AbstractRepositoryAdmin.auditListeners; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name auditListenermetadata Injection o
f autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.metadata.repository.RepositorySessionFactory
 org.apache.archiva.audit.MetadataAuditListener.repositorySessionFactory; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name repositorySessionFactory
jcr Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.metadata.repository.Metadat
aResolver org.apache.archiva.metadata.repository.jcr.JcrRepositorySessionFactory.metadataResolver; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name 
metadataResolverdefault Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.metada
ta.repository.storage.RepositoryStorage org.apache.archiva.metadata.repository.DefaultMetadataResolver.repositoryStorage; nested exception is org.springframework.beans.factory.BeanCreationException Error cr
eating bean with name repositoryStoragemaven Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private or
g.apache.archiva.admin.model.managed.ManagedRepositoryAdmin org.apache.archiva.metadata.repository.storage.maven.MavenRepositoryStorage.managedRepositoryAdmin; nested exception is org.springframework.beans
.factory.BeanCreationException Error creating bean with name managedRepositoryAdmindefault Invocation of init method failed; nested exception is org.apache.archiva.admin.model.RepositoryAdminException
Cannot forcefully unlock a NativeFSLock which is held by another indexer component optarchivarepositoriesrepositoriessnapshotsrepositoriessnapshots.indexerwrite.lock
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReferenceBeanDefinitionValueResolver.java spring-beans-...RELEASE.jar...RELEASE
{noformat}

",Bug
"Use appassembler plugin . better wrapper selection Appassembler scripts of ..x branches were not able to start on x arch due to usage of . appassembler plugin.

I migrate to very last version . at the time so windows x wrapper is now usable.
..x branches httpsvn.apache.orgr
..x branches httpsvn.apache.orgr

No possibility to test on solaris and macosx",Improvement
"Users - Manage section pagination needs to change Hi.  Ive configured Archiva to pull users from Active Direcotry.

The number of users being returned results in  boxes being populated under the users table.

Im trying to find my AD user, but I have to click on each page navigation box.  This gets to be a real pain having to scroll down to the bottom, click the link, and then scroll back to the top.  Since the table re-renders via AJAX, there was no indication that the current page had changed.

It seems like a better approach would be to have the pagination UI controlled via a
First Page Previous Page Next Page Last Page
...setup or something similar.",Bug
"""filename format is invalid, should start with artifactId as stated in path"" As reported on the mailing list, I am trying to configure Apache Archiva .. as a proxy, but it will not cache the file
  httprepo.maven.orgmavencomearldouglasxsbt-web-plugin_._...xsbt-web-plugin-...pom

My path to the file seems to be
  httpmyserverarchivarepositoryinternalcomearldouglasxsbt-web-plugin_._...xsbt-web-plugin-...pom

It replies with the error

Problem accessing
archivarepositoryinternalcomearldouglasxsbt-web-plugin_._...xsbt-web-plugin-...pom.
Reason
    Invalid path to Artifact filename format is invalid, should start
with artifactId as stated in path.

",Bug
"Please delete old releases from mirroring system To reduce the load on the ASF mirrors, projects are required to delete old releases 

Please can you remove all non-current releases
i.e. ..
Thanks!

 httpwww.apache.orgdevrelease.htmlwhen-to-archive
",Bug
"Find a cache solution for browsing part especially root browsing Browse page can be very slow especially when browing root.
We need to find a caching solution for that.
",Improvement
"Apache Archiva .. - Deployment Issue However, when I try to deploy the artifact through eclipse Kepler Im getting the below error.

Error code , HTTP method PUT is not supported by this URL

For more details pls refer httpstackoverflow.comquestionsapache-archiva---m-deployment-issue",Bug
"Artifact checksums not always generated for remote proxy Archiva sometimes does not create checksums and metadata for proxied POM-only artifacts from remote repository when they are downloaded for the first time. It downloads the .pom and writes the poms content to .sha and .md files.

Any tool using the checksum files will fail, because they do not contain checksums but are corrupt i. e. they contain the XML content from the POM.

Running a directory scan on the managed repository fixes the checksum files and creates the metadata.

I can reproduce this behaviour everytime on an empty repository, when I try to download artifacts from Maven Central proxy with Gradle. Ive attached the Archiva logs with INFO level enabled. You can see that checksums for orgapacheapacheapache-.pom are only created after manually starting a directory scan.",Bug
"Filelock unit test issue on windows file system DefaultFileLockManagerTimeoutTest testTimeout is failing on line 
because of an execption raised in FileUtils.copyFile

java.io.IOException The process cannot access the file because another process has locked a portion of the file
FileUtils.copyFile largeJar, lock.getFile ;

Its disrupting behaviour of plugin on windows ..


issues.apache.orgjirabrowseIO- is showing similar symptom.",Bug
Remove per default logj Async Logging Due to some complain on cpu usage the default async logging will be removed,Bug
"Nullpointer when browsing artifacts which have dependencies with scope ""import"" When browsing artifacts with dependencies with scope ""import"" the following NPE occurs.

Caused by java.lang.NullPointerException
        at org.apache.archiva.metadata.repository.storage.maven.RepositoryModelResolver.resolveModelRepositoryModelResolver.java maven-repository-...jar
        at org.apache.maven.model.building.DefaultModelBuilder.readParentExternallyDefaultModelBuilder.java maven-model-builder-...jar..


This seems to be caused by the RepositoryModelResolver.newCopy method, which uses the ""small"" constructor instead of the full constructor. 
",Bug
"org.apache.archiva.admin.repository.ValidatorTest.organisationInfoUpdate fails with ""junit.framework.AssertionFailedError Expected null but was httpfoo.combar.png"" see attached build log

experienced with git commit ecceacbaaabcfde",Bug
"View Artifact Content Action does not Work  When browsing artifacts and selecting a particular artifact version and selecting ""Artifacts"" tab the list of artifacts is correctly shown. However when clicking on the magnifying glass icon ""View Artifact Content"" nothing is shown in the File Content area. This used to work in .. for packaging jar and pom at least.",Bug
"Force Internet Explorer into Standards Mode In our company, IE is configured under Tools | Compatibility View Settings to  display all Intranet Sites in Compatibility View.

This causes Archiva to display issues, such as a progress indicator which never goes away.

I think the fix for this may be to force standard behavior via this addition to index.html

meta http-equiv""X-UA-Compatible"" content""IEedge""",Bug
"ClassCastException org.apache.xalan.processor.TransformerFactoryImpl Caused by java.lang.ClassCastException
org.apache.xalan.processor.TransformerFactoryImpl incompatible with
javax.xml.transform.TransformerFactory
        at javax.xml.transform.TransformerFactory.newInstanceUnknown
Source xml-apis-...jar
        at
org.apache.commons.configuration.XMLConfiguration.createTransformerXMLConfiguration.java
commons-configuration-..jar.
        at
org.apache.commons.configuration.XMLConfiguration.saveXMLConfiguration.java
commons-configuration-..jar.
        at
org.apache.commons.configuration.AbstractHierarchicalFileConfiguration$FileConfigurationDelegate.saveAbstractHierarchicalFileConfiguration.java
commons-configuration-..jar.
        at
org.apache.commons.configuration.AbstractFileConfiguration.saveAbstractFileConfiguration.java
commons-configuration-..jar.
        at
org.apache.commons.configuration.AbstractFileConfiguration.saveAbstractFileConfiguration.java
commons-configuration-..jar.
        at
org.apache.commons.configuration.AbstractFileConfiguration.saveAbstractFileConfiguration.java
commons-configuration-..jar.
        at
org.apache.commons.configuration.AbstractFileConfiguration.saveAbstractFileConfiguration.java
commons-configuration-..jar.
        at
org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.saveAbstractHierarchicalFileConfiguration.java
commons-configuration-..jar.
        at
org.apache.archiva.redback.components.registry.commons.CommonsConfigurationRegistry.saveCommonsConfigurationRegistry.java
spring-registry-commons-..jar
        at
org.apache.archiva.configuration.DefaultArchivaConfiguration.saveDefaultArchivaConfiguration.java
archiva-configuration-...jar
        at
org.apache.archiva.admin.repository.runtime.DefaultRedbackRuntimeConfigurationAdmin.updateRedbackRuntimeConfigurationDefaultRedbackRuntimeConfigurationAdmin.java
archiva-repository-admin-default-...jar
        at
org.apache.archiva.admin.repository.runtime.DefaultRedbackRuntimeConfigurationAdmin.getListDefaultRedbackRuntimeConfigurationAdmin.java
archiva-repository-admin-default-...jar
        at
org.apache.archiva.redback.policy.DefaultUserSecurityPolicy.configurePolicyDefaultUserSecurityPolicy.java
redback-policy-..jar.
        at
org.apache.archiva.redback.policy.DefaultUserSecurityPolicy.initializeDefaultUserSecurityPolicy.java
redback-policy-..jar.
        at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
..
        at
sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
..
        at
sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
..
        at java.lang.reflect.Method.invokeMethod.java ..
        at
org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invokeInitDestroyAnnotationBeanPostProcessor.java
spring-beans-...RELEASE.jar...RELEASE
        at",Bug
"Cannot drag and drop UI blocks in General tab of Users Runtime Configuration section I cant ""grab"" the boxes within the General tab of the Users Runtime Configuration using Waterfox.  I can drag and drop the boxes using Chrome and Safari on Win and OS X.",Bug
"LDAP - groups config not available in Users Runtime Configuration - Properties When attempting to get Archiva working with Microsoft Active Directory, I had to manually modify archiva.xml.

I had to locate
ldap
    config
         groups
              memberblah blahmember
              classblah blahclass
         groups
    config
ldap

...and change the config values to ""member"" & ""group"" respectively.

This config should be UI-configurable in the Properties section.",Bug
ClassNotFound exception with JBoss The redback-integration artifact still contains some references on taglibs which doesnt exist anymore this cause a failure when deploying in jboss.,Bug
"remote index download url doubled there might be a problem with the remote repository indexing. once  i press scan immediately, it just stops without any progress. when i check the archiva.log file it listed that archiva tries to access the wrong url

Caused by java.io.FileNotFoundException File httprepo.maven.apache.orgmaven.indexnexus-maven-repository-index.propertiesnexus-maven-repository-index.properties , ReasonPhraseNot Found.

as you can see, the phrase ""nexus-maven-repository-index.properties"" got doubled at the end. this is the result no matter what i type in the remote index url field in the remote repository settings",Bug
"Users - Manage section needs Sort by User Name, Sort by Full Name, and Sort by Email buttons The Manage page only has a Sort by Name button.  As to which field the button actually sorts by is not clear.  It could sort by User Name or Full Name.

I think that there should be  buttons
""Sort by User Name""
""Sort by Full Name""
""Sort by Email""",Bug
"NPE while browsing artifact with missing pom The browsing page for some artifacts is failing with the following error

An error has happened you must contact the administrator to check the logs.

-- , http-apr--exec- ERROR org.apache.cxf.interceptor.AbstractFaultChainInitiatorObserver  - Error occurred during error handling, give up!
org.apache.cxf.interceptor.Fault
        at org.apache.cxf.service.invoker.AbstractInvoker.createFaultAbstractInvoker.java AbstractInvoker.class..
        at org.apache.cxf.service.invoker.AbstractInvoker.invokeAbstractInvoker.java AbstractInvoker.class..
        at org.apache.cxf.jaxrs.JAXRSInvoker.invokeJAXRSInvoker.java JAXRSInvoker.class..
        at org.apache.cxf.jaxrs.JAXRSInvoker.invokeJAXRSInvoker.java JAXRSInvoker.class..
        at org.apache.cxf.interceptor.ServiceInvokerInterceptor$.runServiceInvokerInterceptor.java ServiceInvokerInterceptor$.class..
        at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessageServiceInvokerInterceptor.java ServiceInvokerInterceptor.class..
        at org.apache.cxf.phase.PhaseInterceptorChain.doInterceptPhaseInterceptorChain.java PhaseInterceptorChain.class..
        at org.apache.cxf.transport.ChainInitiationObserver.onMessageChainInitiationObserver.java ChainInitiationObserver.class..
        at org.apache.cxf.transport.http.AbstractHTTPDestination.invokeAbstractHTTPDestination.java AbstractHTTPDestination.class..
        at org.apache.cxf.transport.servlet.ServletController.invokeDestinationServletController.java ServletController.class..
        at org.apache.cxf.transport.servlet.ServletController.invokeServletController.java ServletController.class..
        at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invokeCXFNonSpringServlet.java CXFNonSpringServlet.class..
        at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequestAbstractHTTPServlet.java AbstractHTTPServlet.class..
        at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doGetAbstractHTTPServlet.java AbstractHTTPServlet.class..
        at javax.servlet.http.HttpServlet.serviceHttpServlet.java servlet-api.jar
        at org.apache.cxf.transport.servlet.AbstractHTTPServlet.serviceAbstractHTTPServlet.java AbstractHTTPServlet.class..
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java catalina.jar..
        at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java catalina.jar..
        at org.apache.tomcat.websocket.server.WsFilter.doFilterWsFilter.java tomcat-websocket.jar..
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java catalina.jar..
        at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java catalina.jar..
        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternalCharacterEncodingFilter.java CharacterEncodingFilter.class...RELEASE
        at org.springframework.web.filter.OncePerRequestFilter.doFilterOncePerRequestFilter.java OncePerRequestFilter.class...RELEASE
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java catalina.jar..
        at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java catalina.jar..
        at org.apache.catalina.core.StandardWrapperValve.invokeStandardWrapperValve.java catalina.jar..
        at org.apache.catalina.core.StandardContextValve.invokeStandardContextValve.java catalina.jar..
        at org.apache.catalina.authenticator.AuthenticatorBase.invokeAuthenticatorBase.java catalina.jar..
        at org.apache.catalina.core.StandardHostValve.invokeStandardHostValve.java catalina.jar..
        at org.apache.catalina.valves.ErrorReportValve.invokeErrorReportValve.java catalina.jar..
        at org.apache.catalina.valves.AbstractAccessLogValve.invokeAbstractAccessLogValve.java catalina.jar..
        at org.apache.catalina.core.StandardEngineValve.invokeStandardEngineValve.java catalina.jar..
        at org.apache.catalina.connector.CoyoteAdapter.serviceCoyoteAdapter.java catalina.jar..
        at org.apache.coyote.http.AbstractHttpProcessor.processAbstractHttpProcessor.java tomcat-coyote.jar..
        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.processAbstractProtocol.java tomcat-coyote.jar..
        at org.apache.coyote.http.HttpAprProtocol$HttpConnectionHandler.processHttpAprProtocol.java tomcat-coyote.jar..
        at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRunAprEndpoint.java tomcat-coyote.jar..
        at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.runAprEndpoint.java tomcat-coyote.jar..
        at java.util.concurrent.ThreadPoolExecutor.runWorkerUnknown Source .._
        at java.util.concurrent.ThreadPoolExecutor$Worker.runUnknown Source .._
        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.runTaskThread.java tomcat-util.jar..
        at java.lang.Thread.runUnknown Source .._
Caused by java.lang.NullPointerException
        at org.apache.archiva.metadata.repository.storage.maven.RepositoryModelResolver.resolveModelRepositoryModelResolver.java RepositoryModelResolver.class
        at org.apache.maven.model.building.DefaultModelBuilder.importDependencyManagementDefaultModelBuilder.java DefaultModelBuilder.class..
        at org.apache.maven.model.building.DefaultModelBuilder.buildDefaultModelBuilder.java DefaultModelBuilder.class..
        at org.apache.maven.model.building.DefaultModelBuilder.buildDefaultModelBuilder.java DefaultModelBuilder.class..
        at org.apache.maven.model.building.DefaultModelBuilder.buildDefaultModelBuilder.java DefaultModelBuilder.class..
        at org.apache.maven.model.building.DefaultModelBuilder.importDependencyManagementDefaultModelBuilder.java DefaultModelBuilder.class..
        at org.apache.maven.model.building.DefaultModelBuilder.buildDefaultModelBuilder.java DefaultModelBuilder.class..
        at org.apache.maven.model.building.DefaultModelBuilder.buildDefaultModelBuilder.java DefaultModelBuilder.class..
        at org.apache.maven.model.building.DefaultModelBuilder.buildDefaultModelBuilder.java DefaultModelBuilder.class..
        at org.apache.maven.model.building.DefaultModelBuilder.buildDefaultModelBuilder.java DefaultModelBuilder.class..
        at org.apache.archiva.metadata.repository.storage.maven.MavenRepositoryStorage.readProjectVersionMetadataMavenRepositoryStorage.java MavenRepositoryStorage.class
        at org.apache.archiva.metadata.repository.DefaultMetadataResolver.resolveProjectVersionsDefaultMetadataResolver.java DefaultMetadataResolver.class..
        at org.apache.archiva.rest.services.DefaultBrowseService.getVersionsDefaultBrowseService.java DefaultBrowseService.class
        at org.apache.archiva.rest.services.DefaultBrowseService.getProjectVersionMetadataDefaultBrowseService.java DefaultBrowseService.class
        at sun.reflect.GeneratedMethodAccessor.invokeUnknown Source 
        at sun.reflect.DelegatingMethodAccessorImpl.invokeUnknown Source .._
        at java.lang.reflect.Method.invokeUnknown Source .._
        at org.apache.cxf.service.invoker.AbstractInvoker.performInvocationAbstractInvoker.java AbstractInvoker.class..
        at org.apache.cxf.service.invoker.AbstractInvoker.invokeAbstractInvoker.java AbstractInvoker.class..
        ...  more

When I check the artifact in questions in the repository health section, it appears that for some reason the pom.xml for the artifact is missing.  I suspect that is causing the NPE.
",Bug
"appserver.home and appserver.base in WEB-INFclassesapplication.properties arent picked up specifying 

    appserver.basepathtobase
    appserver.homepathtobase

in `webappsarchivaWEB-INFclassesarchiva.properties` as recommended in httparchiva.apache.orgdocs..adminguidewebapp.html causes the error 

    Apr ,   PM org.apache.catalina.core.StandardContext listenerStop
    SCHWERWIEGEND Exception sending context destroyed event to listener instance of class org.apache.archiva.web.startup.ArchivaStartup
    org.springframework.beans.factory.BeanDefinitionStoreException Invalid bean definition with name jcr-config defined in URL filevarlibarchivaapache-tomcat-..webappsapache-archiva-..WEB-INFclassesMETA-INFspring-context.xml Could not resolve placeholder appserver.base in string value ""${appserver.base}confrepository.xml""; nested exception is java.lang.IllegalArgumentException Could not resolve placeholder appserver.base in string value ""${appserver.base}confrepository.xml""
	    at org.springframework.beans.factory.config.PlaceholderConfigurerSupport.doProcessPropertiesPlaceholderConfigurerSupport.java
	    at org.springframework.beans.factory.config.PropertyPlaceholderConfigurer.processPropertiesPropertyPlaceholderConfigurer.java
	    at org.springframework.beans.factory.config.PropertyResourceConfigurer.postProcessBeanFactoryPropertyResourceConfigurer.java
	    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessorsPostProcessorRegistrationDelegate.java
	    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessorsPostProcessorRegistrationDelegate.java
	    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessorsAbstractApplicationContext.java
	    at org.springframework.context.support.AbstractApplicationContext.refreshAbstractApplicationContext.java
	    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContextContextLoader.java
	    at org.springframework.web.context.ContextLoader.initWebApplicationContextContextLoader.java
	    at org.springframework.web.context.ContextLoaderListener.contextInitializedContextLoaderListener.java
	    at org.apache.catalina.core.StandardContext.listenerStartStandardContext.java
	    at org.apache.catalina.core.StandardContext.startInternalStandardContext.java
	    at org.apache.catalina.util.LifecycleBase.startLifecycleBase.java
	    at org.apache.catalina.core.ContainerBase.addChildInternalContainerBase.java
	    at org.apache.catalina.core.ContainerBase.addChildContainerBase.java
	    at org.apache.catalina.core.StandardHost.addChildStandardHost.java
	    at org.apache.catalina.startup.HostConfig.deployWARHostConfig.java
	    at org.apache.catalina.startup.HostConfig$DeployWar.runHostConfig.java
	    at java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
	    at java.util.concurrent.FutureTask.runFutureTask.java
	    at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
	    at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
	    at java.lang.Thread.runThread.java
    Caused by java.lang.IllegalArgumentException Could not resolve placeholder appserver.base in string value ""${appserver.base}confrepository.xml""
	    at org.springframework.util.PropertyPlaceholderHelper.parseStringValuePropertyPlaceholderHelper.java
	    at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholdersPropertyPlaceholderHelper.java
	    at org.springframework.beans.factory.config.PropertyPlaceholderConfigurer$PlaceholderResolvingStringValueResolver.resolveStringValuePropertyPlaceholderConfigurer.java
	    at org.springframework.beans.factory.config.BeanDefinitionVisitor.resolveStringValueBeanDefinitionVisitor.java
	    at org.springframework.beans.factory.config.BeanDefinitionVisitor.resolveValueBeanDefinitionVisitor.java
	    at org.springframework.beans.factory.config.BeanDefinitionVisitor.visitGenericArgumentValuesBeanDefinitionVisitor.java
	    at org.springframework.beans.factory.config.BeanDefinitionVisitor.visitBeanDefinitionBeanDefinitionVisitor.java
	    at org.springframework.beans.factory.config.PlaceholderConfigurerSupport.doProcessPropertiesPlaceholderConfigurerSupport.java
	    ...  more

The start occurs with `bincatalina.sh run` after setting up `archiva` according to the referenced installation guide.",Bug
"Virtual repository not accessible behind  reverse proxy Context  
 Company with multiple repositories internetproxied ... snapshotrelease  a virtual repository is configured to provide central access. 
 No credentials configured to access to Archiva except admin.
 This _virtual_ repository is used from internet suppliers, personal dev, etc in , a IT reverse proxy bind  internet url to intranet Archiva url.

Use case  

|| Url || Result ||
| httprepository.company-intranet.comrepositorycompany-releasesgroupIdartifactId | works |
| httprepository.company-intranet.comrepositoryvirtualgroupIdartifactId | works |
| repository.company-internet.comrepositorycompany-releasesgroupIdartifactId | works with proxy credentials ... browser or maven |
| repository.company-internet.comrepositoryvirtualgroupIdartifactId | dont works  HTTP  |

_Virtual_ respository from  want credentials, with domain  Repository Archiva Managed virtual Repository Powered by _Jetty_.

After some tests and http call analysis, _virtual_ repository has inconvenience with the header  
{code}
Authorization Basic ZmvOmpYVUcnkh
{code}

This header is filled by reverse proxy.

_virtual_ repository has no reason to have a different security strategy compared to _classic_ repository  whence this bug.

----
Workaround  If an Apache is in front of Archiva, you could cancel this problem with this configuration rule in _VirtualHost_ context prerequisite  _headers_module_ 

{code}
RequestHeader unset Authorization
{code}",Bug
"Proxy behaviour issue migrating from ..x to .x Two users   Olivier Erhart , Tzur Turkenitz  has trouble with proxy settings trying to configure archiva ..  and had to downgrade to archiva .x

{quote}
The steps to reproduce
 Install or upgrade archiva to ..
 Set up a proxy
 Set the proxy to a proxy connector
{quote}

{quote}
Im following these simple steps
      Network Proxies - Adding a new network proxy; protocol http, host example.proxy.com, port 

 Proxy Connectors - Add the network proxy between the Managed and Remote repositories
             i.      For some reason, when clicking on the question mark icon in the Proxy Connector Settings column shows Network Proxy None, even though it is set correctly and when checking the archiva.xml file under conf it is listed there properly.

      Repositories --  Remote Repositories Management, on remote check theres an icon that circles and does not resolve into a check mark.
{quote}

 www.mail-archive.comusers@archiva.apache.orgmsg.html
 www.mail-archive.comusers@archiva.apache.orgmsg.html",Bug
Make search limit maxCount configurable via UI Currently the search only returns at max  entries. This should be configurable when using the advanced search.,Improvement
"LDAP Group Role Mappings I set up LDAP security for Active Directory on a fresh Archiva installation on a new server.  Im able to see my groups listed in the LDAPRoles Mapping tab of the Users Runtime Configuration section.  Ive mapped my AD group to the System Administrator role alongside the other default role listed, which is my AD groups name.

Im able to log in as my AD user account, however I do not have the permissions of the System Administrator role.  I can verify this fact by clicking on the Roles link and looking at the roles Parent Roles, Child Roles, and Permissions, which are all empty.  I can also verify this fact by clicking on Manage, finding my user account, and looking at the Effective Roles, which are also empty.",Bug
"Allow LDAP groupOfNames Redback does support only groupOfUniqueNames.
I would like to use groupOfNames too.

Thanks in advance",Improvement
archiva-cli does not work Multiple failures due to missing dependencies  spring configuration.,Bug
"Last modified date is epoch on directory listing for a group Correct for individual repositories, but is set to the epoch on a group.

 Start a new version of Archiva ..
 Create an all group with internal  snapshots

{code}
$ curl -S -I httplocalhostrepositoryall
HTTP.  OK
Date Fri,  Jul   GMT
...
Last-Modified Thu,  Jan   GMT
{code}

See issues.sonatype.orgbrowseNEXUS-",Bug
"Only One Page of Proxy Connector Rules Shown According to discussion in mailing list
httpwww.mail-archive.comusers@archiva.apache.orgmsg.html",Bug
"Unable to download -SNAPSHOT jars after .. Upgrade We previously had SNAPSHOT artifacts that were uploaded to Archiva .. and stored without a timestamp in the name.  The repository directory for these looks something like this

root@somehostnameaptiis-maven-repoarchiva-managed-repositoriessnapshotscomwhatevermy-artifact...-SNAPSHOT$ ls -al
total 
drwxr-xr-x  root root  Jun     .
drwxr-xr-x  root root  Oct    ..
-rw-r--r--  root root  Jun     my-artifact-...-SNAPSHOT.jar
-rw-r--r--  root root    Jun   my-artifact-...-SNAPSHOT.jar.md
-rw-r--r--  root root    Jun   my-artifact-...-SNAPSHOT.jar.sha
-rw-r--r--  root root   Jun     my-artifact-...-SNAPSHOT.pom
-rw-r--r--  root root    Jun   my-artifact-...-SNAPSHOT.pom.md
-rw-r--r--  root root    Jun   my-artifact-...-SNAPSHOT.pom.sha
-rw-r--r--  root root   Jun   maven-metadata.xml
-rw-r--r--  root root    Jun     maven-metadata.xml.md
-rw-r--r--  root root    Jun     maven-metadata.xml.sha

With Archiva .., we were able to download this jar by adding a dependency on it

dependency
    groupIdcom.whatevergroupId
    artifactIdmy-artifactartifactId
    version...-SNAPSHOTversion
dependency

After the upgrade to .., maven is unable to download the artifact.  When I try to download it manually, by entering the URL for the artifact into the web browser, it is redirected to a URL that is definitely incorrect.

I enter the following URL into the web browser

httpsomehostnamecomarchivarepositorysnapshotscomwhatevermy-artifact...-SNAPSHOTmy-artifact-...-SNAPHSOT.jar

Archiva redirects the URL to this

httpsomehostnamecomarchivarepositorysnapshotscomwhatevermy-artifact...-SNAPSHOTmy-artifact-...-null-.jar

This fails as follows

HTTP Status  - Not a valid artifact path in a Maven  repository, filename connectoraccess-client-...-null-.jar doesnt contain a timestamped version matching snapshot ...-SNAPSHOT

type Status report

message Not a valid artifact path in a Maven  repository, filename connectoraccess-client-...-null-.jar doesnt contain a timestamped version matching snapshot ...-SNAPSHOT

description The requested resource is not available.

Apache Tomcat..

Note the ""null"" in the filename we were redirected to.  There should not be any redirection in this case because the file were referencing exists!

It seems we will have to re-upload a whole lot of jars to Archiva using a timestampped version unless this is fixed.",Bug
"Redback core fail with jdk . compiler target . testFindUserByEmptyUsernameorg.apache.archiva.redback.users.jdo.JdoUserManagerTest  Time elapsed . sec   ERROR!
java.lang.VerifyError Expecting a stackmap frame at branch target 
Exception Details
  Location
    orgapachearchivaredbackusersjdoUserDatabase.jdoPreSerializeV @ ifnull
  Reason
    Expected stackmap frame at this location.
  Bytecode
     ab  c a b a b f
     a  b                           

	at java.lang.Class.getDeclaredFieldsNative Method
	at java.lang.Class.privateGetDeclaredFieldsClass.java
	at java.lang.Class.getDeclaredFieldsClass.java
	at org.jpox.metadata.ClassMetaData.addPropertiesNotInMetaDataClassMetaData.java
	at org.jpox.metadata.ClassMetaData.populateClassMetaData.java
	at org.jpox.metadata.MetaDataManager.populateFileMetaDataMetaDataManager.java
	at org.jpox.metadata.JDOMetaDataManager.loadMetaDataForClassJDOMetaDataManager.java
	at org.jpox.metadata.JDOMetaDataManager.getMetaDataForClassInternalJDOMetaDataManager.java
	at org.jpox.metadata.MetaDataManager.getMetaDataForClassMetaDataManager.java
	at org.jpox.metadata.MetaDataManager.getMetaDataForClassMetaDataManager.java
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.getReferencedClassesRDBMSManager.java
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesRDBMSManager.java
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidateRDBMSManager.java
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.runRDBMSManager.java
	at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.executeRDBMSManager.java
	at org.jpox.store.rdbms.RDBMSManager.addClassesRDBMSManager.java
	at org.jpox.SchemaTool.createSchemaTablesSchemaTool.java
	at org.apache.archiva.redback.users.jdo.JdoUserManagerTest.setUpJdoUserManagerTest.java
",Improvement
"provide mechanism to obtain the latest version of an artifact It will be very useful and convenient for a user to be able to download the ""latest"" version of an artifact. Sonatype Nexus provides such a mechanism, please see httpstackoverflow.comquestionsusing-the-nexus-rest-api-to-get-latest-artifact-version-for-given-groupid-artfic and maven.java.netnexus-core-documentation-plugincoredocsrest.artifact.maven.redirect.html

Thanks!",Improvement
"Repository directory path overwritten when using network path Setting the Directory and Index Directory to a network path works for a day, but the configuration gets re-written nightly with a bad path not sure why the archiva.xml file is getting re-written nightly when no changes have occurred.

Example Enter the following network path for the repository

Directory mynetworksomefolder
Index Directory mynetworksomefolderindex

The next day, the path will show as follows

Directory mynetworksomefolder
Index Directory mynetworksomefolderindex

So it has now become a local relative path instead of a network path.  

This bug does not occur in ...",Bug
"On first start up, you get a perpetual loading indicator. Unpack a brand new Archiva installation of .., and start it up, then navigate to the home page.

Youll see the loading indicator spinning forever, even after creating the admin and navigating around behind it.

If you refresh the page, it no longer comes back.

Looks like a failed initial request that doesnt reset the Javascript",Bug
"Syntax error in DOAP file release section; wrong bug-database URL DOAP files can contain details of multiple release Versions, however each must be listed in a separate release section, for example

release
      Version
        nameApache XYZname
        created--created
        revision..revision
      Version
release
release
      Version
        nameApache XYZname
        created--created
        revision..revision
      Version
release

Please can the project DOAP be corrected accordingly

Also the DOAP still references Codehaus 

Thanks.",Bug
"generic metadata GUI broken Using the .. version of archiva - freshly downloaded and launched standalone - running as the admin user, Im unable to attach generic metadata to an artifact.  Clicking save simply results in an error that says

""You must select a groupId ""

There is no place in the GUI to enter a groupID, nor does it seem that it should be necessary.",Bug
"Creation of maven repositories is SLOW I am creating  maven repositories using Archiva REST Api and a script. Repository creation is Slow  hours

CPU usage raise 

I replaced Derby Database with Postgresql, but it did not solve the speed problem.

Attached is an output of the screen with log  top command.

Below is a stack trace dump I got when repositories are being created. IT seems there is some kind of lock, but I am not sure howif can be solved by config modification.

{codexml}
pablo@mvnrepository$ 
 optapache-archiva-..logswrapper-.log 
INFO   | jvm     |   | -- 
INFO   | jvm     |   | Full thread dump Java HotSpotTM -Bit Server VM .-b mixed mode
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Attach Listener""  daemon prio os_prio tidxfbacccd nidx runnable x
INFO   | jvm     |   |    java.lang.Thread.State RUNNABLE
INFO   | jvm     |   | 
INFO   | jvm     |   | ""qtp-""  prio os_prio tidxfbadc nidxf runnable xfbaecf
INFO   | jvm     |   |    java.lang.Thread.State RUNNABLE
INFO   | jvm     |   | 	at org.jpox.store.rdbms.mapping.CharRDBMSMapping.getStringCharRDBMSMapping.java
INFO   | jvm     |   | 	at org.jpox.store.mapping.SingleFieldMapping.getStringSingleFieldMapping.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.fieldmanager.ResultSetGetter.fetchStringFieldResultSetGetter.java
INFO   | jvm     |   | 	at org.jpox.state.StateManagerImpl.replacingStringFieldStateManagerImpl.java
INFO   | jvm     |   | 	at org.apache.archiva.redback.rbac.jdo.JdoResource.jdoReplaceFieldJdoResource.java
INFO   | jvm     |   | 	at org.apache.archiva.redback.rbac.jdo.JdoResource.jdoReplaceFieldsJdoResource.java
INFO   | jvm     |   | 	at org.jpox.state.StateManagerImpl.replaceFieldsStateManagerImpl.java
INFO   | jvm     |   | 	- eliminated xec a org.jpox.state.StateManagerImpl
INFO   | jvm     |   | 	at org.jpox.state.StateManagerImpl.replaceFieldsStateManagerImpl.java
INFO   | jvm     |   | 	- locked xec a org.jpox.state.StateManagerImpl
INFO   | jvm     |   | 	at org.jpox.store.mapping.PersistenceCapableMapping$.fetchFieldsPersistenceCapableMapping.java
INFO   | jvm     |   | 	at org.jpox.state.StateManagerImpl.loadFieldValuesStateManagerImpl.java
INFO   | jvm     |   | 	at org.jpox.state.StateManagerImpl.initStateManagerImpl.java
INFO   | jvm     |   | 	at org.jpox.state.StateManagerFactory.newStateManagerStateManagerFactory.java
INFO   | jvm     |   | 	at org.jpox.AbstractPersistenceManager.getObjectByAIDAbstractPersistenceManager.java
INFO   | jvm     |   | 	- locked xead a org.jpox.PersistenceManagerImpl
INFO   | jvm     |   | 	at org.jpox.store.mapping.PersistenceCapableMapping.getObjectForApplicationIdentityPersistenceCapableMapping.java
INFO   | jvm     |   | 	at org.jpox.store.mapping.PersistenceCapableMapping.getObjectPersistenceCapableMapping.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.fieldmanager.ResultSetGetter.fetchObjectFieldResultSetGetter.java
INFO   | jvm     |   | 	at org.jpox.state.StateManagerImpl.replacingObjectFieldStateManagerImpl.java
INFO   | jvm     |   | 	at org.apache.archiva.redback.rbac.jdo.JdoPermission.jdoReplaceFieldJdoPermission.java
INFO   | jvm     |   | 	at org.apache.archiva.redback.rbac.jdo.JdoPermission.jdoReplaceFieldsJdoPermission.java
INFO   | jvm     |   | 	at org.jpox.state.StateManagerImpl.replaceFieldsStateManagerImpl.java
INFO   | jvm     |   | 	- locked xec a org.jpox.state.StateManagerImpl
INFO   | jvm     |   | 	at org.jpox.store.rdbms.query.PersistentIDROF$.fetchFieldsPersistentIDROF.java
INFO   | jvm     |   | 	at org.jpox.state.StateManagerImpl.loadFieldValuesStateManagerImpl.java
INFO   | jvm     |   | 	at org.jpox.AbstractPersistenceManager.getObjectByAIDAbstractPersistenceManager.java
INFO   | jvm     |   | 	- locked xead a org.jpox.PersistenceManagerImpl
INFO   | jvm     |   | 	at org.jpox.store.rdbms.query.PersistentIDROF.getObjectByAIDPersistentIDROF.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.query.PersistentIDROF.getObjectPersistentIDROF.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.query.ForwardQueryResult.nextResultSetElementForwardQueryResult.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.query.ForwardQueryResult$QueryResultIterator.nextForwardQueryResult.java
INFO   | jvm     |   | 	- locked xebdd a org.jpox.store.rdbms.query.ForwardQueryResult
INFO   | jvm     |   | 	at org.jpox.AbstractPersistenceManager.detachCopyAllAbstractPersistenceManager.java
INFO   | jvm     |   | 	- locked xead a org.jpox.PersistenceManagerImpl
INFO   | jvm     |   | 	at org.apache.archiva.redback.rbac.jdo.JdoTool.getAllObjectsJdoTool.java
INFO   | jvm     |   | 	at org.apache.archiva.redback.rbac.jdo.JdoTool.getAllObjectsJdoTool.java
INFO   | jvm     |   | 	at org.apache.archiva.redback.rbac.jdo.JdoRbacManager.getAllPermissionsJdoRbacManager.java
INFO   | jvm     |   | 	at org.apache.archiva.web.security.ArchivaRbacManager.getAllPermissionsArchivaRbacManager.java
INFO   | jvm     |   | 	at org.apache.archiva.redback.rbac.AbstractRBACManager.permissionExistsAbstractRBACManager.java
INFO   | jvm     |   | 	at org.apache.archiva.redback.role.template.DefaultRoleTemplateProcessor.processPermissionsDefaultRoleTemplateProcessor.java
INFO   | jvm     |   | 	at org.apache.archiva.redback.role.template.DefaultRoleTemplateProcessor.processTemplateDefaultRoleTemplateProcessor.java
INFO   | jvm     |   | 	at org.apache.archiva.redback.role.template.DefaultRoleTemplateProcessor.createDefaultRoleTemplateProcessor.java
INFO   | jvm     |   | 	at org.apache.archiva.redback.role.DefaultRoleManager.verifyTemplatedRoleDefaultRoleManager.java
INFO   | jvm     |   | 	at org.apache.archiva.web.startup.SecuritySynchronization.syncRepoConfigurationSecuritySynchronization.java
INFO   | jvm     |   | 	at org.apache.archiva.web.startup.SecuritySynchronization.afterConfigurationChangeSecuritySynchronization.java
INFO   | jvm     |   | 	at org.apache.archiva.redback.components.registry.commons.ConfigurationListenerDelegate.configurationChangedConfigurationListenerDelegate.java
INFO   | jvm     |   | 	at org.apache.commons.configuration.event.EventSource.fireEventEventSource.java
INFO   | jvm     |   | 	at org.apache.commons.configuration.HierarchicalConfiguration.setPropertyHierarchicalConfiguration.java
INFO   | jvm     |   | 	at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.setPropertyAbstractHierarchicalFileConfiguration.java
INFO   | jvm     |   | 	- locked xebfd a org.apache.commons.configuration.Lock
INFO   | jvm     |   | 	at org.apache.archiva.redback.components.registry.commons.CommonsConfigurationRegistry.setStringCommonsConfigurationRegistry.java
INFO   | jvm     |   | 	at org.apache.archiva.configuration.io.registry.ConfigurationRegistryWriter.writeManagedRepositoryConfigurationConfigurationRegistryWriter.java
INFO   | jvm     |   | 	at org.apache.archiva.configuration.io.registry.ConfigurationRegistryWriter.writeConfigurationConfigurationRegistryWriter.java
INFO   | jvm     |   | 	at org.apache.archiva.configuration.io.registry.ConfigurationRegistryWriter.writeConfigurationRegistryWriter.java
INFO   | jvm     |   | 	at org.apache.archiva.configuration.DefaultArchivaConfiguration.saveDefaultArchivaConfiguration.java
INFO   | jvm     |   | 	- locked xeb a org.apache.archiva.configuration.DefaultArchivaConfiguration
INFO   | jvm     |   | 	at org.apache.archiva.admin.repository.AbstractRepositoryAdmin.saveConfigurationAbstractRepositoryAdmin.java
INFO   | jvm     |   | 	at org.apache.archiva.admin.repository.managed.DefaultManagedRepositoryAdmin.deleteManagedRepositoryDefaultManagedRepositoryAdmin.java
INFO   | jvm     |   | 	at org.apache.archiva.admin.repository.managed.DefaultManagedRepositoryAdmin.deleteManagedRepositoryDefaultManagedRepositoryAdmin.java
INFO   | jvm     |   | 	at org.apache.archiva.rest.services.DefaultManagedRepositoriesService.deleteManagedRepositoryDefaultManagedRepositoriesService.java
INFO   | jvm     |   | 	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
INFO   | jvm     |   | 	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
INFO   | jvm     |   | 	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
INFO   | jvm     |   | 	at java.lang.reflect.Method.invokeMethod.java
INFO   | jvm     |   | 	at org.apache.cxf.service.invoker.AbstractInvoker.performInvocationAbstractInvoker.java
INFO   | jvm     |   | 	at org.apache.cxf.service.invoker.AbstractInvoker.invokeAbstractInvoker.java
INFO   | jvm     |   | 	at org.apache.cxf.jaxrs.JAXRSInvoker.invokeJAXRSInvoker.java
INFO   | jvm     |   | 	at org.apache.cxf.jaxrs.JAXRSInvoker.invokeJAXRSInvoker.java
INFO   | jvm     |   | 	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$.runServiceInvokerInterceptor.java
INFO   | jvm     |   | 	at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessageServiceInvokerInterceptor.java
INFO   | jvm     |   | 	at org.apache.cxf.phase.PhaseInterceptorChain.doInterceptPhaseInterceptorChain.java
INFO   | jvm     |   | 	- locked xef a org.apache.cxf.phase.PhaseInterceptorChain
INFO   | jvm     |   | 	at org.apache.cxf.transport.ChainInitiationObserver.onMessageChainInitiationObserver.java
INFO   | jvm     |   | 	at org.apache.cxf.transport.http.AbstractHTTPDestination.invokeAbstractHTTPDestination.java
INFO   | jvm     |   | 	at org.apache.cxf.transport.servlet.ServletController.invokeDestinationServletController.java
INFO   | jvm     |   | 	at org.apache.cxf.transport.servlet.ServletController.invokeServletController.java
INFO   | jvm     |   | 	at org.apache.cxf.transport.servlet.ServletController.invokeServletController.java
INFO   | jvm     |   | 	at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invokeCXFNonSpringServlet.java
INFO   | jvm     |   | 	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequestAbstractHTTPServlet.java
INFO   | jvm     |   | 	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doGetAbstractHTTPServlet.java
INFO   | jvm     |   | 	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
INFO   | jvm     |   | 	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.serviceAbstractHTTPServlet.java
INFO   | jvm     |   | 	at org.eclipse.jetty.servlet.ServletHolder.handleServletHolder.java
INFO   | jvm     |   | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
INFO   | jvm     |   | 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternalCharacterEncodingFilter.java
INFO   | jvm     |   | 	at org.springframework.web.filter.OncePerRequestFilter.doFilterOncePerRequestFilter.java
INFO   | jvm     |   | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
INFO   | jvm     |   | 	at org.eclipse.jetty.servlet.ServletHandler.doHandleServletHandler.java
INFO   | jvm     |   | 	at org.eclipse.jetty.server.handler.ScopedHandler.handleScopedHandler.java
INFO   | jvm     |   | 	at org.eclipse.jetty.security.SecurityHandler.handleSecurityHandler.java
INFO   | jvm     |   | 	at org.eclipse.jetty.server.session.SessionHandler.doHandleSessionHandler.java
INFO   | jvm     |   | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandleContextHandler.java
INFO   | jvm     |   | 	at org.eclipse.jetty.servlet.ServletHandler.doScopeServletHandler.java
INFO   | jvm     |   | 	at org.eclipse.jetty.server.session.SessionHandler.doScopeSessionHandler.java
INFO   | jvm     |   | 	at org.eclipse.jetty.server.handler.ContextHandler.doScopeContextHandler.java
INFO   | jvm     |   | 	at org.eclipse.jetty.server.handler.ScopedHandler.handleScopedHandler.java
INFO   | jvm     |   | 	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handleContextHandlerCollection.java
INFO   | jvm     |   | 	at org.eclipse.jetty.server.handler.HandlerCollection.handleHandlerCollection.java
INFO   | jvm     |   | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handleHandlerWrapper.java
INFO   | jvm     |   | 	at org.eclipse.jetty.server.Server.handleServer.java
INFO   | jvm     |   | 	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequestAbstractHttpConnection.java
INFO   | jvm     |   | 	at org.eclipse.jetty.server.AbstractHttpConnection.headerCompleteAbstractHttpConnection.java
INFO   | jvm     |   | 	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerCompleteAbstractHttpConnection.java
INFO   | jvm     |   | 	at org.eclipse.jetty.http.HttpParser.parseNextHttpParser.java
INFO   | jvm     |   | 	at org.eclipse.jetty.http.HttpParser.parseAvailableHttpParser.java
INFO   | jvm     |   | 	at org.eclipse.jetty.server.AsyncHttpConnection.handleAsyncHttpConnection.java
INFO   | jvm     |   | 	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handleSelectChannelEndPoint.java
INFO   | jvm     |   | 	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$.runSelectChannelEndPoint.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJobQueuedThreadPool.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$.runQueuedThreadPool.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""qtp-""  prio os_prio tidxfbaf nidxef waiting on condition xfbabdd
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xeaafd a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.BlockingArrayQueue.pollBlockingArrayQueue.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPollQueuedThreadPool.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.access$QueuedThreadPool.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$.runQueuedThreadPool.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""qtp-""  prio os_prio tidxfbadca nidxef waiting on condition xfbaf
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xeaafd a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.BlockingArrayQueue.pollBlockingArrayQueue.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPollQueuedThreadPool.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.access$QueuedThreadPool.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$.runQueuedThreadPool.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""pool--thread-""  prio os_prio tidxfbacc nidxef waiting on condition xfbabdf
INFO   | jvm     |   |    java.lang.Thread.State WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xec a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.LinkedBlockingQueue.takeLinkedBlockingQueue.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""pool--thread-""  prio os_prio tidxfbaf nidxef waiting on condition xfbafa
INFO   | jvm     |   |    java.lang.Thread.State WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xeca a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.LinkedBlockingQueue.takeLinkedBlockingQueue.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Scanner-""  daemon prio os_prio tidxfbaddd nidxeef in Object.wait xfbabdb
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	at java.util.TimerThread.mainLoopTimer.java
INFO   | jvm     |   | 	- locked xece a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.runTimer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Thread-""  daemon prio os_prio tidxfbada nidxeee runnable xfbabdc
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xeb a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.LinkedBlockingQueue.pollLinkedBlockingQueue.java
INFO   | jvm     |   | 	at org.apache.archiva.redback.components.taskqueue.DefaultTaskQueue.pollDefaultTaskQueue.java
INFO   | jvm     |   | 	at org.apache.archiva.redback.components.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.runThreadedTaskQueueExecutor.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""springScheduler-""  prio os_prio tidxfbadb nidxeed waiting on condition xfbabdd
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xebcdbe a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""springScheduler-""  prio os_prio tidxfbada nidxeec waiting on condition xfbabde
INFO   | jvm     |   |    java.lang.Thread.State WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xebcdbe a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Thread-""  daemon prio os_prio tidxfbadab nidxeeb runnable xfbabe
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xebdf a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.LinkedBlockingQueue.pollLinkedBlockingQueue.java
INFO   | jvm     |   | 	at org.apache.archiva.redback.components.taskqueue.DefaultTaskQueue.pollDefaultTaskQueue.java
INFO   | jvm     |   | 	at org.apache.archiva.redback.components.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.runThreadedTaskQueueExecutor.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Statistics Thread-ldapRoles-""  daemon prio os_prio tidxfbade nidxeea waiting on condition xfbabe
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xebd a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""ldapRoles""  daemon prio os_prio tidxfbade nidxee in Object.wait xfbabe
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	- waiting on xebdc a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.mainLoopTimer.java
INFO   | jvm     |   | 	- locked xebdc a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.runTimer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Statistics Thread-ldapUserDnCache-""  daemon prio os_prio tidxfbadef nidxee waiting on condition xfbabe
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xebd a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""ldapUserDnCache""  daemon prio os_prio tidxfbadef nidxee in Object.wait xfbabe
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	- waiting on xebdb a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.mainLoopTimer.java
INFO   | jvm     |   | 	- locked xebdb a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.runTimer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Statistics Thread-ldapUsersCache-""  daemon prio os_prio tidxfbadef nidxee waiting on condition xfbabe
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xebd a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""ldapUsersCache""  daemon prio os_prio tidxfbadef nidxee in Object.wait xfbabeab
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	- waiting on xebdbc a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.mainLoopTimer.java
INFO   | jvm     |   | 	- locked xebdbc a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.runTimer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Statistics Thread-keys-""  daemon prio os_prio tidxfbadeee nidxee waiting on condition xfbabea
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xebdd a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""keys""  daemon prio os_prio tidxfbadedf nidxedf in Object.wait xfbabebc
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	- waiting on xebdfd a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.mainLoopTimer.java
INFO   | jvm     |   | 	- locked xebdfd a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.runTimer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""derby.rawStoreDaemon""  daemon prio os_prio tidxfbada nidxede in Object.wait xfbabfd
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	at org.apache.derby.impl.services.daemon.BasicDaemon.restUnknown Source
INFO   | jvm     |   | 	- locked xebdf a org.apache.derby.impl.services.daemon.BasicDaemon
INFO   | jvm     |   | 	at org.apache.derby.impl.services.daemon.BasicDaemon.runUnknown Source
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Timer-""  daemon prio os_prio tidxfbadadc nidxedd in Object.wait xfbabfbe
INFO   | jvm     |   |    java.lang.Thread.State WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	- waiting on xebdb a java.util.TaskQueue
INFO   | jvm     |   | 	at java.lang.Object.waitObject.java
INFO   | jvm     |   | 	at java.util.TimerThread.mainLoopTimer.java
INFO   | jvm     |   | 	- locked xebdb a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.runTimer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""PoolCleaner""  daemon prio os_prio tidxfbada nidxedc in Object.wait xfbabfef
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	at java.util.TimerThread.mainLoopTimer.java
INFO   | jvm     |   | 	- locked xebd a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.runTimer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Statistics Thread-__DEFAULT__-""  daemon prio os_prio tidxfbada nidxeda waiting on condition xfbabff
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xebd a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""__DEFAULT__""  daemon prio os_prio tidxfbadaf nidxed in Object.wait xfbac
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	- waiting on xebd a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.mainLoopTimer.java
INFO   | jvm     |   | 	- locked xebd a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.runTimer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Statistics Thread-effectiveRoleSet-""  daemon prio os_prio tidxfbadfec nidxed waiting on condition xfbac
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xebda a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""effectiveRoleSet""  daemon prio os_prio tidxfbadfe nidxed in Object.wait xfbac
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	- waiting on xebdc a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.mainLoopTimer.java
INFO   | jvm     |   | 	- locked xebdc a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.runTimer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Statistics Thread-userPermissions-""  daemon prio os_prio tidxfbadfe nidxed waiting on condition xfbac
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xebde a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""userPermissions""  daemon prio os_prio tidxfbadfe nidxed in Object.wait xfbac
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	- waiting on xebd a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.mainLoopTimer.java
INFO   | jvm     |   | 	- locked xebd a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.runTimer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Statistics Thread-userAssignments-""  daemon prio os_prio tidxfbadfe nidxed waiting on condition xfbac
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xebd a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""userAssignments""  daemon prio os_prio tidxfbadfdf nidxed in Object.wait xfbac
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	- waiting on xebd a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.mainLoopTimer.java
INFO   | jvm     |   | 	- locked xebd a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.runTimer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Statistics Thread-roles-""  daemon prio os_prio tidxfbadfe nidxecf waiting on condition xfbac
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xebd a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""roles""  daemon prio os_prio tidxfbadfdc nidxecd in Object.wait xfbacba
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	- waiting on xebda a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.mainLoopTimer.java
INFO   | jvm     |   | 	- locked xebda a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.runTimer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Statistics Thread-resources-""  daemon prio os_prio tidxfbadfde nidxecc waiting on condition xfbaca
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xebda a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""resources""  daemon prio os_prio tidxfbadfc nidxeca in Object.wait xfbacdc
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	- waiting on xebdcb a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.mainLoopTimer.java
INFO   | jvm     |   | 	- locked xebdcb a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.runTimer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Statistics Thread-permissions-""  daemon prio os_prio tidxfbadfca nidxec waiting on condition xfbaccb
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xebde a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""permissions""  daemon prio os_prio tidxfbadfad nidxec in Object.wait xfbacfe
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	- waiting on xebdc a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.mainLoopTimer.java
INFO   | jvm     |   | 	- locked xebdc a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.runTimer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Statistics Thread-operations-""  daemon prio os_prio tidxfbadfae nidxec waiting on condition xfbaced
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xebefe a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""operations""  daemon prio os_prio tidxfbadfa nidxec in Object.wait xfbac
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	- waiting on xebef a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.mainLoopTimer.java
INFO   | jvm     |   | 	- locked xebef a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.runTimer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Statistics Thread-usersCache-""  daemon prio os_prio tidxfbadf nidxec waiting on condition xfbacf
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xebeff a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""usersCache""  daemon prio os_prio tidxfbadf nidxec in Object.wait xfbac
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	- waiting on xebefc a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.mainLoopTimer.java
INFO   | jvm     |   | 	- locked xebefc a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.runTimer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Timer-""  daemon prio os_prio tidxfbadfb nidxec in Object.wait xfbac
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	- waiting on xebefe a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.mainLoopTimer.java
INFO   | jvm     |   | 	- locked xebefe a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.runTimer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""scheduler_QuartzSchedulerThread""  prio os_prio tidxfbadf nidxebf in Object.wait xfbac
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	at org.quartz.core.QuartzSchedulerThread.runQuartzSchedulerThread.java
INFO   | jvm     |   | 	- locked xebf a java.lang.Object
INFO   | jvm     |   | 
INFO   | jvm     |   | ""scheduler_Worker-""  prio os_prio tidxfbadfc nidxebe in Object.wait xfbac
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	at org.quartz.simpl.SimpleThreadPool$WorkerThread.runSimpleThreadPool.java
INFO   | jvm     |   | 	- locked xebfa a java.lang.Object
INFO   | jvm     |   | 
INFO   | jvm     |   | ""scheduler_Worker-""  prio os_prio tidxfbadf nidxebd in Object.wait xfbac
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	at org.quartz.simpl.SimpleThreadPool$WorkerThread.runSimpleThreadPool.java
INFO   | jvm     |   | 	- locked xebf a java.lang.Object
INFO   | jvm     |   | 
INFO   | jvm     |   | ""ObservationManager""  daemon prio os_prio tidxfbaddff nidxebc in Object.wait xfbac
INFO   | jvm     |   |    java.lang.Thread.State WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	- waiting on xebfd a org.apache.commons.collections.buffer.BlockingBuffer
INFO   | jvm     |   | 	at java.lang.Object.waitObject.java
INFO   | jvm     |   | 	at org.apache.commons.collections.buffer.BlockingBuffer.removeBlockingBuffer.java
INFO   | jvm     |   | 	- locked xebfd a org.apache.commons.collections.buffer.BlockingBuffer
INFO   | jvm     |   | 	at org.apache.jackrabbit.core.observation.ObservationDispatcher.runObservationDispatcher.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""jackrabbit-pool-""  daemon prio os_prio tidxfbaddc nidxebb waiting on condition xfbaca
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xebfa a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""ObservationManager""  daemon prio os_prio tidxfbadd nidxeba in Object.wait xfbacd
INFO   | jvm     |   |    java.lang.Thread.State WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	at java.lang.Object.waitObject.java
INFO   | jvm     |   | 	at org.apache.commons.collections.buffer.BlockingBuffer.removeBlockingBuffer.java
INFO   | jvm     |   | 	- locked xebfe a org.apache.commons.collections.buffer.BlockingBuffer
INFO   | jvm     |   | 	at org.apache.jackrabbit.core.observation.ObservationDispatcher.runObservationDispatcher.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""jackrabbit-pool-""  daemon prio os_prio tidxfbadca nidxeb waiting on condition xfbace
INFO   | jvm     |   |    java.lang.Thread.State WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xebfa a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Statistics Thread-namespaces-""  daemon prio os_prio tidxfbadcf nidxeb waiting on condition xfbaca
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xebfc a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""namespaces""  daemon prio os_prio tidxfbadcd nidxeb in Object.wait xfbacb
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	- waiting on xebfea a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.mainLoopTimer.java
INFO   | jvm     |   | 	- locked xebfea a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.runTimer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Statistics Thread-url-failures-cache-""  daemon prio os_prio tidxfbadbd nidxeb waiting on condition xfbacc
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xebb a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""url-failures-cache.data""  prio os_prio tidxfbadbb nidxeb waiting on condition xfbacd
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xeafc a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.takeScheduledThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.getTaskThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""url-failures-cache""  daemon prio os_prio tidxfbadb nidxeb in Object.wait xfbacf
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	- waiting on xeafaff a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.mainLoopTimer.java
INFO   | jvm     |   | 	- locked xeafaff a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.runTimer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""GC Daemon""  daemon prio os_prio tidxfbade nidxeb in Object.wait xfbafb
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	at sun.misc.GC$Daemon.runGC.java
INFO   | jvm     |   | 	- locked xeadaf a sun.misc.GC$LatencyLock
INFO   | jvm     |   | 
INFO   | jvm     |   | ""HashSessionScavenger-""  daemon prio os_prio tidxfbadda nidxeaf in Object.wait xfbaffe
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	at java.util.TimerThread.mainLoopTimer.java
INFO   | jvm     |   | 	- locked xeadedd a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.runTimer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""qtp-""  prio os_prio tidxfbada nidxead waiting on condition xfbaedfc
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xeaafd a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.BlockingArrayQueue.pollBlockingArrayQueue.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPollQueuedThreadPool.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.access$QueuedThreadPool.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$.runQueuedThreadPool.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""qtp-""  prio os_prio tidxfbad nidxeab waiting on condition xfbaeffe
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xeaafd a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.BlockingArrayQueue.pollBlockingArrayQueue.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPollQueuedThreadPool.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.access$QueuedThreadPool.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$.runQueuedThreadPool.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""qtp-""  prio os_prio tidxfbad nidxea waiting on condition xfbaf
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING parking
INFO   | jvm     |   | 	at sun.misc.Unsafe.parkNative Method
INFO   | jvm     |   | 	- parking to wait for  xeaafd a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject
INFO   | jvm     |   | 	at java.util.concurrent.locks.LockSupport.parkNanosLockSupport.java
INFO   | jvm     |   | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanosAbstractQueuedSynchronizer.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.BlockingArrayQueue.pollBlockingArrayQueue.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPollQueuedThreadPool.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.access$QueuedThreadPool.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$.runQueuedThreadPool.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""qtp- Acceptor SelectChannelConnector@...""  prio os_prio tidxfbad nidxea runnable xfbaf
INFO   | jvm     |   |    java.lang.Thread.State RUNNABLE
INFO   | jvm     |   | 	at sun.nio.ch.ServerSocketChannelImpl.acceptNative Method
INFO   | jvm     |   | 	at sun.nio.ch.ServerSocketChannelImpl.acceptServerSocketChannelImpl.java
INFO   | jvm     |   | 	at sun.nio.ch.ServerSocketChannelImpl.acceptServerSocketChannelImpl.java
INFO   | jvm     |   | 	- locked xec a java.lang.Object
INFO   | jvm     |   | 	at org.eclipse.jetty.server.nio.SelectChannelConnector.acceptSelectChannelConnector.java
INFO   | jvm     |   | 	at org.eclipse.jetty.server.AbstractConnector$Acceptor.runAbstractConnector.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJobQueuedThreadPool.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$.runQueuedThreadPool.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""qtp- Acceptor SelectChannelConnector@...""  prio os_prio tidxfbadf nidxea waiting for monitor entry xfbaf
INFO   | jvm     |   |    java.lang.Thread.State BLOCKED on object monitor
INFO   | jvm     |   | 	at sun.nio.ch.ServerSocketChannelImpl.acceptServerSocketChannelImpl.java
INFO   | jvm     |   | 	- waiting to lock xec a java.lang.Object
INFO   | jvm     |   | 	at org.eclipse.jetty.server.nio.SelectChannelConnector.acceptSelectChannelConnector.java
INFO   | jvm     |   | 	at org.eclipse.jetty.server.AbstractConnector$Acceptor.runAbstractConnector.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJobQueuedThreadPool.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$.runQueuedThreadPool.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""qtp- Selector""  prio os_prio tidxfbadd nidxea runnable xfbaf
INFO   | jvm     |   |    java.lang.Thread.State RUNNABLE
INFO   | jvm     |   | 	at sun.nio.ch.EPollArrayWrapper.epollWaitNative Method
INFO   | jvm     |   | 	at sun.nio.ch.EPollArrayWrapper.pollEPollArrayWrapper.java
INFO   | jvm     |   | 	at sun.nio.ch.EPollSelectorImpl.doSelectEPollSelectorImpl.java
INFO   | jvm     |   | 	at sun.nio.ch.SelectorImpl.lockAndDoSelectSelectorImpl.java
INFO   | jvm     |   | 	- locked xec a sun.nio.ch.Util$
INFO   | jvm     |   | 	- locked xec a java.util.Collections$UnmodifiableSet
INFO   | jvm     |   | 	- locked xec a sun.nio.ch.EPollSelectorImpl
INFO   | jvm     |   | 	at sun.nio.ch.SelectorImpl.selectSelectorImpl.java
INFO   | jvm     |   | 	at org.eclipse.jetty.io.nio.SelectorManager$SelectSet.doSelectSelectorManager.java
INFO   | jvm     |   | 	at org.eclipse.jetty.io.nio.SelectorManager$.runSelectorManager.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJobQueuedThreadPool.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$.runQueuedThreadPool.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""qtp- Selector""  prio os_prio tidxfbadc nidxea runnable xfbaf
INFO   | jvm     |   |    java.lang.Thread.State RUNNABLE
INFO   | jvm     |   | 	at sun.nio.ch.EPollArrayWrapper.epollWaitNative Method
INFO   | jvm     |   | 	at sun.nio.ch.EPollArrayWrapper.pollEPollArrayWrapper.java
INFO   | jvm     |   | 	at sun.nio.ch.EPollSelectorImpl.doSelectEPollSelectorImpl.java
INFO   | jvm     |   | 	at sun.nio.ch.SelectorImpl.lockAndDoSelectSelectorImpl.java
INFO   | jvm     |   | 	- locked xecd a sun.nio.ch.Util$
INFO   | jvm     |   | 	- locked xecc a java.util.Collections$UnmodifiableSet
INFO   | jvm     |   | 	- locked xece a sun.nio.ch.EPollSelectorImpl
INFO   | jvm     |   | 	at sun.nio.ch.SelectorImpl.selectSelectorImpl.java
INFO   | jvm     |   | 	at org.eclipse.jetty.io.nio.SelectorManager$SelectSet.doSelectSelectorManager.java
INFO   | jvm     |   | 	at org.eclipse.jetty.io.nio.SelectorManager$.runSelectorManager.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJobQueuedThreadPool.java
INFO   | jvm     |   | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$.runQueuedThreadPool.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""org.eclipse.jetty.util.RolloverFileOutputStream""  daemon prio os_prio tidxfbad nidxea in Object.wait xfbafa
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	at java.util.TimerThread.mainLoopTimer.java
INFO   | jvm     |   | 	- locked xeaafbe a java.util.TaskQueue
INFO   | jvm     |   | 	at java.util.TimerThread.runTimer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""DestroyJavaVM""  prio os_prio tidxfbafb nidxe waiting on condition x
INFO   | jvm     |   |    java.lang.Thread.State RUNNABLE
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Wrapper-Connection""  daemon prio os_prio tidxfbaf nidxea runnable xfbafed
INFO   | jvm     |   |    java.lang.Thread.State RUNNABLE
INFO   | jvm     |   | 	at java.net.SocketInputStream.socketReadNative Method
INFO   | jvm     |   | 	at java.net.SocketInputStream.socketReadSocketInputStream.java
INFO   | jvm     |   | 	at java.net.SocketInputStream.readSocketInputStream.java
INFO   | jvm     |   | 	at java.net.SocketInputStream.readSocketInputStream.java
INFO   | jvm     |   | 	at java.net.SocketInputStream.readSocketInputStream.java
INFO   | jvm     |   | 	at java.io.DataInputStream.readByteDataInputStream.java
INFO   | jvm     |   | 	at org.tanukisoftware.wrapper.WrapperManager.handleSocketWrapperManager.java
INFO   | jvm     |   | 	at org.tanukisoftware.wrapper.WrapperManager.runWrapperManager.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Wrapper-Control-Event-Monitor""  daemon prio os_prio tidxfbaf nidxef sleepingxfbaff
INFO   | jvm     |   |    java.lang.Thread.State TIMED_WAITING sleeping
INFO   | jvm     |   | 	at java.lang.Thread.sleepNative Method
INFO   | jvm     |   | 	at org.tanukisoftware.wrapper.WrapperManager$.runWrapperManager.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Service Thread""  daemon prio os_prio tidxfbafb nidxed runnable x
INFO   | jvm     |   |    java.lang.Thread.State RUNNABLE
INFO   | jvm     |   | 
INFO   | jvm     |   | ""C CompilerThread""  daemon prio os_prio tidxfbafb nidxec waiting on condition x
INFO   | jvm     |   |    java.lang.Thread.State RUNNABLE
INFO   | jvm     |   | 
INFO   | jvm     |   | ""C CompilerThread""  daemon prio os_prio tidxfbafb nidxeb waiting on condition x
INFO   | jvm     |   |    java.lang.Thread.State RUNNABLE
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Signal Dispatcher""  daemon prio os_prio tidxfbafaf nidxea waiting on condition x
INFO   | jvm     |   |    java.lang.Thread.State RUNNABLE
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Finalizer""  daemon prio os_prio tidxfbaf nidxe in Object.wait xfbafaa
INFO   | jvm     |   |    java.lang.Thread.State WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	at java.lang.ref.ReferenceQueue.removeReferenceQueue.java
INFO   | jvm     |   | 	- locked xeaaf a java.lang.ref.ReferenceQueue$Lock
INFO   | jvm     |   | 	at java.lang.ref.ReferenceQueue.removeReferenceQueue.java
INFO   | jvm     |   | 	at java.lang.ref.Finalizer$FinalizerThread.runFinalizer.java
INFO   | jvm     |   | 
INFO   | jvm     |   | ""Reference Handler""  daemon prio os_prio tidxfbaf nidxe in Object.wait xfbafba
INFO   | jvm     |   |    java.lang.Thread.State WAITING on object monitor
INFO   | jvm     |   | 	at java.lang.Object.waitNative Method
INFO   | jvm     |   | 	at java.lang.Object.waitObject.java
INFO   | jvm     |   | 	at java.lang.ref.Reference$ReferenceHandler.runReference.java
INFO   | jvm     |   | 	- locked xeaaf a java.lang.ref.Reference$Lock
INFO   | jvm     |   | 
INFO   | jvm     |   | ""VM Thread"" os_prio tidxfbaff nidxe runnable 
INFO   | jvm     |   | 
INFO   | jvm     |   | ""VM Periodic Task Thread"" os_prio tidxfbafba nidxee waiting on condition 
INFO   | jvm     |   | 
INFO   | jvm     |   | JNI global references 
INFO   | jvm     |   | 
INFO   | jvm     |   | Heap
INFO   | jvm     |   |  def new generation   total K, used K xe, xeaaa, xeaaa
INFO   | jvm     |   |   eden space K,   used xe, xef, xe
INFO   | jvm     |   |   from space K,   used xe, xeb, xe
INFO   | jvm     |   |   to   space K,    used xe, xe, xeaaa
INFO   | jvm     |   |  tenured generation   total K, used K xeaaa, x, x
INFO   | jvm     |   |    the space K,   used xeaaa, xf, xf, x
INFO   | jvm     |   |  Metaspace       used K, capacity K, committed K, reserved K
INFO   | jvm     |   |   class space    used K, capacity K, committed K, reserved K
INFO   | jvm     |   | 

 optapache-archiva-..logsarchiva.log 
-- , qtp- INFO  org.apache.archiva.webdav.RepositoryServlet  - initServers done in Â ms
-- , qtp- INFO  org.apache.archiva.webdav.RepositoryServlet  - initServers done in Â ms
{code}
",Bug
"Invalid link to license The page archiva.apache.orgdownload.cgi has a link

Archiva is distributed under the a class""externalLink"" href""httparchiva.apache.orglicense.html}""Apache License, version .a.

There are two problems with that link.
 it is broken - spurious } at the end
 sites must link to httpwww.apache.orglicenses
 ",Bug
"RepositoryScannerTesttestDefaultRepositoryScanner fails on Linux with src release zip Running mvn clean install on the Archiva .. source zip causes one
test to fail

testDefaultRepositoryScannerorg.apache.archiva.repository.scanner.RepositoryScannerTest
 Time elapsed . sec   FAILURE!
junit.framework.AssertionFailedError Processed Count of invalid
items expected but was
    at junit.framework.Assert.failAssert.java
    at junit.framework.Assert.failNotEqualsAssert.java
    at junit.framework.Assert.assertEqualsAssert.java
    at junit.framework.Assert.assertEqualsAssert.java
    at junit.framework.TestCase.assertEqualsTestCase.java
    at org.apache.archiva.repository.scanner.RepositoryScannerTest.testDefaultRepositoryScannerRepositoryScannerTest.java

Results 

Failed tests
  RepositoryScannerTest.testDefaultRepositoryScanner Processed
Count of invalid items expected but was

All other tests pass.

Could this be an OS-specific issue",Bug
"No LDAP groups to map to roles, cannot login with LDAP authentication - connection to LDAP server tested using buttons on UsersRuntimeConfiguration - LDAP tab. It is working.
- on UsersRuntimeConfiguration - LDAPRoles Mapping I am not able to find any LDAP group to map
- I am not able to login any LDAP user. When logging in,  lines with ""INFO  org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator  - user test authenticated"" are logged into logsarchiva.log and another  messages ""Could not find object. Type org.apache.archiva.redback.users.jdo.JdoUser. Id test."" are shown in login dialog as red error messages
",Bug
"Metadata generation issues when dependencies have version ranges I have many published artifacts with dependencies that have version ranges, e.g.

{codexml}
    dependency
      groupIdnet.solarnetwork.nodegroupId
      artifactIdnet.solarnetwork.nodeartifactId
      version.,.version
      scopecompilescope
    dependency
{codexml}

It seems any dependency specified as a range is causing metadata scanning to fail and cause erratic behavior. I see errors in the log such as

{noformat}
org.apache.jackrabbit.spi.commons.conversion.MalformedPathException net.solarnetwork.node;net.solarnetwork.node-.,..jar is not a valid path.  not a valid name character.
	at org.apache.jackrabbit.spi.commons.conversion.PathParser.parsePathParser.java jackrabbit-spi-commons-...jar
	at org.apache.jackrabbit.spi.commons.conversion.PathParser.parsePathParser.java jackrabbit-spi-commons-...jar
	at org.apache.jackrabbit.spi.commons.conversion.ParsingPathResolver.getQPathParsingPathResolver.java jackrabbit-spi-commons-...jar
	at org.apache.jackrabbit.spi.commons.conversion.CachingPathResolver.getQPathCachingPathResolver.java jackrabbit-spi-commons-...jar
	at org.apache.jackrabbit.spi.commons.conversion.CachingPathResolver.getQPathCachingPathResolver.java jackrabbit-spi-commons-...jar
	at org.apache.jackrabbit.spi.commons.conversion.DefaultNamePathResolver.getQPathDefaultNamePathResolver.java jackrabbit-spi-commons-...jar
	at org.apache.jackrabbit.core.SessionImpl.getQPathSessionImpl.java jackrabbit-core-...jar..
	at org.apache.jackrabbit.core.session.SessionContext.getQPathSessionContext.java jackrabbit-core-...jar..
	at org.apache.jackrabbit.core.NodeImpl.resolveRelativePathNodeImpl.java jackrabbit-core-...jar..
	at org.apache.jackrabbit.core.NodeImpl.resolveRelativeNodePathNodeImpl.java jackrabbit-core-...jar..
	at org.apache.jackrabbit.core.NodeImpl.hasNodeNodeImpl.java jackrabbit-core-...jar..
	at org.apache.jackrabbit.commons.JcrUtils.getOrAddNodeJcrUtils.java jackrabbit-jcr-commons-...jar
	at org.apache.jackrabbit.commons.JcrUtils.getOrAddNodeJcrUtils.java jackrabbit-jcr-commons-...jar
	at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.updateProjectVersionJcrMetadataRepository.java metadata-store-jcr-...jar
{noformat}

and

{noformat}
org.sonatype.aether.resolution.VersionRangeResolutionException No versions available for net.solarnetwork.nodenet.solarnetwork.nodejar.,. within specified range
        at org.sonatype.aether.impl.internal.DefaultDependencyCollector.processDefaultDependencyCollector.java aether-impl-...jar
        at org.sonatype.aether.impl.internal.DefaultDependencyCollector.collectDependenciesDefaultDependencyCollector.java aether-impl-...jar
        ...  more
{noformat}
",Bug
"Add support for Oracles Maven repository Please add support for Oracles Maven repository - httpmaven.oracle.com.
Both Artifactory and Nexus already support the peculiarities of this repository.
If Archiva already supports the Oracle Maven Repository, please update the documentation with the needed settings.",New_Feature
"UI shows some artifacts as folders and cant see the artifact page If you go to archiva-repository.apache.orgarchivaindex.htmlrequest_langenbrowseorg.apache.archiva youll see that there are some entries with the artifact icon folder with loupe and some with the folder icon, when they are all artifacts.

Clicking on the folder one causes the UI to keep navigating through inexistent versions, e.g. archiva-repository.apache.orgarchivaindex.htmlrequest_langenbrowseorg.apache.archiva.archiva-applet...-SNAPSHOT

In this case the artifacts are duplicated, listed both as a folder and as an artifact, but I have an Archiva instance where they only show as folders, so I cant see the browse artifact page for those anymore",Bug
"RepositoryGroup URL is not build using the Application URL The link to a Repository Group shown in the edit dialog is shown correctly but the underlying URL does not use the defined Application URL as prefix but the current URL of the browser.

The page shown in the attached screenshot was called using a direct URL of ""httpbgh-build-devrepo"" but the Application URL was defined as ""intranet.mycomp.comrepo"" which points to our intranet proxy that is routing the request to the direct URL.",Bug
"Sortable html items cannot be drag and drop - random Editing order on proxyconnectors pages is sometimes not possible due to error .  
This issue is not  reachable.

The major impact is on redbackruntimeconfig as you cannot select user managment.


On console output the following happens
TypeError $element.sortable is not a function
console link to  knockout-sortable line ",Bug
"""Remember me"" not working The remember me feature doesnt seem to work. I get logged out quite frequently didnt use a stopwatch, but about - minutes of inactivity are sufficient to log me out",Bug
"Error upon viewing Artifacts tab when browsing an artifact  The following error shows up in the logs

{quote}
org.apache.cxf.interceptor.Fault Not a valid artifact path in a Maven  repository, filename resolver-status.properties doesnt start with artifact ID my-app-isat
{quote}

Upon investigating, properties files are not included in the filter when retrieving the list of artifacts in the repository directory causing the error to occur. Only metadata, checksums, and signature files are currently included in the filter.

Additional note the resolver-status.properties file gets created when the dependency tree is built for snapshot artifacts in browse.",Bug
"download links for files mult-dot extensions incorrect in Browse view Weve found that the download links for tar.gz and .tar.bz files is missing the ""tar"" in the download link in the latest version of Archiva.  We recently upgraded from Archiva .. to ...  This issue occurs both for artifacts that were uploaded before the upgrade as well as for artifacts uploaded after the upgrade.

To illustrate this, I created a simple test case where I uploaded a sample .tar.gz with and without a classifer and .tar.bz file with different SNAPSHOT versions.  When navigating the repository directory structure directly, we can see that the files were uploaded correctly.  The tree SNAPSHOT directories are shown as following in my web browser

Collection commydomaintestjna.-SNAPSHOT

commydomaintestjna Parent
Name	Size Bytes	Last Modified
jna-.-.--aix.tar.gz	  	  PM
jna-.-.--aix.tar.gz.md	  	  PM
jna-.-.--aix.tar.gz.sha	  	  PM
jna-.-.-.pom	  	  PM
jna-.-.-.pom.md	  	  PM
jna-.-.-.pom.sha	  	  PM
maven-metadata.xml	  	  PM
maven-metadata.xml.md	  	  PM
maven-metadata.xml.sha	  	  PM

Collection commydomaintestjna.-SNAPSHOT

commydomaintestjna Parent
Name	Size Bytes	Last Modified
jna-.-.-.pom	  	  PM
jna-.-.-.pom.md	  	  PM
jna-.-.-.pom.sha	  	  PM
jna-.-.-.tar.gz	  	  PM
jna-.-.-.tar.gz.md	  	  PM
jna-.-.-.tar.gz.sha	  	  PM
maven-metadata.xml	  	  PM
maven-metadata.xml.md	  	  PM
maven-metadata.xml.sha	  	  PM


Collection commydomaintestjna.-SNAPSHOT

commydomaintestjna Parent
Name	Size Bytes	Last Modified
jna-.-.-.pom	  	  PM
jna-.-.-.pom.md	  	  PM
jna-.-.-.pom.sha	  	  PM
jna-.-.-.tar.bz	  	  PM
jna-.-.-.tar.bz.md	  	  PM
jna-.-.-.tar.bz.sha	  	  PM
maven-metadata.xml	  	  PM
maven-metadata.xml.md	  	  PM
maven-metadata.xml.sha	  	  PM


When we choose the Browse option, navigate to the artifacts, go to the ""Artifacts"" tab, and try to download the archives, though, none of the links for the .tar.gz and .tar.bz files are correct.  Here is what the links are for each case and what the Artifacts tab shows

.-SNAPSHOT

display
tar.gz.-.- - . K

link
httpwww.myarchiva.comarchivarepositorysnapshotscommydomaintestjna.-SNAPSHOTjna-.-.--aix.gz

.-SNAPSHOT

display
tar.gz.-.- - . K

link
httpwww.myarchiva.comarchivarepositorysnapshotscommydomaintestjna.-SNAPSHOTjna-.-.-.gz

.-SNAPSHOT

display
tar.bz.-.- - . K

link
httpwww.myarchiva.comarchivarepositorysnapshotscommydomaintestjna.-SNAPSHOTjna-.-.-.bz


Note that .tar is missing from all of the links.",Bug
"Users - Manage section sort by name doesnt work as expected Recently, I was able to get Archiva working with Microsoft Active Directory.

The mapped BaseDn for groups returns a very large number of users although that BaseDn is way further down in the tree than the BaseDn that I actually need.  As a result, the ""Manage"" page has  boxes rendering at the bottom of the screen for page navigation.

Archiva is telling me that my AD user account is locked, but it isnt.  I can still use my AD account credentials for other apps, such as Continuum, Bloodhound, and Jenkins.  So, now Im trying to find my user by clicking on each of the  pages.

I tried to use Sort by Name, however it doesnt seem to sort Names alphabetically.  Actually, ""Name"" could imply ""User Name"" or ""Full Name"".

Ive attached a screen shot post-sort.",Bug
"rewrite RepositoryContentConsumer api To avoid issues such as MRM-
",Improvement
"Customised guest user for LDAP not working When using the following

{code}
redback.default.guestarchivaguest
{code}

I was unable to download anything without authentication. Renaming the LDAP user to {{guest}} and then changing the configuration solved the problem.

Note, it would still be great to not require this user at all, and just let guest be built-in instead",Bug
"Login Dialog triggers multiple events messages Steps to reproduce
 Open Archiva
 Open Login
 Enter wrong credentials

With every failed login the messages
a are shown twice
b multiply after every attempt first  messages, then  messages, then .

The action seems to be triggered more than once. After using false credentials  times, clicking on ""Password reset"", I got  mails from archiva.",Bug
Urls are not correctly constructed for artifacts with multiple extensions For instance foo-..pom.zip will assume extension is zip,Bug
Change default value of of AysncLogger strategy for logj async Block looks to be a better strategy to use.,Improvement
"Consumer Archetype not GAV not customisable Using consumer archetype this way

mvn archetypegenerate 
   -DarchetypeRepositoryrepo.maven.org 
   -DarchetypeGroupIdorg.apache.archiva 
   -DarchetypeArtifactIdarchiva-consumer-archetype 
   -DarchetypeVersion.. 

leads to a archetype created with GAV from release of archiva not the one you specify in the CLI or in IDE.

",Improvement
"Duplicate artifacts consumer  search in all the repositories Currently, it seems that duplcate-artifact consumer only seeks duplicate artifacts in the same repo, see the line below, from DuplicateArtifactsConsumer.java 

{code}
results  metadataRepository.getArtifactsByChecksum repoId, checksumSha ;
{code}

""repoId"" is specified in the methods arguments, so it means that the result only contains identical artifacts from this repo ...

When we have several repos not only one ""internal"" and one ""snapshots"", it would be really interested to look for duplications of the current artifact in all the ""release"" repos if the artifact is a release, or in all the ""snapshots"" repos if the artifact is a snapshot, not only in the repo of the current artifact.",Improvement
"Typos on download page There are several typos etc. on the download page.

""No minimum requirement""
change to ""Disk space required""

""Last Release serie ..x""
serie  series

However it is misleading to call it the ""Last"" Release.
Perhaps the writer meant ""Latest""
But that would also be misleading.
Why not call it

""Preview Release series ..x""

After all, that is what the comment says.

The download tables have the headings

Mirrors 	Checksum 	Signature
Mirros ...

The ""Mirrors"" column name is confusing. 
It would be better to rename it as ""Download from MIrror""
But at the very least please fix the mis-spelt ""Mirros"" ...",Bug
"automatical deletion of snapshot artifacts not working  In Repositories Administration web admin interface, when I edit the snapshot repository settings as follows

Cron Expression  ,    
Days Older      
Retention Count 

The number of versions held of a given snapshot artifact is , both after waiting for one day and after a new snapshot deployment. My understanding is that with the given setting it should be  instead.",Bug
"DOAP contains obsolete SVNRepository entries The DOAP for the project contains both SVNRepository and GitRepository entries.

However when a project moves to Git, the SVN repo is made read-only and is not kept up to date.

It is misleading to continue to publish SVN URIs which are not actually maintained.

The only exception might be where some parts of the source e.g. website have not been migrated to Git. In that case, there might be a case for including URIs that point to the part of the SVN repo that is still being maintained.

Please can you update the project DOAP accordingly

Thanks",Bug
"""Loading"" button never disappears when no one is logged in in some browsers I saw this in the following browsers

Google Chrome ... m
Firefox ESR .


I debugged this in my browser to a problem in main.js handling the case when the archiva_login cookie is not set and so $.cookiearchiva_login is not defined.  In that case, Archiva is trying to parse an undefined value and failing.  This causes getUserFromLogicCookie and startArchivaApplication... to terminate abnormally.  As a result, the Loading div never gets hidden.

Ive created a patch which fixes the issue for me.

Patch is for appsarchivajsarchivamain.js",Bug
"Service UnavailableHTTP ERROR  even after ""service archiva restart"" My Archiva service is running but when go to the archiva url i get the message

HTTP ERROR 

Problem accessing . Reason

    Service Unavailable
Powered by Jetty

logs file attached.

Please advice,",Bug
"archiva doesnt recognise ldap-group to ldap-users mapping Archiva doesnt recognize ldap-group to ldap-users mapping...
It seems that archiva doesnt know how mapping group-users in LDAP is done.
I defined mapping ldap-group to archiva-roles, however no ldap-user is authorized to read repository
{{-- , http-nio--exec- INFO  org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator  - user mzatko authenticated
-- , http-nio--exec- INFO  org.apache.archiva.security.ArchivaServletAuthenticator  - Authorization Denied ip,permissionarchiva-read-repository,repointernal  no matching permissions
}}",Bug
"Regression in ..  uniqueVersion false not supported When using maven .. and defining in the pom a snapshot repo configured with uniqueVersionfalse, the artifacts are published as artifact-x.y.z-null-buildNumber.jar, instead of artifact-x.y.z-SNAPSHOT.jar.

It used to work fine in ..x and .-M.
",Bug
"MD hashes are for wrong file name It seems that the provided MD file references the wrong filename. This is might be caused by repackaging the jar after build.

see
twitter.comarchivastatus

in MD
cddcdcfee  archiva-jetty-..-bin.tar.gz

should be
cddcdcfee  apache-archiva-..-bin.tar.gz

",Bug
"Text files are no longer indexed Even though {{.txt}} is listed in {{indexable-content}}, uploading a text file I used httpgit.apache.orgauthors.txt, then searching for content within it finds no results.

Is this no longer possible after the move to Maven indexer, or is something broken",Bug
"Users - Manage section filters dont seem to work Hi.  Since Ive connected Archiva to Microsoft AD, Ive been trying to find my user within the data table of users.  I can log in, so I know it has to be somewhere in there.  However, my current data set consists of  pages and will get bigger if Archiva can eventually handle larger user data sets.

Filtering has been very erratic for me.  Most of the time, filtering doesnt work for me at all.  Sometimes, Ive had it only filter the current user table page Im on.  Other times, Ive had it filter the entire data table, however not return my AD user.",Bug
"repository transitive dependency report repository tool to ensure that transitive dependencies will work. 

we basically need to know that every artifact that
is referenced in one POM is actually in the repository along with its
POM. We need to know that the dependency relationships among
all artifacts in the repository form a closed set. otherwise the
transitive dependency mechanism in m will break and we need to be wary
of this. eventually i would like to create graphical representations of
the dependencies amongst projects but this can come later. ",New_Feature
"some random ideas about the repository manager Heard about the repo manager on maven today. Sounds like a great idea. I am ""encouraging"" the myGrid and OMII people here in the UK to use m as their standard build platform. They are developing a semanticaly-aware directory component - URIs such as ws end-points are annotated in the directory and then clients can discover URIs of the type or with the properties that they would like. It would help myGrid to contribute to maven synergystically if a couple of bits of tech could be in-place in the repo manager.

 An RSS feed of all updates

 Full web-service interface to the repo manager

 M build-time support for attaching .owl or .rdf documents to artifacts, providing a semantic description of the artifact, which could then be imported into the directory. Perhaps part of the .owl  .rdf would be auto-generated by plugins and part would be under srcmainsemanticDescription.

We have hired a team of  developers and a manager to re-write the myGrid code - they have an explicit brief to do sw engineering rather than accademic coding. I would expect that if they use m extensively, that they would contribute to the project by submitting patches etc. like any good os citizens.

Sorry about the management speak - got my project managers hat on today.

httpwww.mygrid.org.uk
httpwww.omii.ac.uk",New_Feature
"utilise repository relocation information during conversion of an artifact we should allow some extra metdata in the m pom that can be recognised as relocation information

properties
  relocated.groupId 
  relocated.artifactId 
  relocated.version 
  relocated.message 
properties

when encountering this, the converted POM and JAR will go to the new location in the m repository, and the marker POM just the relocation information should go to the old location and any artifact there should be removed

This would allow us to move Jakarta commons en mass to the dotted groupId layout for example.",New_Feature
Repository Indexing Create a repository indexer using Lucene,New_Feature
"caching repository query interface need to be able to query the repository to see if artifacts exist, what versions are available, etc. This needs to interoperate with the indexing, and where applicable should cache information, balancing the need to keep a low memory overhead but avoid repetitive disk reads on metadata files.",New_Feature
"discover the deletion of artifacts currently, the discovery mechanism is geared to walking a source repository and insert into the target repository. However, there is no way to determine if an artifact has been removed. We may need to track this - potentially using metadata or the repository index.",Improvement
"syncopate needs to validate the incoming directory layout we need to validate a couple of things

 that the incoming content from sources is in the correct layout, and error on stuff that isnt. dist.codehaus.org are often offenders here eg httpwww.ibiblio.orgmavennon-codehaus

 we should probably restrict the group IDs synced, to prevent - for example - codehaus uploading Apache artifacts over the official ones

",Improvement
"create a second index with a subset of information, and have it compressed required for the eclipse plugin. Will need to follow up with Jason on exactly what data is required.",New_Feature
"Factorize pom conversion out of repoclean Take the conversion classes and move them to a separate project or maven model so they can be reused in other places, eg. a m-m plugin",Improvement
"add a background task scheduler we need to be able to schedule tasks. We should use quartz, and reuse code from Continuum that does similarly.

There needs to be a way to addremoveconfigure scheduled tasks such as indexing, report execution and syncing",New_Feature
add advanced search options we need to add the ability to query on particular fields and across some ranges.,New_Feature
"NPE in repoclean There was wrong logic in srcmainjavaorgapachemaventoolsrepocleanartifactmetadataProjectMetadata.java it returns null and it causes NPE. It should return information from artifact. 
Simple patch fixed this bug.",Bug
Use RepositoryIndexSearchLayer for searching in Packages Update PackageSearchAction to use RepositoryIndexSearchLayer and change search result page to use SearchResult class.,Bug
dont add duplicates to the index currently indexing an artifact that is already in the index will add it again. It should recognise its existence and update the existing record.,Bug
"Proxy should work transparently with either maven .x or .x repositories. Have the maven-proxy act as either a maven .x or maven .x repository, depending on which client accesses it. Brett believed this should be managable with aliasing.

This was originally posted as a maven-proxy feature at httpjira.codehaus.orgbrowseMAVENPROXY-
",New_Feature
"sync shouldnt use file sizes as basis - updated checksums are not resynced currently the sync from a partner repo does not reget checksums that have changed, so if they are created mistakenly they are not updated.

That said, we should be warned of an occurrence where such a file changes.",Bug
"report on duplicate jars in different parts of the repository maybe this should be a pre-condition to adding. I want to check that nobody adds a known JAR under their own group ID.

btw, Im not sure how the indexing will cope with this in terms of checksums if it is allowed to be added twice.

Might also try to detect some other similarities when the jars dont match exactly but are out of place.",Improvement
Use the plexus configuration for index and repository path Use same plexus configuration code in GeneralSearch for PackageSearchAction.,Improvement
"Remove generated model source code from repoclean project, use model dependencies instead. currently relies on generated model source which has been copied into the tool source tree. This can be cleaned up and two dependencies added for the two models, provided we find a way to have two mavenmaven-modelxxx artifacts side-by-side without generating a conflict and having only one added to the classpath.

This is housekeeping, since it works now.",Improvement
"deploy-bundle license files is unused in upload bundle should not be required License files are not uploaded anymore to the repo now that we switched to the m repository layout license is only specifed with an url in pom.xml, so a LICENSE.txt file should not be required in upload bundles.
The attached path removes the check for LICENSE.txt from the script.",Improvement
"use post commit hook instead of svn update for poms svn cat the newly committed file as a post commit hook and save it directly to the ""to-ibiblio"" directory, then create the checksums

the svn update is excessively slow and choking the box",Bug
"create a search result class for returning from search  instead of returning artifacts, return a search result class including artifact, classes, packages and files",Bug
"partial POM written even on exception I found I Was getting an CCE in the translator, and a partial pom was still written out to disk.",Bug
postgresql-..-jdbc.pom badly converted The m postgresql-..-jdbc.pom was renamed to postgresql-...pom in m,Bug
"ability to retrieve matched portion of classes, packages and files fields If searching by ""org.apache"", it would be good to just obtain the portions of the field that matched. This might require indexing one record per class. Need to investigate some more, and determine whether we are using that or can do something else.",Bug
"Handle java sources in upload bundles The attached patches will allow uploading of java sources to mm repositories

Patches for
- deploy-bundle handles upload bundles with sources and move them to the appropriare location in a m repo
- repoclean handles the ""sources"" classifier in order to sync the m repo
- msite guide-ibiblio-upload apt explain how to generate an upload bundles with sources
- msite repository-upload doc adds the source jar to the artifact list in the upload bundle jar
",Improvement
Make repoclean transform the m poms although jar files didnt change When changing or creating a pom in m repo it doesnt propagate to m repo if the jar timestamp is not updated or doesnt exist,Improvement
"POI directory structure incorrectly converted from m repo The POI files are in directories like
httpwww.ibiblio.orgmavenpoipoi-..-final
although the pom in m repo and the one in the m have a correct version tag ""..-final-""",Bug
"Repository Manager should have a means to remove old snapshot builds A nice feature for the MRM to have would be a way to set rules on when older SNAPSHOT builds of the form name-version-date.time.ext should be removed from the repository.  This could either be time based e.g. any builds older than a month or count based e.g. keep only the newest  builds.

In addition to the artifact itself, md and sha files should also be cleaned out.
",New_Feature
"resolve permissions issues with checksum applet It currently requires java.policy to be configured to work on IE.

I get an invocation target exception on Firefox, in addition to the java.policy requirement",Bug
"utilise repository relocation information to update dependencies since repoclean loads up all the poms it can know which have been relocated and automatically update the dependency information of some poms as they are converted.

I think this is appropriate, but maybe the original should be retained",New_Feature
"validator report if artifacts are out of place report if artifacts are out of place. you can tell this because in m
the POM is packaged with the artifact in META-INFmavenpom.xml so with
that information you can assess weather the artifact is in the right
location. this should not happen if tools are being used to deploy but
it would be a good check to have.",New_Feature
"Handle optional property Convert m

      properties
        optionaltrueoptional
      properties

to

        optionaltrueoptional
",Improvement
"repoclean overwrites valid poms with dummy poms when there was none in m repo I copied the wagon JARs from the m repo to the m repo so that m users could access them. However, repoclean detected they were newer and ""converted"" them, copying the JARs back to the original location where they already resided, and overwriting valid m poms with dummy groupIdartifactId only POMs because there were none in the m repo.",Bug
"Remove VersionedReferenceProjectReferenceArtifactReference from RepositoryProxyConnectors Remove VersionedReferenceProjectReferenceArtifactReference from RepositoryProxyConnectors.

Converting from request paths to VersionedReferenceProjectReferenceArtifactReference is not always  correct. ",Improvement
"""Unable to find project model"" although everything seems to be perfectly fine We had a problem with our m-repository which Archiva uses as its ""internal""-repository in such a way that we could not install artifacts from one of our projects into the repository. We would get the error ""Error installing artifacts metadata Error installing metadata Error updating group repository metadata input contained no data"" - obviously something messed up with the maven-metadata.xml or maven-metadata-local.xml. So I deleted this directory from the repository and built the project again - unfortunately now as before whenever I try to view the version-properties via ""browse"", I get the following error

""Unable to find project model for our.project.version.""

Looking into the log-file I find

-- , btpool- ERROR org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer - Unable to process model root.mrepositoryour.company.projectversionartifact-version.pom due to  javax.jdo.JDOUserException  Field org.apache.maven.archiva.model.Exclusion.artifactId
 is null, but is mandatory as its described in the jdo metadata
javax.jdo.JDOUserException Field org.apache.maven.archiva.model.Exclusion.artifactId is null, but is mandatory as its described in the jdo metadata
        at org.jpox.store.rdbms.fieldmanager.ParameterSetter.storeStringFieldParameterSetter.java
        at org.jpox.state.StateManagerImpl.providedStringFieldStateManagerImpl.java
        at org.apache.maven.archiva.model.Exclusion.jdoProvideFieldExclusion.java
        at org.apache.maven.archiva.model.Exclusion.jdoProvideFieldsExclusion.java
        at org.jpox.state.StateManagerImpl.provideFieldsStateManagerImpl.java
        at org.jpox.store.rdbms.request.InsertRequest.executeInsertRequest.java 

So I checked the pom which does not have an artifactId according to Archiva. There I find

xml version""."" encoding""UTF-""
project xmlns""httpmaven.apache.orgPOM.."" xmlnsxsi""httpwww.w.orgXMLSchema-instance""
  xsischemaLocation""httpmaven.apache.orgPOM.. httpmaven.apache.orgmaven-v__.xsd""

  modelVersion..modelVersion

  parent
    ...
  parent


  artifactIdARTIFACTartifactId
  packagingwarpackaging
  nameNamename

  build
  ...
  build
...
project

I.e. there is an artifactId in the pom.",Bug
Change the prompted message for users who do not have access to the repository Users that searches for artifacts in archiva that doesnt ha,Improvement
"switching timezones seems to confuse RSS I did the following on my laptop
- stopped running Archiva
- worked offline for a while
- switched timezones on my laptop
- rebooted, restarting Archiva in the process

I ended up with  updates in my RSS feed, dating back to September.

Im not sure if this is a feed reader problem because the times changed zone, or whether Archiva is setting them incorrectly.",Bug
"smtp values in security.properties not being taken into account. The SMTP settings email.smtp., listed in the security.properties file are not being taken into account when start Archiva in standalone. 

I was unable to get email to be sent via Archiva using the security.properties file located in $ARCHIVA_BASEconf. The ONLY way I was able to get this to work was by updating the jetty.xml file located in $ARCHIVA_BASEconf with the updated smtp host information. From what I read, you should be able to set any SMTP related values in the security.properties. This doesnt seem to be the case. Some email settings could be specified in the security.properties file but it doesnt seem consistent.
",Bug
"changing the consumers requires a restart it seems that at present the configuration notification is not reaching the consumer delegation. The specific one I was enabling was the repository purge.

This may be best targeted at . and a review of configuration and particularly change notification since there are a few gaps occurring. I believe rather than using a text string it would be better to simply inspect the relevant configuration on every change and let the configured object decide how to handle the event.

It would be best aligned to the upcoming event architecture as well",Improvement
"Changesof  property value in security.properties make Archiva crush When I change property security.policy.password.previous.count to zero and property security.policy.password.encoder is not defined it makes Archiva crushe with exception which refers to DefaultUserSecurityPolicy line  class from redback-policy library. The exception is not well infirmative and only debugging on library sources let me know where is the problem.

I think there should be any validation of properties in Archiva before they passed to third party libraries to avoid such situations",Bug
"Update documentation for search feature Include the following in the documentation
- changes in search s.a. searching within search results, pagination, exclusion of metadata.xml files from the index
- packageclassmethod name search in quick search
- advanced search ",Improvement
"Download via browser doesnt respect pom FinalName If a pom  of webapp project xxxx-.. includes a finalName entry yyyy, and i download the war from Archiva using browsing method , the
downloaded file is not called yyyy.war but xxxx-...war

FinalName in the pom is set to prevent this. 
When we installdeploy webapps , the war name is in relation with the final application URL
so it is important that this is set correctly



",Improvement
"logj config fails to log all errors The current logj config fails to log all errors. For example, my database update job was failing because of a ClassFormatException thrown when the index-public-methods consumer tried to parse an invalid classfile, but no mention appeared in the log.

This should be fixed as follows

. An appender-ref ref""rolling"" should be placed in the root logger.
. The appender-ref ref""rolling"" should be removed from all the other loggers.
. The attribute additivity""false"" should be added to the logger name""org.apache.archiva.AuditLog"" so that the audit logging does not go to the rolling appender despite it being configured on the root logger.

After this is done, any packages which are overly noise at info-level can be selectively overridden to warn-level.",Bug
"Direct connect proxy setting is ignored after undetermined event Our Archiva instance has trouble connecting to another internal repository.  Ive confirmed via packet sniffing that the HTTP request is going to our proxy server even though Ive configured this particular remote repository to use a direct connection.  Archiva works correctly for an undetermined time last time it was  days and then will suddenly and consistently exhibit the above symptoms.  The exception that is logged is below.  After Archiva is restarted the symptom will go away for a period of time and reappear.  The reappearance is unfortunately unpredictable at this time.

-- , btpool- WARN  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer error from repository ""wdig.releases"" for artifact com.go.trovetrove..pom, continuing to next repository. Error message Download failure on resource httpmaven.corp.dig.comarchivarepositoryinternalcomgotrovetrove..trove-...pomError transferring file cause java.io.IOException Server returned HTTP response code  for URL httpmaven.corp.dig.comarchivarepositoryinternalcomgotrovetrove..trove-...pom
-- , btpool- ERROR org.apache.maven.archiva.webdav.ArchivaDavResourceFactory  - Failures occurred downloading from some remote repositories
	wdig.releases Download failure on resource httpmaven.corp.dig.comarchivarepositoryinternalcomgotrovetrove..trove-...pomError transferring file cause java.io.IOException Server returned HTTP response code  for URL httpmaven.corp.dig.comarchivarepositoryinternalcomgotrovetrove..trove-...pom
org.apache.maven.archiva.policies.ProxyDownloadException Failures occurred downloading from some remote repositories
	wdig.releases Download failure on resource httpmaven.corp.dig.comarchivarepositoryinternalcomgotrovetrove..trove-...pomError transferring file cause java.io.IOException Server returned HTTP response code  for URL httpmaven.corp.dig.comarchivarepositoryinternalcomgotrovetrove..trove-...pom
	at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxiesDefaultRepositoryProxyConnectors.java
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxiesArchivaDavResourceFactory.java
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.doGetArchivaDavResourceFactory.java
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResourceArchivaDavResourceFactory.java
	at org.apache.maven.archiva.webdav.RepositoryServlet.serviceRepositoryServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.mortbay.jetty.Server.handleServer.java
	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
	at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
	at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
	at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
	at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java",Bug
"SMTP exceptions not being logged I uped the log level for every entry in WEB-INFclasseslogj.xml to debug and updated the SMTP host in $ARCHIVA_BASEconfjetty.xml to be badhostnamethingy and yet still no exception in any file located in $ARCHIVA_BASElogs.
",Bug
"Artifact information screen should indicate the origin of the artifact  Looking at the artifact info screen, there is no information related to how the artifact got there.  It would be great if this information could be tracked and made visible e.g. by which proxy connector was this artifact pulled from or the username if manually deployed.",Improvement
"NPE with rss links With LDAP, I get the following exception when I use the rss icon on the browse page

{noformat}
java.lang.NullPointerException
	org.apache.maven.archiva.security.DefaultUserRepositories.getObservableRepositoryIdsDefaultUserRepositories.java
	org.apache.maven.archiva.web.rss.RssFeedServlet.getObservableReposRssFeedServlet.java
	org.apache.maven.archiva.web.rss.RssFeedServlet.isAllowedRssFeedServlet.java
	org.apache.maven.archiva.web.rss.RssFeedServlet.doGetRssFeedServlet.java
	javax.servlet.http.HttpServlet.serviceHttpServlet.java
	javax.servlet.http.HttpServlet.serviceHttpServlet.java
	com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
{noformat}

My guest user have the global repository observer role but the login isnt guest so securitySystem.getUserManager.findUser principal  return null

Rss works fine if I use the repoId parameter on RssFessServlet instead of groupIdartifactId.
",Bug
"pom.xml could not be parsed if it contains an UTF-BOM I have several pom.xml files which contain a UTF-BOM character at the beginning of the file. These pom.xml files are processed by maven .. as expected. I can deploy to the repository as expected, the artifacts are indexed as expeced. But then I try to view the details of an artifact version, I get the message that the pom.xml could not be found. This is wrong.

The UTF-BOM is an ASCII code ",Bug
"results search option should only be available on results page the checkbox makes no sense on the original search page, so only show it on the results page.

In addition, it would be better labelled as ""search within results""",Bug
"Metadata update should honor proxy connector blacklisting If I have blacklisted pattern on a proxy connector like so

comatlassiantest

When the metadata is updated, it will merge the comatlassiantest metadata regardless of the blacklist.

MetadataTools should be modified so that metadata is merged only if it does not match an existing blacklist for that repository connector.",Bug
"Allow browsing by latest and release as defined in metadata Browse currently works by groupIdartifactIdversion, as in httpexample.comarchivabrowseorg.dbunitdbunit.. 

Id like the following urls to also work, and display the latest and release versions as defined in the metadata or possibly just redirect

httpexample.comarchivabrowseorg.dbunitdbunitlatest

httpexample.comarchivabrowseorg.dbunitdbunitrelease
",New_Feature
"For bytecode search, only  version of the artifact is returned even if there are more than  version of that artifact which matched the search For example, you have the following artifacts in your internal repository
- org.apache.archivaarchiva-test.jar
- org.apache.archivaarchiva-test.jar

Lets assume that both contains the same method getArtifact and do a bytecode search with that method as the query term e.g. bytecodegetArtifact. Only one of the two matched artifacts will be returned in the search results instead of the two of them.",Bug
"...in column ""DESCRIPTION"" that has maximum length of . Please correct your data! jamba-importer-util-xmlobjectjamba-importer-util|-|xmlobject jamba-importer-util-basejamba-importer-util|-|base jamba-importer-util-modeljamba-importer-util|-|model jamba-importer-util-commonjamba-importer-util|-|common jamba-importer-util-controllerjamba-importer-util|-|controller  jamba-importer-utiljamba-importer-util-xmlobject|-|org.codehaus.castorcastor...compilejar jamba-importer-utiljamba-importer-util-xmlobject|-|xercesxercesImpl..compilejar jamba-importer-utiljamba-importer-util-base|-|jamba-pomjamba-pom-connection.-compilejar jamba-importer-utiljamba-importer-util-base|-|jamba-pomjamba-pom-commons.-compilejar jamba-importer-utiljamba-importer-util-base|-|jamba-importer-utiljamba-importer-util-xmlobject..-buildcompilejar jamba-importer-utiljamba-importer-util-base|-|orooro..compilejar jamba-importer-utiljamba-importer-util-base|-|jdomjdom.compilejar jamba-importer-utiljamba-importer-util-base|-|jamba-libjamba-lib-jssh-common..compilejar jamba-importer-utiljamba-importer-util-base|-|jamba-libjamba-lib-jssh-core..compilejar jamba-importer-utiljamba-importer-util-base|-|commons-httpclientcommons-httpclient..compilejar jamba-importer-utiljamba-importer-util-base|-|commons-codeccommons-codec.compilejar jamba-importer-utiljamba-importer-util-base|-|commons-netcommons-net..compilejar jamba-importer-utiljamba-importer-util-base|-|commons-loggingcommons-logging..compilejar jamba-importer-utiljamba-importer-util-base|-|commons-configurationcommons-configuration.compilejar jamba-importer-utiljamba-importer-util-base|-|commons-langcommons-lang.compilejar jamba-importer-utiljamba-importer-util-base|-|commons-digestercommons-digester.compilejar jamba-importer-utiljamba-importer-util-base|-|commons-beanutilscommons-beanutils..compilejar jamba-importer-utiljamba-importer-util-base|-|commons-jxpathcommons-jxpath.compilejar jamba-importer-utiljamba-importer-util-base|-|xalanxalan..compilejar jamba-importer-utiljamba-importer-util-base|-|commons-collectionscommons-collections.compilejar jamba-importer-utiljamba-importer-util-base|-|xml-apisxml-apis..bcompilejar jamba-importer-utiljamba-importer-util-base|-|commons-dbcpcommons-dbcp..compilejar jamba-importer-utiljamba-importer-util-base|-|commons-poolcommons-pool.compilejar jamba-importer-utiljamba-importer-util-base|-|xercesxercesImpl..compilejar jamba-importer-utiljamba-importer-util-base|-|jakarta-regexpjakarta-regexp.compilejar jamba-importer-utiljamba-importer-util-base|-|concurrentconcurrent.compilejar jamba-importer-utiljamba-importer-util-base|-|backport-util-concurrentbackport-util-concurrent.compilejar jamba-importer-utiljamba-importer-util-base|-|logjlogj..compilejar jamba-importer-utiljamba-importer-util-base|-|jamba-libjamba-lib-logj-datedFileAppender..compilejar jamba-importer-utiljamba-importer-util-base|-|org.codehaus.castorcastor...compilejar jamba-importer-utiljamba-importer-util-common|-|org.codehaus.castorcastor...compilejar jamba-importer-utiljamba-importer-util-common|-|javax.mailmail.compilejar jamba-importer-utiljamba-importer-util-common|-|jamba-importer-utiljamba-importer-util-xmlobject..-buildcompilejar jamba-importer-utiljamba-importer-util-common|-|jamba-pomjamba-pom-jaxb.-compilejar jamba-importer-utiljamba-importer-util-common|-|jamba-pomjamba-pom-axis.-compilejar jamba-importer-utiljamba-importer-util-common|-|poipoi..-final-compilejar jamba-importer-utiljamba-importer-util-common|-|jamba-importer-utiljamba-importer-util-model..-buildcompilejar jamba-importer-utiljamba-importer-util-common|-|jaxenjaxen.compilejar jamba-importer-utiljamba-importer-util-common|-|jamba-importer-utiljamba-importer-util-base..-buildcompilejar jamba-importer-utiljamba-importer-util-common|-|javax.activationactivation.compilejar jamba-importer-utiljamba-importer-util-common|-|xercesxercesImpl..compilejar jamba-importer-utiljamba-importer-util-common|-|com.sun.xmljaxb-api..compilejar jamba-importer-utiljamba-importer-util-common|-|com.sun.xmljaxb-libs..compilejar jamba-importer-utiljamba-importer-util-common|-|com.sun.xmljaxb-impl..compilejar jamba-importer-utiljamba-importer-util-common|-|jamba-libjamba-lib-jaxrpc.compilejar jamba-importer-utiljamba-importer-util-common|-|javax.xmlnamespace..compilejar jamba-importer-utiljamba-importer-util-common|-|com.sun.msv.datatype.xsdxsdlibcompilejar jamba-importer-utiljamba-importer-util-common|-|isorelaxisorelaxcompilejar jamba-importer-utiljamba-importer-util-common|-|relaxngDatatyperelaxngDatatypecompilejar jamba-importer-utiljamba-importer-util-common|-|jamba-libjamba-lib-axis..compilejar jamba-importer-utiljamba-importer-util-common|-|wsdljwsdlj..compilejar jamba-importer-utiljamba-importer-util-common|-|commons-discoverycommons-discovery.compilejar jamba-importer-utiljamba-importer-util-common|-|jamba-libjamba-lib-soap..compilejar jamba-importer-utiljamba-importer-util-common|-|domjdomj..compilejar jamba-importer-utiljamba-importer-util-common|-|jdomjdom.compilejar jamba-importer-utiljamba-importer-util-common|-|xml-apisxml-apis..compilejar jamba-importer-utiljamba-importer-util-common|-|xomxom.compilejar jamba-importer-utiljamba-importer-util-common|-|xercesxmlParserAPIs..compilejar jamba-importer-utiljamba-importer-util-common|-|xalanxalan..compilejar jamba-importer-utiljamba-importer-util-common|-|com.ibm.icuicuj..compilejar jamba-importer-utiljamba-importer-util-common|-|jamba-pomjamba-pom-connection.-compilejar jamba-importer-utiljamba-importer-util-common|-|commons-httpclientcommons-httpclient..compilejar jamba-importer-utiljamba-importer-util-common|-|commons-codeccommons-codec.compilejar jamba-importer-utiljamba-importer-util-common|-|commons-netcommons-net..compilejar jamba-importer-utiljamba-importer-util-common|-|jamba-pomjamba-pom-commons.-compilejar jamba-importer-utiljamba-importer-util-common|-|commons-loggingcommons-logging..compilejar jamba-importer-utiljamba-importer-util-common|-|commons-configurationcommons-configuration.compilejar jamba-importer-utiljamba-importer-util-common|-|commons-langcommons-lang.compilejar jamba-importer-utiljamba-importer-util-common|-|commons-digestercommons-digester.compilejar jamba-importer-utiljamba-importer-util-common|-|commons-beanutilscommons-beanutils..compilejar jamba-importer-utiljamba-importer-util-common|-|commons-jxpathcommons-jxpath.compilejar jamba-importer-utiljamba-importer-util-common|-|commons-collectionscommons-collections.compilejar jamba-importer-utiljamba-importer-util-common|-|commons-dbcpcommons-dbcp..compilejar jamba-importer-utiljamba-importer-util-common|-|commons-poolcommons-pool.compilejar jamba-importer-utiljamba-importer-util-common|-|jakarta-regexpjakarta-regexp.compilejar jamba-importer-utiljamba-importer-util-common|-|concurrentconcurrent.compilejar jamba-importer-utiljamba-importer-util-common|-|backport-util-concurrentbackport-util-concurrent.compilejar jamba-importer-utiljamba-importer-util-common|-|logjlogj..compilejar jamba-importer-utiljamba-importer-util-common|-|jamba-libjamba-lib-logj-datedFileAppender..compilejar jamba-importer-utiljamba-importer-util-common|-|orooro..compilejar jamba-importer-utiljamba-importer-util-common|-|jamba-libjamba-lib-jssh-common..compilejar jamba-importer-utiljamba-importer-util-common|-|jamba-libjamba-lib-jssh-core..compilejar jamba-importer-utiljamba-importer-util-controller|-|com.oracleojdbc....compilejar jamba-importer-utiljamba-importer-util-controller|-|jamba-pomjamba-pom-jaxb.-compilejar jamba-importer-utiljamba-importer-util-controller|-|jamba-pomjamba-pom-axis.-compilejar jamba-importer-utiljamba-importer-util-controller|-|jamba-importer-utiljamba-importer-util-common..-buildcompilejar jamba-importer-utiljamba-importer-util-controller|-|com.sun.xmljaxb-api..compilejar jamba-importer-utiljamba-importer-util-controller|-|com.sun.xmljaxb-libs..compilejar jamba-importer-utiljamba-importer-util-controller|-|com.sun.xmljaxb-impl..compilejar jamba-importer-utiljamba-importer-util-controller|-|jamba-libjamba-lib-jaxrpc.compilejar jamba-importer-utiljamba-importer-util-controller|-|javax.xmlnamespace..compilejar jamba-importer-utiljamba-importer-util-controller|-|com.sun.msv.datatype.xsdxsdlibcompilejar jamba-importer-utiljamba-importer-util-controller|-|isorelaxisorelaxcompilejar jamba-importer-utiljamba-importer-util-controller|-|relaxngDatatyperelaxngDatatypecompilejar jamba-importer-utiljamba-importer-util-controller|-|jamba-libjamba-lib-axis..compilejar jamba-importer-utiljamba-importer-util-controller|-|wsdljwsdlj..compilejar jamba-importer-utiljamba-importer-util-controller|-|commons-discoverycommons-discovery.compilejar jamba-importer-utiljamba-importer-util-controller|-|jamba-libjamba-lib-soap..compilejar jamba-importer-utiljamba-importer-util-controller|-|org.codehaus.castorcastor...compilejar jamba-importer-utiljamba-importer-util-controller|-|javax.mailmail.compilejar jamba-importer-utiljamba-importer-util-controller|-|javax.activationactivation.compilejar jamba-importer-utiljamba-importer-util-controller|-|jamba-importer-utiljamba-importer-util-xmlobject..-buildcompilejar jamba-importer-utiljamba-importer-util-controller|-|xercesxercesImpl..compilejar jamba-importer-utiljamba-importer-util-controller|-|poipoi..-final-compilejar jamba-importer-utiljamba-importer-util-controller|-|jamba-importer-utiljamba-importer-util-model..-buildcompilejar jamba-importer-utiljamba-importer-util-controller|-|commons-digestercommons-digester.compilejar jamba-importer-utiljamba-importer-util-controller|-|commons-beanutilscommons-beanutils..compilejar jamba-importer-utiljamba-importer-util-controller|-|commons-jxpathcommons-jxpath.compilejar jamba-importer-utiljamba-importer-util-controller|-|commons-collectionscommons-collections.compilejar jamba-importer-utiljamba-importer-util-controller|-|commons-dbcpcommons-dbcp..compilejar jamba-importer-utiljamba-importer-util-controller|-|commons-poolcommons-pool.compilejar jamba-importer-utiljamba-importer-util-controller|-|jakarta-regexpjakarta-regexp.compilejar jamba-importer-utiljamba-importer-util-controller|-|concurrentconcurrent.compilejar jamba-importer-utiljamba-importer-util-controller|-|backport-util-concurrentbackport-util-concurrent.compilejar jamba-importer-utiljamba-importer-util-controller|-|logjlogj..compilejar jamba-importer-utiljamba-importer-util-controller|-|jamba-libjamba-lib-logj-datedFileAppender..compilejar jamba-importer-utiljamba-importer-util-controller|-|orooro..compilejar jamba-importer-utiljamba-importer-util-controller|-|jamba-libjamba-lib-jssh-common..compilejar jamba-importer-utiljamba-importer-util-controller|-|jamba-libjamba-lib-jssh-core..compilejar      "" in column ""DESCRIPTION"" that has maximum length of . Please correct your data!
        at org.jpox.store.rdbms.mapping.CharRDBMSMapping.setStringCharRDBMSMapping.java
        at org.jpox.store.mapping.SingleFieldMapping.setStringSingleFieldMapping.java
        at org.jpox.store.rdbms.fieldmanager.ParameterSetter.storeStringFieldParameterSetter.java
        at org.jpox.state.StateManagerImpl.providedStringFieldStateManagerImpl.java
        at org.apache.maven.archiva.model.ArchivaProjectModel.jdoProvideFieldArchivaProjectModel.java
        at org.apache.maven.archiva.model.ArchivaProjectModel.jdoProvideFieldsArchivaProjectModel.java
        at org.jpox.state.StateManagerImpl.provideFieldsStateManagerImpl.java
        at org.jpox.store.rdbms.request.InsertRequest.executeInsertRequest.java
        at org.jpox.store.rdbms.table.ClassTable.insertClassTable.java
        at org.jpox.store.StoreManager.insertStoreManager.java
        at org.jpox.state.StateManagerImpl.internalMakePersistentStateManagerImpl.java
        at org.jpox.state.StateManagerImpl.makePersistentStateManagerImpl.java
        at org.jpox.AbstractPersistenceManager.internalMakePersistentAbstractPersistenceManager.java
        at org.jpox.AbstractPersistenceManager.makePersistentAbstractPersistenceManager.java
        at org.apache.maven.archiva.database.jdo.JdoAccess.saveObjectJdoAccess.java
        at org.apache.maven.archiva.database.jdo.JdoAccess.saveObjectJdoAccess.java
        at org.apache.maven.archiva.database.jdo.JdoProjectModelDAO.saveProjectModelJdoProjectModelDAO.java
        at org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer.processArchivaArtifactProjectModelToDatabaseConsumer.java
        at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.executeProcessArchivaArtifactClosure.java
        at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
        at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateUnprocessedJdoDatabaseUpdater.java
        at org.apache.maven.archiva.database.browsing.DefaultRepositoryBrowsing.selectVersionDefaultRepositoryBrowsing.java
        at org.apache.maven.archiva.web.action.ShowArtifactAction.artifactShowArtifactAction.java
        at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
        at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
        at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
        at java.lang.reflect.Method.invokeMethod.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.interceptConfigurationInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.interceptParameterFilterInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.webwork.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
        at com.opensymphony.xwork.DefaultActionProxy.executeDefaultActionProxy.java

        at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
        at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
        at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
        at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
        at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
        at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
        at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
        at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
        at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
        at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
        at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
        at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
        at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
        at org.mortbay.jetty.Server.handleServer.java
        at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
        at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
        at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
        at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
        at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
        at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
        at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java

",Bug
"upload page does not allow certain characters in version string Unfortunately, Im required to have some version numbers like this

...AB,REV

This is ok for the mvn deploy mechanism for uploading to archiva, but when uploading from the new UI web page provided by archiva .. this causes problems, and will not upload.",Bug
"rss urls seem to use fixed webcontext ""archiva"" instead of actual webcontext Hi,

I installed Archiva as a web application with a different web context name called ""librepo"" instead of the default ""archiva"".
So all URLs in Archiva start with httphostlibrepo in my installation.
I just upgraded from Archiva .. to Archiva .. and everything works fine.
But when I clicked on an RSS symbol which is offered under ""Browse Repository"", I got the following message ""Not Found - The requested URL archivarssrss_feeds was not found on this server."" 

Manually changing the url to ""httphostlibreporssrss_feeds..."" doesnt lead to a feed, either. But here I only get a blank page and no error message.
Maybe, there is some more work to do at the new rss functionality, but fixing the web context would be start.

Bye, Stefan
",Bug
"allow plugins to handle deletion of artifacts through repository purge currently the repository purge directly calls the database and then the index to cleanup after purging artifacts. This couples the core consumers to those modules, and also prevents any plugins that wish to store artifact metadata from doing the same.

Note there are also some issues the cleanup released snapshots doesnt cleanup after itself.

These can both be fixed by moving the deletion logic to the respective modules and using an event from the purge to trigger their call",Improvement
"Archiva not only Maven repository manager Hi,

Archiva is a Maven repositories manager so there is two types declared  ""Maven .x repository"" and ""Maven .x repository"".

It could be interesting to add an other type  ""Other"".
When you select this new type, ARCHIVA have not to test the maven directories structure.

Why this new feature  To permit to ARCHIVA to manage user access, ... an Eclipse update site for example without error ConsumerException Invalid path to Artifact.

",New_Feature
"Web site links need correction goto httparchiva.apache.orgdocs..quick-start.html
the breadcrumb link on the top left says  ""Apache  Maven  Archiva  .. "" and links to ""httparchiva.apache.orgdocs..docs..""

Other sub pages are probably affected as well.",Bug
"Cant access repository using WebDAV and Ant Ive been asked to create this issue for further investigations

Id like to access the archiva repository from an Ant task. 

First, Ive tried the Ant Task implementation from the Slide project, like

 mkcol url""http${DAV.server}${DAV.root}testdir""
    userid""${DAV.user}"" password""${DAV.password}""

but I always get following error

org.apache.webdav.lib.WebdavException PROPFFIND does not return  resourcetype

Second, Ive tried to mount an WebDAV drive in Windows. It seams that there are incompatibilities with the jackrabbit implementation. 

As a consequence, Im not able to connect to archiva via WebDAV. Ive installed also netdrive.exe, without success. Only WebDAV client, like EngInSite DataFreeway, is working.

",Improvement
"ConsumerException while starting up Archiva after starting up archiva the logfile contains errors like the one below

-- , pool--thread- WARN  org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure  - Unable to process artifact com.cg.ghispac.pam.apijartests..-.- with consumer index-public-methods
org.apache.maven.archiva.consumers.ConsumerException Error encountered while adding artifact to index Error updating index Lock obtain timed out SimpleFSLock@CGROOTmvn-repositoriesarchivacg.snapshots.indexbytecodewrite.lock
	at org.apache.maven.archiva.consumers.lucene.IndexJavaPublicMethodsConsumer.processArchivaArtifactIndexJavaPublicMethodsConsumer.java
	at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.executeProcessArchivaArtifactClosure.java
	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateUnprocessedJdoDatabaseUpdater.java
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateAllUnprocessedJdoDatabaseUpdater.java
	at org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor.executeTaskArchivaDatabaseUpdateTaskExecutor.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
	at java.lang.Thread.runThread.java
",Bug
Upgrade tests to use Mockito Archiva is still using EasyMock . for Java .. EasyMock  has more varietiestypes of matchers available which are a lot more flexible for comparing expected method calls with actual calls. See Flexible Expectations with Argument Matchers in httpwww.easymock.orgEasyMock__Documentation.html,Improvement
"After artifact removal the database does not update Removed an artifact from the file system, then I went into AdministrationDatabase and clicked on ""Update Database now"", I did it a few times, but the groupIdartifactId are still there !!!!

See httpwww.nabble.comHow-to-remove-an-artifact-td.html for more details",Bug
"editing proxy connecters creates duplicates After creating a proxy connector, if you edit that connected and change its Managed Repository, after saving the proxy connector Archiva will create a copy of the current proxy connect with the new Managed Repository and leave the old proxy connector thus creating a duplicate proxy connects",Bug
"archiva.xml is saved in home directory instead of $ARCHIVA_BASEconf According to httparchiva.apache.orgdocs..adminguidestandalone.html 

When Archiva saves its configuration, all configuration is stored to a single file. The file chosen is by the following rules

     If .marchiva.xml exists, it is saved there
     Otherwise, it is saved to $ARCHIVA_BASEconfarchiva.xml, regardless of whether it previously existed.

With .., if no archiva.xml file exists, it incorrectly writes the file to .m.
",Bug
"Performance problem with repo scanning I have  repo configured, 
- first one is proxied on external repo on the internet
- the second contains components developped by my company
- the third contains snapshot components of the internal component but is not used at the moment

scan process is configured every minutes on each repo, all consumers are activated.

I have a big problem a CPU occupation by archiva it is always at . and when I configure process task at am for exemple the top command output

top -  up  days, ,   users,  load average ., ., .
Tasks   total,    running,   sleeping,    stopped,    zombie
Cpus  .us,  .sy,  .ni, .id,  .wa,  .hi,  .si,  .st
Mem   k total,   k used,  k free,        k buffers
Swap        k total,        k used,        k free,        k cached

  PID USER      PR  NI  VIRT  RES  SHR S CPU MEM    TIME  COMMAND
 root           m m  m S  .  .   . java
     root                S  .  .   . init
 root                S  .  .   . syslog-ng
 root                S  .  .   . sshd
 root                S  .  .   . cron
 root                S  .  .   . xinetd
 root              S  .  .   . sshd
 admin             S  .  .   . sshd
 admin             S  .  .   . bash
 admin              S  .  .   . top
 root           m   S  .  .   . ACServer
 root             S  .  .   . tptpProcessCont
  root              S  .  .   . sshd
  admin              S  .  .   . sshd
  admin             S  .  .   . bash
  root              S  .  .   . sshd
  admin             R  .  .   . sshd
  admin             S  .  .   . bash
  root               S  .  .   . su
  root              S  .  .   . bash
 root               R  .  .   . top

So I think it is linked to the repo scan process task
I try to desactive all consumer but no effects are visible.
I try to reduce the scan frequency every  minutes but it is the same thing
I try to profile tomcat but i have some difficulties to analyse results.


",Bug
Error in a consumer stops the entire database update job The IndexPublicMethods consumer threw a ClassFormatException when it tried to parse an invalid classfile - this stopped the entire database update job. Exceptions from one consumer should not stop entire jobs  prevent other consumers from running.,Bug
" errors when attempting to retrieve resource from proxied central repository I am evaluating Archiva .. at a client where internet access must go through a network proxy. I have successfully used Maven .. to access remote repositories. I defined a Network Proxy to Archiva to match the settings used elsewhere web browsers, Maven, IDEs etc. and added this Network Proxy to the existing Proxy Connectors for the central and java.net remote repositories. I then attempted to request the junit .. jar from the internal repository as described on the Quick Start page. However, at this point I simply received a  error. None of the log files contains anything useful.

I am stuck. Without the ability to access remote repositories, this tool - which otherwise looks impressive - will not work at this client.",Bug
"user management role does not display the user management menu Only the user with sys admin role have a menu item user management.

Any user with user admin role should have the menu item user management.

workaround 
if the user have the user management role
bookmark the httpXXXXarchivasecurityuserlist.action 
makes the user configuration page reachable",Bug
introduce an event API it would be better for the current consumer api to migrate towards an event api that can handle more than just database scan processing,New_Feature
"artifactIds with numeric characters arent found in advanced search Assuming artifact-test & artifact-test have the same groupId and are present in the repository
- search with artifactId artifact-test returns artifact-test
- search with artifactId artifact-test returns no result",Bug
"Archiva doesnt supports artifact with versionSNAPSHOTversion We are using SNAPSHOT version of axiom library. In trunk axiom developers are using ""SNAPSHOT"" string as a version
not a X.X.X-SNAPSHOT, but just SNAPSHOT. Link below.

httpsvn.apache.orgviewvcwebservicescommonstrunkmodulesaxiompom.xmlviewmarkup

Archiva doesnt support this kind of version. During repository synchronization and also during downloading the artifact
archiva throws exceptions

{noformat}
-- , pool--thread- ERROR org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosur
e  - Consumer repository-purge had an error when processing file homemaven.repodatarepositoriessnapshotsorgapachews
commonsaxiomaxiom-testsSNAPSHOTaxiom-tests-.-.pom String index out of range -
java.lang.StringIndexOutOfBoundsException String index out of range -
        at java.lang.String.substringString.java
        at org.apache.maven.archiva.repository.content.FilenameParser.expectFilenameParser.java
        at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReferenceDefaultPathParser.java
        at org.apache.maven.archiva.repository.content.AbstractDefaultRepositoryContent.toArtifactReferenceAbstractDefaultRepositoryContent.java
        at org.apache.maven.archiva.repository.content.ManagedDefaultRepositoryContent.toArtifactReferenceManagedDefaultRepositoryContent.java
        at org.apache.maven.archiva.consumers.core.repository.DaysOldRepositoryPurge.processDaysOldRepositoryPurge.java
        at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFileRepositoryPurgeConsumer.java
        at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.executeConsumerProcessFileClosure.java
        at org.apache.commons.collections.functors.IfClosure.executeIfClosure.java
        at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
        at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStepRepositoryScannerInstance.java
        at org.codehaus.plexus.util.DirectoryWalker.fireStepDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirectoryWalker.java
        at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
        at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
        at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTaskArchivaRepositoryScanningTaskExecutor.java
        at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
        at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
        at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
        at java.lang.Thread.runThread.java

{noformat}

{noformat}
HTTP ERROR 

String index out of range -
RequestURIarchivarepositorysnapshotsorgapachewscommonsaxiomaxiom-implSNAPSHOTaxiom-impl-.-.pom

Caused by

java.lang.StringIndexOutOfBoundsException String index out of range -
	at java.lang.String.substringString.java
	at org.apache.maven.archiva.repository.content.FilenameParser.expectFilenameParser.java
	at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReferenceDefaultPathParser.java
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toArtifactReferenceRepositoryRequest.java
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxiesArchivaDavResourceFactory.java
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.doGetArchivaDavResourceFactory.java
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResourceArchivaDavResourceFactory.java
	at org.apache.maven.archiva.webdav.RepositoryServlet.serviceRepositoryServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.mortbay.jetty.Server.handleServer.java
	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
	at org.mortbay.jetty.ajp.AjpConnection.access$AjpConnection.java
	at org.mortbay.jetty.ajp.AjpConnection$RequestHandler.headerCompleteAjpConnection.java
	at org.mortbay.jetty.ajp.AjpParser.parseNextAjpParser.java
	at org.mortbay.jetty.ajp.AjpParser.parseAvailableAjpParser.java
	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
	at org.mortbay.jetty.bio.SocketConnector$Connection.runSocketConnector.java
	at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java
{noformat}

The issue is critical. Archiva should allow at least downloading.",Bug
"Repository scanning should not stop when encounters error here is the reference to the discussion

httpwww.nabble.comCleanup-Metadata-files-on-Archiva-box-td.html

",Bug
"Each repository should have its own consumer list Im unable to NOT purge one repository AND have the purge feature turned on in another.

Each repository should have its own set of configuration versus a shared one.

Im talking about the ""repository scanning"" menu option.

Say we have a snapshot repository and a release repository.  Some artifacts like our cryptography builds change once ever few years and that isnt set in stone.  Id like to have the snapshot repository purged every month but cant turn on the purge feature in the repository scanning menu without archiva deleting stuff out of the release repository.

",Improvement
"Ability to merge repositories Need to be able to merge one repository into another, updating metadata and not overwriting existing artifacts.

The source repository should remain unchanged.

It should produce output listing what was merged and what wasnt.

Additions to the target repo should show in the audit log.

Related thread  httpwww.nabble.comMerging-repositories-ts.html",New_Feature
"Archiva hangs with connection pool error We are using the internal DB.  We need to restart once every - days because it hangs when hitting any DB query page.  e.g. browse fails, but an individual pom is still downloadable.

There are no other obvious errors.  

The only errors in the log are to do with some invalid files in the repository that we have not cleared up.",Bug
"legacy support  Moved Permanently html document is returned as pom file I need the java.net maven  repo for com.sun.xml.bindjaxb-xjc-... Configured it with
URL  	httpmaven-repository.dev.java.netnonavrepository
Type 	Maven .x Repository 

Result is 
WARNING POM for com.sun.xml.bindjaxb-xjcpom..compile is invalid. It will be ignored for artifact resolution. Reason Not a v.. POM. for project com.sun.xml.bindjaxb-xjc at Dmavenrepositorycomsunxmlbindjaxb-xjc..jaxb-xjc-...pom",Bug
Upgrade to redback .. Redback . has the new roles page.,Improvement
"ClassFormatError in taskQueueExecutor Hi there,

I have Archiva running under the specified environment. Every hour I see ERROR log messages in the JBoss server logs connected to Archiva. I have attached a ZIP file with loads of different error messages from different files. It is not always the same file. But, the error message always occures when Archiva is processing files from the ""Apache Commons"" project. Coincidence

Regards,
Leander

",Bug
"new role  read only access to the repository configuration It would be great if a new role allows someone to have a READ ONLY access to the configuration of the repository  managed  remote and connector
it allows people to see but not modify themselves that this managed repository is filled with theses internet website 

thanks",Improvement
"metadata updater consumer should delete any proxy metadata that it cannot parse. metadata updater consumer should delete any proxy metadata that it cannot parse.

The following exception is thrown
{code}
apache.maven.archiva.repository.metadata.RepositoryMetadataException Unable to parse metadata xml fileoptarchivarepodatainternalcomatlassianconfluenceconfluence-webapp.-SNAPSHOTmaven-metadata-atlasian-contrib.xml Error on line  of document   White spaces are required between publicId and systemId. Nested exception White spaces are required between publicId and systemId.
	at org.apache.maven.archiva.repository.metadata.RepositoryMetadataReader.readRepositoryMetadataReader.java
	at org.apache.maven.archiva.repository.metadata.MetadataTools.readProxyMetadataMetadataTools.java
	at org.apache.maven.archiva.repository.metadata.MetadataTools.gatherSnapshotVersionsMetadataTools.java
	at org.apache.maven.archiva.repository.metadata.MetadataTools.updateMetadataMetadataTools.java
	at org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer.updateVersionMetadataMetadataUpdaterConsumer.java
	at org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer.processFileMetadataUpdaterConsumer.java
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.executeConsumerProcessFileClosure.java
	at org.apache.commons.collections.functors.IfClosure.executeIfClosure.java
	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	at org.apache.maven.archiva.repository.scanner.RepositoryContentConsumers.executeConsumersRepositoryContentConsumers.java
	at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFileDefaultRepositoryProxyConnectors.java
	at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxiesDefaultRepositoryProxyConnectors.java
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxiesArchivaDavResourceFactory.java
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.doGetArchivaDavResourceFactory.java
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResourceArchivaDavResourceFactory.java
	at org.apache.maven.archiva.webdav.RepositoryServlet.serviceRepositoryServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at org.apache.catalina.core.StandardWrapperValve.invokeStandardWrapperValve.java
	at org.apache.catalina.core.StandardContextValve.invokeStandardContextValve.java
	at org.apache.catalina.core.StandardHostValve.invokeStandardHostValve.java
	at org.apache.catalina.valves.ErrorReportValve.invokeErrorReportValve.java
	at org.apache.catalina.core.StandardEngineValve.invokeStandardEngineValve.java
	at org.apache.catalina.connector.CoyoteAdapter.serviceCoyoteAdapter.java
	at org.apache.jk.server.JkCoyoteHandler.invokeJkCoyoteHandler.java
	at org.apache.jk.common.HandlerRequest.invokeHandlerRequest.java
	at org.apache.jk.common.ChannelSocket.invokeChannelSocket.java
	at org.apache.jk.common.ChannelSocket.processConnectionChannelSocket.java
	at org.apache.jk.common.ChannelSocket$SocketConnection.runItChannelSocket.java
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.runThreadPool.java
	at java.lang.Thread.runThread.java
Caused by org.apache.maven.archiva.xml.XMLException Unable to parse metadata xml fileoptarchivarepodatainternalcomatlassianconfluenceconfluence-webapp.-SNAPSHOTmaven-metadata-atlasian-contrib.xml Error on line  of document   White spaces are required between publicId and systemId. Nested exception White spaces are required between publicId and systemId.
	at org.apache.maven.archiva.xml.XMLReader.initXMLReader.java
	at org.apache.maven.archiva.xml.XMLReader.initXMLReader.java
	at org.apache.maven.archiva.repository.metadata.RepositoryMetadataReader.readRepositoryMetadataReader.java
	...  more
Caused by org.domj.DocumentException Error on line  of document   White spaces are required between publicId and systemId. Nested exception White spaces are required between publicId and systemId.
	at org.domj.io.SAXReader.readSAXReader.java
	at org.domj.io.SAXReader.readSAXReader.java
	at org.apache.maven.archiva.xml.XMLReader.initXMLReader.java
	...  more
{code}

The proxy metadata looks like this
{code}
!DOCTYPE HTML PUBLIC ""-IETFDTD HTML .EN""
htmlhead
title Not Foundtitle
headbody
hNot Foundh
pThe requested URL privatecomatlassianconfluenceconfluence-webapp.-SNAPSHOTmaven-metadata.xml was not found on this server.p
hr
addressApache.. Red Hat Server at maven.atlassian.com Port address
bodyhtml
HTTP.  Not FoundM
Date Mon,  Aug   GMTM
Server Apache.. Red HatM
Content-Length M
Keep-Alive timeout, maxM
Connection Keep-AliveM
Content-Type texthtml; charsetiso--M
M
!DOCTYPE HTML PUBLIC ""-IETFDTD HTML .EN""
htmlhead
title Not Foundtitle
headbody
hNot Foundh
pThe requested URL contribcomatlassianconfluenceconfluence-webapp.-SNAPSHOTmaven-metadata.xml was not found on this server.p
hr
addressApache.. Red Hat Server at maven.atlassian.com Port address
bodyhtml
{code}",Bug
"HttpProxyTransferTest fails on Windows The HttpProxyTransferTest fails on Windows due to line end issues. The test is comparing a file on disk with a mocked up response, but the response is created such that line ends in the content portion vary according to the OS on which the test is run.

The fix is to create the mock response using hard-coded line end characters in the content portion. Patch attached.",Bug
"separates items menus for repository managed and remote It would be great if the managed repositories and the remote repositories are not on the same page, with also  separates items menus

This is not incompatible with MRM-

thanks",Improvement
"Archiva checks users credentials before guests rights on the repository In a corporate environment we installed archiva on tomcat & mysql.
A reverse proxy Apache is used to protect our intranet applications. I tried to use mod_proxy and mod_jk to connect apache & tomcat and the behavior is  the same.
To access to our intranet thought the reverse proxy I have to give my credentials the RP is using a ldap directory and accessed only in HTTPS.
When I access to the archiva UI, everything is fine. After giving my credentials, I can logon or logout with accounts created in archiva admin for example.
I configured the guest to be a global Repository Manager & Observer on all our repositories we dont need to readd a security level in archiva. Its already done by apache.
When I access to a repository to browse it for example I receive an authentication dialog box basic authent like 
{{A user name and password are being requested by xxx.yyy.com. The site says ""Repository Archiva Managed rd-parties Repository""}}
It shouldnt be because guest can browse and write on repositories.

What I suppose is that archiva is retreiving my credentials from apache and tries to logon me, which is failing i dont have this account in archiva. After having fail it proposes to me to reenter new credentials.
I tried to create a user in archiva as the one I have to logon in apache and it works.
I think archiva should check guest rights before to try to logon the user.",Bug
"appserver.base property not resolved in logj.xml when deployed in Tomcat Even after setting export CATALINA_OPTS""-Dappserver.home$CATALINA_HOME -Dappserver.base$CATALINA_HOME"" before starting Tomcat, the appserver.base property seems to not have been resolved. 

Heres a short snippet from the console during startup

INFO Starting Servlet Engine Apache Tomcat..
Aug ,   AM org.springframework.web.context.ContextLoader initWebApplicationContext
INFO Root WebApplicationContext initialization started
logjERROR setFilenull,true call failed.
java.io.FileNotFoundException logsarchiva.log No such file or directory
        at java.io.FileOutputStream.openAppendNative Method
        at java.io.FileOutputStream.initFileOutputStream.java",Bug
"Access to maven-metadata.xml without ""groupId"" fails when accessed via a repository group One of our repositories contains the following maven-metadata.xml

{code}
metadata
plugins
plugin
nameMaven CDM Pluginname
prefixcdmprefix
artifactIdmaven-cdm-pluginartifactId
plugin
plugin
nameMaven CDM Flex Pluginname
prefixcdm-flexprefix
artifactIdmaven-cdm-flex-pluginartifactId
plugin
plugins
metadata
{code}

Notice that there is no ""groupId"" element.

This file will be delivered correctly when it is requested via the URL archivarepositorycontinous-integrationcomicwcdmpluginsmaven-metadata.xml from the containing repository ""continous-integration"".

Now I tried to use the new feature of repository groups creating a new group named ""overall"" containing the repository ""continous-integration"" and others. None of the other repositories contains the above artifacts.

When Maven or a request from a browser is done to the URL archivarepositoryoverallcomicwcdmpluginsmaven-metadata.xml the attached stack trace is shown in the browser.

I searched the source code and at the location RepositoryMetadataWriter.java the following code is executed
{code}
root.addElement ""groupId"" .setText metadata.getGroupId ;
{code}
This must fail, because the maven-metadata.xml does not contain a ""groupId"".

How can I use the repository group feature with such a maven-metadata.xml file",Bug
"Footer doesnt stretch across repositoryGroups page The footer doesnt stretch all the way across the page for the repositoryGroups page. This is because of unclosed tags in the jsp file.  Looking at the last few lines of the file httpsvn.apache.orgreposasfarchivatrunkarchiva-modulesarchiva-webarchiva-webappsrcmainwebappWEB-INFjspadminrepositoryGroups.jsp


{codetitlerepositoryGroups.jsp|borderStylesolid}
div -- repository group --
cforEach
div -- admin --

div -- content area --
cotherwise
cchoose{code}

The contentArea div is closed too early, and the body and html elements are never closed.  These lines should be changed to

{codetitlerepositoryGroups.jsp|borderStylesolid}
div -- repository group --
cforEach
div -- admin --

cotherwise
cchoose
div -- content area --
body
html
{code}
",Bug
Allow the user to take all proxy connectors offline and online  Currently you can only take an individual connector offlineonline. The UI should be extended to allow all proxy connectors to be enabled or disabled.,Improvement
"Error  when clicking the Next or Previous icon of the results of a search, if user is trying to search for java classes, packages or methods. When user tries to search for java classes, packages or methods.
User types ""bytecodexxx"" , the results will display but when user clicks the next or previous icon of the results.
Page will then display

HTTP ERROR 

INTERNAL_SERVER_ERROR

RequestURIquickSearch.action
Caused by

java.lang.NullPointerException
	at org.apache.maven.archiva.web.action.SearchAction.isEqualToPreviousSearchTermSearchAction.java
	at org.apache.maven.archiva.web.action.SearchAction.quickSearchSearchAction.java
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	at java.lang.reflect.Method.invokeMethod.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java",Bug
"Ability to enable and disable features such as browsing, repository search, dependency graphs and dependency analysis. Ability to enable and disable features such as browsing, repository search, dependency graphs and dependency analysis.",New_Feature
"Ability to delete an artifact from the web interface Sometimes when viewing an artifact through the Archiva Web UI, Id like to delete it from the repository.

Currently the only way to do this by deleting it from the managed repository filesystem.",New_Feature
Update documentation to include how to enable exception logging Please update the documentation to include how to enable exception logging.i.e. setting the log level in WEB-INFclasseslogj.xml to DEBUG.,Improvement
"make it possible to configure the host name used for links archiva can generally detect the current URL being used and use that to populate any rendered links to the repository, etc. but it should be possible to make it configurable so that you can always use a specific name.",Improvement
"Ability to see Repo Scanning Errors 
This is  a better way to monitor what is going on when error happens

see httpwww.nabble.comCleanup-Metadata-files-on-Archiva-box-td.html",New_Feature
Upgrade from Webwork  to Struts  Upgrade from Webwork  to Struts .,Improvement
download-type-javadoc.png is missing The javadoc icon in the browser is missing. ,Bug
"EL Expression failed with emptynot functions After installing as Wiki said, as a tomcat WAR, i get parsing error in some JSPTAG code.

Some examples 

org.apache.jasper.JasperException WEB-INFjspcomponentscompanyLogo.jsp, ""${!emptyorganisationLogo}"" contient dincorrectes expressions javax.el.ELException Function empty not found
org.apache.jasper.JasperException WEB-INFtagscurrentWWUrl.tag, ""${!emptyaction && !emptynamespace}"" contient dincorrectes expressions javax.el.ELException Function empty not found

Ive added logs as attachments.

The workaround is very simple  
replace EL exepressions containing ""empty"" with ""empty "", and  ""not"" with ""not "" as EL expression requires.

This is a VERY strange error since ive successufully setup Archiva on my profesionnal server, and i got these error on two distinct personnal systems.

Ill check the professionnalpersonnal system differences.
",Bug
"NPE with search page I have the following NPE in the search result page with a LDAP guest user

{noformat}
java.lang.NullPointerException
	org.apache.maven.archiva.security.DefaultUserRepositories.getObservableRepositoryIdsDefaultUserRepositories.java
	org.apache.maven.archiva.web.action.SearchAction.getObservableReposSearchAction.java
	org.apache.maven.archiva.web.action.SearchAction.quickSearchSearchAction.java
	sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	java.lang.reflect.Method.invokeMethod.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.interceptConfigurationInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.interceptParameterFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.webwork.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionProxy.executeDefaultActionProxy.java
	com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
	com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
{noformat}
",Bug
"Tomcat will not shutdown On both Debian GNULinux and Windows, Im unable to shutdown Apache Tomcat when Archiva is installed. I have to kill the server process to get it to stop. When I execute the shutdown.sh or shutdown.bat scripts, the server starts it shutdown procedure, but hangs. The last line in the log is
",Bug
"Backslash in file path in search result from Archiva running on windows OS In search results there are files listed with path containing backslash characters. look on screenshot
This occurs for maven-metadata.xml, so it has relation to MRM- and MRM-.",Bug
"LDAP configuration isnt flexible enough to use in my env Active Directory doesnt have a password attribute. Hi,
I would love to enable the ldap stuff, I have all manner of apps using ldap jira,confluence,openfire etc.  I cannot use ldap with Archiva as Active Directory not my choice doesnt store user passwords as an attribute, I have to connect with the user credentials in order to verify them.

Please extend LDAP support to remove the reliance on a password atrribute and enable user provided passwords at the login prompt to be used in the ldap connection to validate authentication.

At Archiva startup, it stacks, so is trying to do something tha tit cant.

{noformat}
 WrapperSimpleAppMain INFO org.quartz.core.QuartzScheduler - Scheduler defaultScheduler_$_NON_CLUSTERED started.
org.codehaus.plexus.redback.common.ldap.connection.LdapException Could not connect to the server. Root exception is javax.naming.AuthenticationException LDAP error code  -  LdapErr DSID-C, comment AcceptSecurityContext error, data , vece
	at org.codehaus.plexus.redback.common.ldap.connection.LdapConnection.initLdapConnection.java
	at org.codehaus.plexus.redback.common.ldap.connection.ConfigurableLdapConnectionFactory.getConnectionConfigurableLdapConnectionFactory.java
	at org.codehaus.plexus.redback.users.ldap.LdapUserManager.newDirContextLdapUserManager.java
	at org.codehaus.plexus.redback.users.ldap.LdapUserManager.findUserLdapUserManager.java
{noformat}",Bug
showArtifactLink tag is broken showArtifactLink tag is broken. Was not moved to struts correctly.,Bug
"snapshot delete for a released artifact doesnt work if using seperate repositories I set up my repositories this way 
id  local-snapshots   for hosting only my companys snapshots  no release in it
id  local-release  for hosting only my companys releases  no snapshot in it.

I configured archiva to delete released snapshots, but it seems not to work if snapshot are in a different repo than releases. Snapshots are not beeing deleted, although a release is done for an artifact.",Bug
"Add -bin linux wrapper libraries Please add linux-x- wrapper support to Archiva.

As more and more users are moving to -bit linux distributions, this will become more of an issue.

Attached is a zip file containing the wrapper-linux-x- executable bin directory and the libwrapper-linux-x-.so library lib directory. These files were copied from the nexus repository manager distribution.

Tested successfully on Ubuntu -bit . server.

Thanks,

Frank",Improvement
"Upload Artifact action should trim its fields Fields from Upload Artifact form are not trimmed, resulting in artifacts that may not be reachable afterward.

As an example, see attached archive.

Step_ inserting an artifact with spaces in the groupId and artifactId fields
Step_ the artifact is accepted with no error
Step_ when trying, for example, to browse the artifact, it is of course unreachable

Fields involved are Group Id, Artifact Id, Packaging, Classifier",Bug
"Patch for several issues while processing poms effective model, expressions resolving, storing to database Im submitting a bigger patch for serveral issues that drived my crazy after installation of archiva in our company.
The patch is for .. and .. releases. 

The patch
- fixes problems with expression resolving ${pom.version} in dependencies,
- adds support for parent.{groupId, artifactId, version properties,
- fixes issues with jdo detachCopy called from ProjectModelToDatabaseListener while creating effective pom,
- fixes inconsistency in key format used in effective model cache,
- add merging parentProject and properties while creating effective pom,
- ArchivaProjectModel.setOrgin""filesystem"" was moved to readers where IMO should be,
- adds few new test cases.

I will be very happy if you apply the patch on the code base. It will save me a bit of work 
with merging my changes with new releases in the future.


",Improvement
"Rename audit.log to archiva-audit.log to avoid conflicts Archivas log file should be prefixed with archiva- to avoid naming conflicts in a shared installation.

For example Redback also needs an audit log.
",Improvement
Standardize pagination in reports and search results Update pagination of reports to look and behave like the pagination in the search results,Improvement
"Repository groups does not display groups that have the same groupId I have  repositories approved and unapproved combined into a group dev. Each repository has only  artifact. The repositories both had the default setup for a repository in archiva.

The first artifact in approved used
groupId org.foo.firstTest
artifactIdaTest
version.
packageorg.foo.firstTest

The second artifact in unapproved used
groupId org.foo.secondTest
artifactId anotherTest
version .
packageorg.foo.secondTest

When I looked at httplocalhostarchivarepositoryapproved I could see the first artifact. When I looked at httpocalhostarchivarepositoryunapproved I could see the second artifact. However when I looked at the repository group httplocalhostarchivarepositorydev I could only see the first artifact and not the second artifact.  If I removed the approved from the group I could then see the second artifact, but obviously not the first artifact. It appears that if there are common groupIds in different repositores that are grouped together, then they arent displayed in the group.

I have seen this effect on other servers with different named repositories in addition to the sample test.
",Bug
"Switch for disabling user registration It would be nice to have a single switch to disable the registration of arbitrary users, so new users can only be registered by the administrator.",New_Feature
"maven-jetty-plugin server side relocation fails maven-jetty-plugin server side relocation fails.

A qucik debuging session shows that the property ${project.version} is not resolved.",Bug
"advanced statistics plugin as a proof of concept for the event changes and the ability to properly integrate plugins without tight coupling the components, Id like to see an advanced statistics plugin that can
- have a timeline of artifact events
- track historical information about the number of artifacts
- present a variety of information about the artifacts such as sizes, age of snapshots, etc.",New_Feature
Refresh of Archiva templates and stylesheets to match site styles Refresh of Archiva templates and stylesheets to match site styles. Removed orange UI elements except for roll overs.,Improvement
"Exception when using behind firewall Exception when using behind firewall and setting the network proxy settings

",Bug
"Security Issue If repository observer role is enabled for the guest user, an invalid user is able to deploy to that repository Steps to reproduce using repository snapshots
. Configure the distributionManagement of your projects pom to deploy your project to snapshots repository, as follows

distributionManagement
  repository
    idreleasesid
    nameReleases Repositoryname
    layoutdefaultlayout
    urldavhttplocalhostarchivarepositoryreleasesurl
  repository
  snapshotRepository
    idsnapshotsid
    uniqueVersiontrueuniqueVersion
    nameSnapshots Repositoryname
    layoutdefaultlayout
    urldavhttplocalhostarchivarepositorysnapshotsurl
  snapshotRepository
distributionManagement

. Enable the snapshots repository observer role for guest user
. Add an invalid user credentials in your settings.xml for snapshots repository, as shown below

server
  idsnapshotsid
  usernameinvalidusernameusername
  passwordpasswordpassword
server 

. Execute mvn clean deploy in your project. 

Alternatively, you can also use the deploy-file goal to replicate the issue so you wont need to configure your pom ex. mvn deploydeploy-file -Dfilenunit.framework.dll -DgroupIdNUnit -Dversion... -Dpackagingdll -DartifactIdNUnit.Framework.dll -DrepositoryIdsnapshots -Durlhttplocalhostarchivarepositorysnapshots -DgeneratePomtrue
",Bug
"Generated Descriptors are wrong after Eclipse Project Clean Im trying to run archiva from within RAD.
For this I checkout the whole archiva sources from the repository and run mvn install. After running the eclipse goal wtpversion., everything is setup fine for development with RADEclipse
I got problems regarding the merge of components-fragment.xml and the derived resource components.xml happing in e.g. archiva-policies.
After a project clean or a change in the generated components xml, the automatic eclipse build overwrites the merged file, which only exists in the targetclasses folder. This results in error messages like url-failures-cache bean cannot be found.
I wonder why the descriptor goals do not run in the generate-resources phase and generate their output first to targetgenerated-resources, making later phases take care of the processing and packaging.
The suggested patch
- changes the phases for the descriptor and merge-descriptors goals
- outputs the merged result to generated-resourcesplexusMETA-INFplexuscomponents.xml
",Improvement
"If path has leading slash when being checked againts whitelists and blacklists causes matching failure If path has leading slash when being checked againts whitelists and blacklists causes matching failure in DefaultRepositoryProxyConnectorsmatchesPattern

eg logjlogjmaven-metadata.xml and pattern """" will not match.

The leading slash should be removed before a comparison is made.",Bug
"Admin Edit Proxy Connector parameters are not correctly restituted from configuration file When changing values of fields from Admin Edit Proxy Connector form, configuration is correctly written to $ARCHIVA_BASEconfarchiva.xml. Logoutlogin via the GUI then browsing back to the form seems to show the correct values it was not working one time, but I do not reproduced the issue.

But if stopping then restarting the server, and via the GUI after a logoutlogin before shutting down the server, browsing back to the form, the values are no more restituted correctly.
{quote}
Uncorrect parameters return error when, on remote error.
Parameter cache failures is correctly restituted.
Parameters releases, snapshots, checksum are untested.
{quote}

Question behind this is is it just a GUI issue, or are the parameters not taken into account by the server No test performed on my side.",Bug
"Managed Repository allow to block deployment of existing release-artifacts  Overwriting existing release-artifacts potentially leads to a great mess, since the previous artifact may already have been downloaded and existing in the local-repos of developer-machines.
By offering a checkbox ""Prevent upload of existing release-artifacts"", Archiva should prevent the upload and return an error. As a result, the Maven build-process will fail, which is correct behaviour.

IMO, the best-practise is, that even a minor bug-fix-version, should NOT have the same major version-number - rather it should result in a completely new minor version-number.",New_Feature
"Proxy repository operations should not be done in place  Currently, Archiva will download files directly to the managed repository before any policies are executed. This leaves the repository in various invalid states causing race conditions.",Improvement
"Strange bug with axis dependency When accessing to our internal maven repository for axis dependency, archiva seems to have a problem with the path layout it considers too short.

Pointing my browser to  httpfornaxarchivarepositoryinternalaxis, gives me the following exception 
{panel}
Error  Not Found

The following resource does not exist httpfornaxrepositoryaxis

org.apache.maven.archiva.repository.layout.LayoutException Not a valid request path layout, too short.
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toArtifactReferenceRepositoryRequest.java
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toNativePathRepositoryRequest.java
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.processProxiedDavServer.java
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.serviceMultiplexedWebDavServlet.java
	at org.apache.maven.archiva.web.repository.RepositoryServlet.serviceRepositoryServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at org.mortbay.jetty.servlet.WebApplicationHandler.dispatchWebApplicationHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.http.HttpContext.handleHttpContext.java
	at org.mortbay.jetty.servlet.WebApplicationContext.handleWebApplicationContext.java
	at org.mortbay.http.HttpContext.handleHttpContext.java
	at org.mortbay.http.HttpServer.serviceHttpServer.java
	at org.mortbay.http.HttpConnection.serviceHttpConnection.java
	at org.mortbay.http.HttpConnection.handleNextHttpConnection.java
	at org.mortbay.http.HttpConnection.handleHttpConnection.java
	at org.mortbay.http.SocketListener.handleConnectionSocketListener.java
	at org.mortbay.util.ThreadedServer.handleThreadedServer.java
	at org.mortbay.util.ThreadPool$PoolThread.runThreadPool.java
{panel}

Maven seems to have the same problem because it cant get a copy of these dependencies to my local repository.

{panel}
INFO ------------------------------------------------------------------------
ERROR BUILD ERROR
INFO ------------------------------------------------------------------------
INFO Failed to resolve artifact.

Missing
----------
 axisaxis-antjar.

  Try downloading the file manually from the project website.

  Then, install it using the command
      mvn installinstall-file -DgroupIdaxis -DartifactIdaxis-ant -Dversion. -Dpackagingjar -Dfilepathtofile

  Alternatively, if you host your own repository you can deploy the file there
      mvn deploydeploy-file -DgroupIdaxis -DartifactIdaxis-ant -Dversion. -Dpackagingjar -Dfilepathtofile -Durlurl -Drepositor
yIdid

  Path to dependency
         com.sofinco.capi.samples.esb.hellohello-proxiesjbi-service-unit.-SNAPSHOT
         org.apache.servicemixservicemix-soapjar..
         org.apache.ws.securitywssjjar..
         axisaxis-antjar.

----------
 required artifact is missing.

for artifact
  com.sofinco.capi.samples.esb.hellohello-proxiesjbi-service-unit.-SNAPSHOT

from the specified remote repositories
  external httpfornaxarchivarepositoryexternal
{panel}
",Bug
"access to upload page with managed repository role - A user with the managed repo role on a repository shoud have access to the uploadartifact menu item.

- in the upload artifact page, the combo box should only contains repositories for which the user have the managed repo role 
",Bug
"Provide relocation informations in artifact-view, if the pom contains relocation information. If an artifact contains relocation-information the artifact-view should providedisplay this information.
If i have an artifact which was only a pom I cant recognize if 
a there was only requested a pom and there will be a jar available
b there exist only a pom because this is some kind of superpom
c this artifact as relocated.

It would be helpfull if I can detect an relocation on the artifact-view without downloading the pom and open this with an editor.",Improvement
"Project models for Maven  artifacts cannot be found in repo browse This error occurs when browsing for a Maven  artifact ex. acegisecurity

Unable to find project model for acegisecurityacegi-security...",Bug
"Reports should show from which repository the defective artifact was found. In the report showing the defectiveproblematic artifacts from All Repositories, it would be nice to see from which repository each defective artifact was found. The artifacts could be grouped by repository. ",Improvement
"Typos on the hacking page Julien Graglia reported the following typos on the mailing list | httpwww.nabble.comforumViewPost.jtppost
{quote}
Hi,

Iam not sure its the correct place but there are  little mistakes in
httpmaven.apache.orgarchivahackingindex.html

in section ""Building Archiva""
the links to dl the connector and jta are broken  they include the
corrects url but with a ""download from..."" prefix
the install command of jta is broken  a - is missing before
Dversion..B
mvn installinstall-file -DgroupIdjavax.transaction -DartifactIdjta
!!!!-!!!!Dversion..B -Dpackagingjar -Dfilejta-__B-classes.zip

thats no real pbs, because if you start building archiva, you surely
found and correct easyly those problems!

-- 
Julien Graglia 
{quote}",Improvement
"Changing the internal repository directory has no effect I changed the directory for the internal archiva repository from the default setting

${ARCHIVA_HOME}datarepositoriesinternal

to a different location. But new dependencies were still downloaded to the defaultold directory. 

But after I restarted archiva everything is fine. ",Bug
"fail to resolve artifactId for libs that contain versionKeyword in artifactId, like ""maven-test-plugin"" Trying to get maven-test-plugin using maven fails in . Archiva is searching for
""mavenmaventest-plugin-..maven-test-plugin-...jar""

RepositoryLayoutUtils tries to detect the artifact Id by searching for some version keyword in the request string. As ""test"" is a version keyword, it resolves to ""maven"".

The attached path add the feature of checking that all tokens in the version part - all after artifactId expect the latest classifier - are valid version keywords.",Bug
"JVM Bug Triggered in archiva-metadata-reports {noformat}
-------------------------------------------------------
 T E S T S
-------------------------------------------------------
There are no tests to run.

Results 
Tests run , Failures , Errors , Skipped 

INFO jarjar
INFO Building jar homejoakimcodearchivatrunkarchiva-reportingarchiva-metadata-reportstarget
archiva-metadata-reports-.-beta--SNAPSHOT.jar
INFO installinstall
INFO Installing homejoakimcodearchivatrunkarchiva-reportingarchiva-metadata-reportstarget
archiva-metadata-reports-.-beta--SNAPSHOT.jar to homejoakim.mrepository-archivaorgapachemavenarchivaarchiva-metadata-re
ports.-beta--SNAPSHOTarchiva-metadata-reports-.-beta--SNAPSHOT.jar
INFO ----------------------------------------------------------------------------
INFO Building Archiva Reporting  Project Reports
INFO    task-segment clean, install
INFO ----------------------------------------------------------------------------
INFO cleanclean
INFO Deleting directory homejoakimcodearchivatrunkarchiva-reportingarchiva-project-reportstarget
INFO Deleting directory homejoakimcodearchivatrunkarchiva-reportingarchiva-project-reportstargetclasses
INFO Deleting directory homejoakimcodearchivatrunkarchiva-reportingarchiva-project-reportstargettest-classes
INFO Deleting directory homejoakimcodearchivatrunkarchiva-reportingarchiva-project-reportstargetsite
INFO plexusdescriptor {execution generate}
INFO remote-resourcesprocess {execution default}
INFO resourcesresources
INFO Using default encoding to copy filtered resources.

 An unexpected error has been detected by HotSpot Virtual Machine

  SIGSEGV xb at pcxbaafd, pid, tid

 Java VM Java HotSpotTM Client VM .._-b mixed mode, sharing
 Problematic frame
 V  libjvm.soxafd

 An error report file with more information is saved as hs_err_pid.log

 If you would like to submit a bug report, please visit
   httpjava.sun.comwebappsbugreportcrash.jsp

Aborted core dumped
{noformat}",Bug
"maven-metadata.xml is not part of defined whitelist skipping transfer. Starting with a clean archiva internal repository and a clean local maven repository the download of maven plugins fails.

The error message is 

Path orgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml is not part of defined whitelist skipping transfer.

See the full logs below. But I didnt modified the white list for the central repository. It is still .

Steps to reproduce the problem

. Clean the archiva managed internal repository.
. Scan the internal repository
. Clean the local maven repository
. run mvn clean install on a maven project

Here is the log

INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying cache-failures policy with no
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.policies.PreDownloadPolicycache-failures  - OK to fetch, check-failures policy set to NO.
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying releases policy with once
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying snapshots policy with never
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - No authentication for remote repository needed
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Retrieving orgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml from Central Repository
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Downloaded successfully.
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Retrieving orgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml.sha from Central Repository
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Downloaded successfully.
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Checksum.sha Downloaded pcredspefactoryrmscarchivareposinternalorgapachemavenpluginsmaven-clean-pluginmaven-metadata-central.xml.sha
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Retrieving orgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml.md from Central Repository
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Downloaded successfully.
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Checksum.md Downloaded pcredspefactoryrmscarchivareposinternalorgapachemavenpluginsmaven-clean-pluginmaven-metadata-central.xml.md
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying checksum policy with fix
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.common.utils.Checksumsdefault  - Valid checksum pcredspefactoryrmscarchivareposinternalorgapachemavenpluginsmaven-clean-pluginmaven-metadata-central.xml.sha
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.common.utils.Checksumsdefault  - Valid checksum pcredspefactoryrmscarchivareposinternalorgapachemavenpluginsmaven-clean-pluginmaven-metadata-central.xml.md
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.policies.PostDownloadPolicychecksum  - Checksum policy set to FIX, checksum files have been updated.
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.repository.scanner.RepositoryContentConsumersdefault  - Sending to consumer index-content
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Path orgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml is not part of defined whitelist skipping transfer.
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying cache-failures policy with yes
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.policies.PreDownloadPolicycache-failures  - OK to fetch, check-failures detected no issues.
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying releases policy with once
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying snapshots policy with never
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - No authentication for remote repository needed
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Retrieving orgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml from EJBUnit Maven Repository
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Project Metadata org.apache.maven.pluginsmaven-clean-plugin not found on remote repository ""ejbunit"".
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying cache-failures policy with yes
INFO   | jvm     |   | -- , SocketListener- INFO  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer not attempted on httprepository.codehaus.orgorgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml  NO to fetch, check-failures detected previous failure on url httprepository.codehaus.orgorgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying cache-failures policy with yes
INFO   | jvm     |   | -- , SocketListener- INFO  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer not attempted on httpcommons.ucalgary.capubmorgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml  NO to fetch, check-failures detected previous failure on url httpcommons.ucalgary.capubmorgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying cache-failures policy with yes
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.policies.PreDownloadPolicycache-failures  - OK to fetch, check-failures detected no issues.
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying releases policy with once
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying snapshots policy with never
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - No authentication for remote repository needed
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Retrieving orgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml from Netbeans Maven Repository
INFO   | jvm     |   | Nov ,   AM org.mortbay.jetty.servlet.ServletHandler handle
INFO   | jvm     |   | WARNING archivarepositoryinternalorgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml
INFO   | jvm     |   | org.apache.maven.archiva.proxy.ProxyException Download failure on resource httpdeadlock.netbeans.orgmavenorgapachemavenpluginsmaven-clean-pluginmaven-metadata.xmlError transferring file
INFO   | jvm     |   |       at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferSimpleFileDefaultRepositoryProxyConnectors.java
INFO   | jvm     |   |       at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFileDefaultRepositoryProxyConnectors.java
INFO   | jvm     |   |       at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxiesDefaultRepositoryProxyConnectors.java
INFO   | jvm     |   |       at org.apache.maven.archiva.web.repository.ProxiedDavServer.fetchMetadataFromProxiesProxiedDavServer.java
INFO   | jvm     |   |       at org.apache.maven.archiva.web.repository.ProxiedDavServer.fetchContentFromProxiesProxiedDavServer.java
INFO   | jvm     |   |       at org.apache.maven.archiva.web.repository.ProxiedDavServer.processProxiedDavServer.java
INFO   | jvm     |   |       at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.serviceMultiplexedWebDavServlet.java
INFO   | jvm     |   |       at org.apache.maven.archiva.web.repository.RepositoryServlet.serviceRepositoryServlet.java
INFO   | jvm     |   |       at javax.servlet.http.HttpServlet.serviceHttpServlet.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   |       at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   |       at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   |       at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler.dispatchWebApplicationHandler.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
INFO   | jvm     |   |       at org.mortbay.http.HttpContext.handleHttpContext.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationContext.handleWebApplicationContext.java
INFO   | jvm     |   |       at org.mortbay.http.HttpContext.handleHttpContext.java
INFO   | jvm     |   |       at org.mortbay.http.HttpServer.serviceHttpServer.java
INFO   | jvm     |   |       at org.mortbay.http.HttpConnection.serviceHttpConnection.java
INFO   | jvm     |   |       at org.mortbay.http.HttpConnection.handleNextHttpConnection.java
INFO   | jvm     |   |       at org.mortbay.http.HttpConnection.handleHttpConnection.java
INFO   | jvm     |   |       at org.mortbay.http.SocketListener.handleConnectionSocketListener.java
INFO   | jvm     |   |       at org.mortbay.util.ThreadedServer.handleThreadedServer.java
INFO   | jvm     |   |       at org.mortbay.util.ThreadPool$PoolThread.runThreadPool.java
INFO   | jvm     |   | Caused by org.apache.maven.wagon.TransferFailedException Error transferring file
INFO   | jvm     |   |       at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputDataLightweightHttpWagon.java
INFO   | jvm     |   |       at org.apache.maven.wagon.StreamWagon.getStreamWagon.java
INFO   | jvm     |   |       at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferSimpleFileDefaultRepositoryProxyConnectors.java
INFO   | jvm     |   |       ...  more
INFO   | jvm     |   | Caused by java.net.ProtocolException Server redirected too many  times 
INFO   | jvm     |   |       at sun.net.www.protocol.http.HttpURLConnection.getInputStreamHttpURLConnection.java
INFO   | jvm     |   |       at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputDataLightweightHttpWagon.java
INFO   | jvm     |   |       ...  more
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying cache-failures policy with no
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.policies.PreDownloadPolicycache-failures  - OK to fetch, check-failures policy set to NO.
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying releases policy with once
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying snapshots policy with never
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - No authentication for remote repository needed
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Retrieving orgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml from Central Repository if updated
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Project Metadata org.apache.maven.pluginsmaven-clean-plugin not updated on remote repository ""central"".
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Path orgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml is not part of defined whitelist skipping transfer.
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying cache-failures policy with yes
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.policies.PreDownloadPolicycache-failures  - OK to fetch, check-failures detected no issues.
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying releases policy with once
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying snapshots policy with never
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - No authentication for remote repository needed
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Retrieving orgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml from EJBUnit Maven Repository
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Project Metadata org.apache.maven.pluginsmaven-clean-plugin not found on remote repository ""ejbunit"".
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying cache-failures policy with yes
INFO   | jvm     |   | -- , SocketListener- INFO  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer not attempted on httprepository.codehaus.orgorgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml  NO to fetch, check-failures detected previous failure on url httprepository.codehaus.orgorgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying cache-failures policy with yes
INFO   | jvm     |   | -- , SocketListener- INFO  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer not attempted on httpcommons.ucalgary.capubmorgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml  NO to fetch, check-failures detected previous failure on url httpcommons.ucalgary.capubmorgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying cache-failures policy with yes
INFO   | jvm     |   | -- , SocketListener- INFO  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer not attempted on httpdeadlock.netbeans.orgmavenorgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml  NO to fetch, check-failures detected previous failure on url httpdeadlock.netbeans.orgmavenorgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying cache-failures policy with yes
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.policies.PreDownloadPolicycache-failures  - OK to fetch, check-failures detected no issues.
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying releases policy with once
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying snapshots policy with never
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - No authentication for remote repository needed
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Retrieving orgapachemavenpluginsmaven-clean-pluginmaven-metadata.xml from JBoss Maven Repository
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Project Metadata org.apache.maven.pluginsmaven-clean-plugin not found on remote repository ""jboss"".
",Bug
"Dependency Tree causes an Exception Using the Dependency Tree link generates the following stack trace 
{noformat} 
HTTP Status  -

type Exception report

message

description The server encountered an internal error  that prevented it from fulfilling this request.

exception

javax.servlet.ServletException org.apache.jasper.JasperException An exception occurred processing JSP page WEB-INFjspartifactdependencyTree.jsp at line 

 @ taglib prefix""my"" tagdir""WEB-INFtags"" 
 @ taglib prefix""archiva"" uri""httpmaven.apache.orgarchiva"" 
 
 archivadependency-tree groupId""${groupId}"" artifactId""${artifactId}"" version""${version}""
                          modelVersion""${model.version}""
   myshowArtifactLink groupId""${node.groupId}"" artifactId""${node.artifactId}""
                        version""${node.version}""  


Stacktrace
	com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
	com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java

root cause

org.apache.jasper.JasperException An exception occurred processing JSP page WEB-INFjspartifactdependencyTree.jsp at line 

 @ taglib prefix""my"" tagdir""WEB-INFtags"" 
 @ taglib prefix""archiva"" uri""httpmaven.apache.orgarchiva"" 
 
 archivadependency-tree groupId""${groupId}"" artifactId""${artifactId}"" version""${version}""
                          modelVersion""${model.version}""
   myshowArtifactLink groupId""${node.groupId}"" artifactId""${node.artifactId}""
                        version""${node.version}""  


Stacktrace
	org.apache.jasper.servlet.JspServletWrapper.handleJspExceptionJspServletWrapper.java
	org.apache.jasper.servlet.JspServletWrapper.serviceJspServletWrapper.java
	org.apache.jasper.servlet.JspServlet.serviceJspFileJspServlet.java
	org.apache.jasper.servlet.JspServlet.serviceJspServlet.java
	javax.servlet.http.HttpServlet.serviceHttpServlet.java
	com.opensymphony.webwork.dispatcher.ServletDispatcherResult.doExecuteServletDispatcherResult.java
	com.opensymphony.webwork.dispatcher.WebWorkResultSupport.executeWebWorkResultSupport.java
	com.opensymphony.xwork.DefaultActionInvocation.executeResultDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.interceptConfigurationInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.interceptParameterFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.webwork.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionProxy.executeDefaultActionProxy.java
	com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
	com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java

root cause

javax.servlet.ServletException javax.servlet.jsp.JspException Graph is null.
	org.apache.jasper.runtime.PageContextImpl.doHandlePageExceptionPageContextImpl.java
	org.apache.jasper.runtime.PageContextImpl.handlePageExceptionPageContextImpl.java
	org.apache.jsp.WEB_dINF.jsp.artifact.dependencyTree_jsp._jspServicedependencyTree_jsp.java
	org.apache.jasper.runtime.HttpJspBase.serviceHttpJspBase.java
	javax.servlet.http.HttpServlet.serviceHttpServlet.java
	org.apache.jasper.servlet.JspServletWrapper.serviceJspServletWrapper.java
	org.apache.jasper.servlet.JspServlet.serviceJspFileJspServlet.java
	org.apache.jasper.servlet.JspServlet.serviceJspServlet.java
	javax.servlet.http.HttpServlet.serviceHttpServlet.java
	com.opensymphony.webwork.dispatcher.ServletDispatcherResult.doExecuteServletDispatcherResult.java
	com.opensymphony.webwork.dispatcher.WebWorkResultSupport.executeWebWorkResultSupport.java
	com.opensymphony.xwork.DefaultActionInvocation.executeResultDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.interceptConfigurationInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.interceptParameterFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.webwork.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionProxy.executeDefaultActionProxy.java
	com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
	com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java

root cause

javax.servlet.jsp.JspException Graph is null.
	org.apache.maven.archiva.web.tags.DependencyTree.gatherTreeListDependencyTree.java
	org.apache.maven.archiva.web.tags.DependencyTreeTag.doStartTagDependencyTreeTag.java
	org.apache.jsp.WEB_dINF.jsp.artifact.dependencyTree_jsp._jspx_meth_archiva_fdependency_dtree_fdependencyTree_jsp.java
	org.apache.jsp.WEB_dINF.jsp.artifact.dependencyTree_jsp._jspServicedependencyTree_jsp.java
	org.apache.jasper.runtime.HttpJspBase.serviceHttpJspBase.java
	javax.servlet.http.HttpServlet.serviceHttpServlet.java
	org.apache.jasper.servlet.JspServletWrapper.serviceJspServletWrapper.java
	org.apache.jasper.servlet.JspServlet.serviceJspFileJspServlet.java
	org.apache.jasper.servlet.JspServlet.serviceJspServlet.java
	javax.servlet.http.HttpServlet.serviceHttpServlet.java
	com.opensymphony.webwork.dispatcher.ServletDispatcherResult.doExecuteServletDispatcherResult.java
	com.opensymphony.webwork.dispatcher.WebWorkResultSupport.executeWebWorkResultSupport.java
	com.opensymphony.xwork.DefaultActionInvocation.executeResultDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.interceptConfigurationInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.interceptParameterFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.webwork.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionProxy.executeDefaultActionProxy.java
	com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
	com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java

note The full stack trace of the root cause is available in the Apache Tomcat.. logs.
Apache Tomcat..
{noformat} ",Bug
"convenient way to take Archiva proxies ""offline"" Im on a bad connection and proxying is very slow, making every archiva request a multiple of that slowness. I dont want to temporarily modify the configuration to disable the connectors or even to turn on failure caching which would help a little - but I would like to have an admin feature to temporarily turn off the proxy functionality altogether, considering Archiva ""offline"" but still serving requests, not that kind of offline .
",Improvement
cache-failure policy timeout should be easily configurable set in a plexus.xml deep in archiva-policy.jar,Improvement
"Error in update-db-project consumer during database scanning when a repo that has been removed was re-added again This was the error from the console
jvm     | -- , pool--thread- INFO  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumerupdate-db-project  - Adding project model to database - org.jruby.pluginsjruby-rake-plugin.RC-.-
jvm     | -- , pool--thread- ERROR org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumerupdate-db-project  - Unable to process model homedengTestFilessample-local-repoorgjrubypluginsjruby-rake-plugin.RC-SNAPSHOTjruby-rake-plugin-.RC-.-.pom due to  javax.jdo.JDOUserException  Field org.apache.maven.archiva.model.ArchivaProjectModel.origin is null, but is mandatory as its described in the jdo metadata
jvm     | javax.jdo.JDOUserException Field org.apache.maven.archiva.model.ArchivaProjectModel.origin is null, but is mandatory as its described in the jdo metadata
jvm     |      at org.jpox.store.rdbms.fieldmanager.ParameterSetter.storeStringFieldParameterSetter.java
jvm     |      at org.jpox.state.StateManagerImpl.providedStringFieldStateManagerImpl.java
jvm     |      at org.apache.maven.archiva.model.ArchivaProjectModel.jdoProvideFieldArchivaProjectModel.java
...

Steps to reproduce
. Added a new m repository sample-local-repo which already exists in my local file system and has artifacts in it
. Scanned the repository
. Updated the database
. Removed the repository
. Added it back again, with the same name, identifier and location.
. Scanned the repository
. Updated the database this is where the error occurred
",Bug
"Saving configuration fails through the webapp. When modifying Proxy Connector through the web UI the following error occured
{code}
Unable to save configuration Unable to create configuration file devnull.marchiva.xml Not a directory
{code}

Geronimo runs as a user without login and with home dir set to devnull.",Bug
"Find Artifact page needs more onscreen informationinstructions Find Artifact

Search for
Checksum

Select the file you would like to locate in the remote repository. The entire file will not be uploaded to the server. See the progress bar below for progress of locally creating a checksum that is uploaded to the server after you hit ""Go!"".

This page and text and the Go button do not help the user understand what they canneed to do.

If they should do only one or the other, only one option should be available at a time.

Recommend changing Go to Submit, for consistency w Search page.",Improvement
"m request with classifier in version is not parsed as expected I have a lib that is built by maven. It also has a retrotranslator version, with classifier ""-backport"", as part of the build process.

When I try to get this lib from archiva, I get a , as the m path
    ""org.jmonitjarsjmonit-.-alpha--SNAPSHOT-backport.jar""
gets converted to
    ""orgjmonitjmonit.-alpha--SNAPSHOT-backportjmonit-.-alpha--SNAPSHOT-backport.jar""
and not
    ""orgjmonitjmonit.-alpha--SNAPSHOTjmonit-.-alpha--SNAPSHOT-backport.jar""


Ive no other example in mind of an artifact with a classifier in central to test with a non-SNAPSHOT.  ",Improvement
"regression  server-side relocation fails .-beta- introduces a regression in maven request handling 

simply try to get 
httplocalhostarchivarepositoryinternalservletapijarsservletapi-..jar


two causes  

. as fetchContentFromProxies MAY change the request pathInfo when relocation occurs, it MUST be called before resource file is build based on request.getLogicalResource.

. getLogicalResource is used to get the resource path. The value returned is not affected when the request PathInfo has been changed.

point  may require some changes in plexus DavServerRequest  compute the logical resource on-demand, or add a new public method to set it.


",Bug
"Browse shows results for all repositories, regardless of security. When browsing archiva using the browse link on the left hand navigation bar, the results are for all repositories, regardless of security.

This needs to be filtered based on access rights of the user.",Bug
"add some minimal hook in LegacyPathParser to allow exception management in artifact resolution Some existing artifacts are not available to maven. jaxen-.-FCS-full for example use by some core maven plugins can only be obtained by specifying a classifier ""full"". 

The maven request ""jaxenjarsjaxen-.-FCS-full.jar"" is converted as artifact  jaxen  jaxen  .-FCS-full , that doesnt exist.

The LegacyPathParser is allready very complex and works for many artifact, but cannot handle classifiers as they can be any string.

A solution to help archiva managers should be to use an resolution exception list 

if  exceptions.contains path  
        {
            String exception  exceptions.getProperty path ;
            String ref  exception.split """" ;
            artifact.setGroupId ref ;
            artifact.setArtifactId ref ;
            artifact.setVersion ref ;
            if  ref.length   
            {
                artifact.setClassifier ref ;
            }
            return artifact;
        }

based on a simple properties file 

jaxenjarsjaxen-.-FCS-full.jar  jaxenjaxen.-FCSfull

This would allow admins to quickly fix such issues and not require archiva to find a way to make legacy path deterministic.
",Improvement
" remote repository is added as managed repository Tried to add maven-repository.dev.java.netnonavrepository as Maven .x repository...result is a managed repository
Directory  	mavenarchivaapache-archiva-.-beta-binsolaris-sparc-maven-repository.dev.java.netnonavrepository

It works if I use http instead of . Copied it from httprepo.maven.orgmavenlogjlogj..logj-...pom",Bug
"purge does not delete the directory of a snapshot that is entirely removed this would be for the ""delete released snapshots"" purge most likely - I had .-SNAPSHOT not removed - but only the metadata and its checksums remained.
",Bug
"proxy connectors default policies for added repositories may not be optimal the default for snapshots and releases is ""ignored"" for updates. This is inconsistent with Maven default behaviour - should it be daily",Bug
"Test failure in RepositoryContentConsumerUtilTest Building from archivatrunk, using mvn clean build  from the root, JDK .._
 test is failing in RepositoryContentConsumerUtilTest

-------------------------------------------------------------------------------
Test set org.apache.maven.archiva.repository.scanner.RepositoryContentConsumerUtilTest
-------------------------------------------------------------------------------
Tests run , Failures , Errors , Skipped , Time elapsed . sec  FAILURE!
testExecutionorg.apache.maven.archiva.repository.scanner.RepositoryContentConsumerUtilTest  Time elapsed . sec   FAILURE!
junit.framework.AssertionFailedError 
  Expectation failure on verify
    processFile""pathtotest-file.txt"" expected , actual 
	at org.easymock.MockControl.verifyMockControl.java
	at org.apache.maven.archiva.repository.scanner.RepositoryContentConsumerUtilTest.testExecutionRepositoryContentConsumerUtilTest.java

",Bug
"Publish code coverage statistics on the project website I had to comment out the Cobertura plugin in the reporting section of the parent pom in order to get the site to build.

It was complaining about a missing cobertura.ser file in archiva-signature-consumers and archiva-applet.

Needs to be investigated and re-enabled, preferably with results aggregated at the top level.

See httpmaven.apache.orgarchivaref.-beta--SNAPSHOT for the latest docs and archivatrunkpom.xml for configuration.",Improvement
"Validation error on new repository creation and other fields under certain conditions When I try to create a new snapshot repository by web interface I obtain this validation error

Repository Purge By Days Older Than needs to be between  and .

even if field is correctly set to 
It is impossible to create a new repository!",Bug
"behaviour of ""delete released snapshots"" is incorrect problem  - it looks at ""allVersions"" instead of ""releasedVersions"" to get the highest released version. This means the existence of .-SNAPSHOT will delete ..-SNAPSHOT, even if they are in concurrent development

problem  - even the above change may not be correct - ..-SNAPSHOT may be developed after . is released.

The logic should instead delete ..-SNAPSHOT only if .. exists and so on for each snapshot.",Bug
"scanner checks timestamps, but some consumers will want to consume artifacts regardless currently, the repository scanner only processes files that have changed since a given time - however some consumers notable the repository purge will want to consume a file every time I was under the impression this was the case already. I believe the timestamp check should be delegated to the consumer.

Currently, the repository purge code does not work on most repositories because the artifacts have already been processed and so dont get scanned again.",Bug
"Newly created user cannot login A new user which has just been created cannot login to Archiva because the user is not validated yet. No email for the new user to validate hisher account is being sent to the user after the account is created. The work around is to click Resend Validation in the User Account page so a validation email is sent to the user and the user can login to Archiva after validating hisher account.

Should this be in redback

",Bug
"Unable to convert null repository config to archiva repository. Unable to convert null repository config to archiva repository.

I just deleted the default repositories and got a whole bunch of exceptions.

There also seems to be some first start schema exceptions in the logs also.",Bug
"Error  when searching an artifact by the checksum Trying to search some artifacts with their checksum I receive this error 

{code}
HTTP ERROR 

Exception in JSP WEB-INFjspresults.jsp

                                           version""${artifactModel.version}""
                   h
                   p
                     myshowArtifactLink groupId""${artifactModel.groupId}"" artifactId""${artifactModel.artifactId}""
                                          version""${artifactModel.version}"" versions""${artifactModel.versions}""
                   p
                 cwhen


Stacktrace

RequestURIarchivachecksumSearch.action

Powered by Jetty

{code}

acfebedefffa bsf-...jar

No results found 

dacfebebbbd jsp-api-..jar

No results found 

dbeefabe jstl-..jar

No results found 

ccedffedcaeecba jstl-..jar

No results found 

fcffdebeddfaf servletapi-..jar

No results found ",Bug
"Unable to download plugin SNAPSHOTs from proxy. Reported in IRC.

{noformat}
Arnaud Hi all
Arnaud is there someone who tried to test to proxy a repository with plugins snapshots
Arnaud like people.apache.orgmaven
Arnaud with the last beta
Arnaud Im not sure but I think I have an issue
brett Arnaud Ill try cleaning my local repo and see
wsmoak Arnaud  havent had time to test yet 
brett get in line 
Arnaud ;-
Arnaud I put archiva in debug
Arnaud I can get those plugins
Arnaud org.apache.maven.pluginsmaven-war-plugin..-.-
Arnaud org.apache.maven.pluginsmaven-surefire-plugin.-SNAPSHOT
joakim There were a host of plugin related fixed commitd yesterday.
joakim not sure your issue is related tho.
Arnaud in proxy connectors I have  cacheignored,releasesdisabled,snapshotshourly,checksumfix
joakim Arnaud, whats the remote repo url
Arnaud httppeople.apache.orgrepom-snapshot-repository
joakim lemme file the ticket.
{noformat}",Bug
"Duplicate repositories show up while editing. Environment Using a pre .-beta- archiva install that has been upgraded to .-beta-.
Situation When editing the repositories, the repositories get duplicated.

This is likely due to the fact that the configuration ""upgrade"" technique from repositories to managedRepositories and remoteRepositories is not removing the repositories section properly..

Several efforts in the code have been made to correct this, but with no success. See revision  in archivatrunk for details.",Bug
"Artifact type ""maven-plugin"" is not detected correctly in .toArtifactReference methods. When working from a path to an ArtifactReference, the maven-plugin type is not detected correctly.",Bug
"Proxy connector logic for getIfModified is backwards. The logic for fetching content that exists locally, and remotely, but hasnt changed remotely is backwards.

All fetches for new content results in a .getIfNewer with a modified timestamp of .
And all fetches for existing content results in .get request.",Bug
"Wrong generated links at root of repository browsing Browsing ""httplocalhostarchivarepositoryinternal"" with no trailing slash! all the links try to lead to archivarepositorystuff missing the repo name internal. It does not happen browsing ""httplocalhostarchivarepositoryinternal"" though with the trailing slash.",Bug
"Audit log is not populated when artifacts are deployed The audit.log file should contain an entry when any of the following events occurs create directory, remove directory, create file, modify file, remove file.

After a release, the audit.log file only contained

--  - Logging Initialized.

There are no other audit log files. I would have expected to see some with dates in the filename, the others are configured to roll on a daily basis.

Needs to be verified with .-beta- or later.",Improvement
"Adding the same repository twice will be redirected to an Edit Repository page. . Create a new repository
. Create another repository with the same values as 

No error will occur after creating  since this will be treated as an edit repository action instead of a create action.",Bug
"archiva should not delete the newest snapshot, regardless of age if the newest snapshot for a library is older than the configured number of days, then even that only viable snapshot getes deleted. I think the days option should only be used in conjunction with the retention count parameter.",Bug
"repair or remove commented out test cases in proxy module  commit r commented out two test cases

archiva-basearchiva-proxysrctestjavaorgapachemavenarchivaproxyManagedDefaultTransferTest.java     FIXME
archiva-basearchiva-proxysrctestjavaorgapachemavenarchivaproxyManagedLegacyTransferTest.java     FIXME

The tests are broken if uncommented - we need to check why they were commented out, and either fix the code, fix the tests, or remove them if they are no longer valid.",Bug
"unfinished scanning after NPE I repeatedly tried to index a mirror of central repository. In previous attempts, usually got  ""Too many files opened"" kind of errors. This time its a NPE, see attached console output",Bug
Localize all pages Move all hardcoded text in JSPs to a properties file,Improvement
"Proxied Repository causes Snapshot plugins to be selected We have proxied multiple repositories into the same local archiva repository.  This includes central, but also included the atlassian repository.

When we tried to release, we started getting problems that maven-deploy-plugin .-SNAPSHOT could not be found.  This seems to be because the atlassian repository has .-SNAPSHOT.

httprepository.atlassian.commavenorgapachemavenpluginsmaven-deploy-pluginmaven-metadata.xml

metadata
groupIdorg.apache.maven.pluginsgroupId
artifactIdmaven-deploy-pluginartifactId
version.-SNAPSHOTversion
	versioning
latest.-SNAPSHOTlatest
	versions
version.-SNAPSHOTversion
versions
lastUpdatedlastUpdated
versioning
metadata",Bug
"Unable to download snapshots behind proxy with authentication I am able to download artifacts from several remote repositories into the internal repository. But I cannot download any dependencies into the snapshots repository. I always get a http-Server redirected too many  times -error. I read that this error occurs if the proxy authentication properties are not set correctly in the http client. I am behind a proxy with basic authentication and an empty password. This configuration works fine for the internal repository, but not for the snapshot repository.

Here are the logs

INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying cache-failures policy with ignored
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.policies.PreDownloadPolicycache-failures  - OK to fetch, check-failures policy set to IGNORED.
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying releases policy with disabled
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.policies.PreDownloadPolicyreleases  - OK to update, release policy does not apply for snapshot versions.
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying snapshots policy with daily
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.policies.PreDownloadPolicysnapshots  - OK to update snapshots, local file does not exist.
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Retrieving orgapachemavenartifactmaven-artifact.-SNAPSHOTmave
n-artifact-.-SNAPSHOT.pom from Apache Snapshots Repository if updated
INFO   | jvm     |   | -- , SocketListener- WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Download failureError transferring file
INFO   | jvm     |   | org.apache.maven.wagon.TransferFailedException Error transferring file
INFO   | jvm     |   |       at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputDataLightweightHttpWagon.java
INFO   | jvm     |   |       at org.apache.maven.wagon.StreamWagon.getIfNewerStreamWagon.java
INFO   | jvm     |   |       at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferSimpleFileDefaultRepositoryProxyConnectors.java
INFO   | jvm     |   |       at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFileDefaultRepositoryProxyConnectors.java
INFO   | jvm     |   |       at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxiesDefaultRepositoryProxyConnectors.java
INFO   | jvm     |   |       at org.apache.maven.archiva.web.repository.ProxiedDavServer.applyServerSideRelocationProxiedDavServer.java
INFO   | jvm     |   |       at org.apache.maven.archiva.web.repository.ProxiedDavServer.fetchContentFromProxiesProxiedDavServer.java
INFO   | jvm     |   |       at org.apache.maven.archiva.web.repository.ProxiedDavServer.processProxiedDavServer.java
INFO   | jvm     |   |       at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.serviceMultiplexedWebDavServlet.java
INFO   | jvm     |   |       at javax.servlet.http.HttpServlet.serviceHttpServlet.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   |       at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   |       at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   |       at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler.dispatchWebApplicationHandler.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
INFO   | jvm     |   |       at org.mortbay.http.HttpContext.handleHttpContext.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationContext.handleWebApplicationContext.java
INFO   | jvm     |   |       at org.mortbay.http.HttpContext.handleHttpContext.java
INFO   | jvm     |   |       at org.mortbay.http.HttpServer.serviceHttpServer.java
INFO   | jvm     |   |       at org.mortbay.http.HttpConnection.serviceHttpConnection.java
INFO   | jvm     |   |       at org.mortbay.http.HttpConnection.handleNextHttpConnection.java
INFO   | jvm     |   |       at org.mortbay.http.HttpConnection.handleHttpConnection.java
INFO   | jvm     |   |       at org.mortbay.http.SocketListener.handleConnectionSocketListener.java
INFO   | jvm     |   |       at org.mortbay.util.ThreadedServer.handleThreadedServer.java
INFO   | jvm     |   |       at org.mortbay.util.ThreadPool$PoolThread.runThreadPool.java
INFO   | jvm     |   | Caused by java.net.ProtocolException Server redirected too many  times 
INFO   | jvm     |   |       at sun.net.www.protocol.http.HttpURLConnection.getInputStreamHttpURLConnection.java
INFO   | jvm     |   |       at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputDataLightweightHttpWagon.java
INFO   | jvm     |   |       ...  more
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying cache-failures policy with ignored
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.policies.PreDownloadPolicycache-failures  - OK to fetch, check-failures policy set to IGNORED.
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying releases policy with disabled
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.policies.PreDownloadPolicyreleases  - OK to update, release policy does not apply for snapshot versions.
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Applying snapshots policy with daily
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.policies.PreDownloadPolicysnapshots  - OK to update snapshots, local file does not exist.
INFO   | jvm     |   | -- , SocketListener- DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Retrieving orgapachemavenartifactmaven-artifact.-SNAPSHOTmave
n-artifact-.-SNAPSHOT.jar from Apache Snapshots Repository if updated
INFO   | jvm     |   | -- , SocketListener- WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Download failureError transferring file
INFO   | jvm     |   | org.apache.maven.wagon.TransferFailedException Error transferring file
INFO   | jvm     |   |       at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputDataLightweightHttpWagon.java
INFO   | jvm     |   |       at org.apache.maven.wagon.StreamWagon.getIfNewerStreamWagon.java
INFO   | jvm     |   |       at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferSimpleFileDefaultRepositoryProxyConnectors.java
INFO   | jvm     |   |       at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFileDefaultRepositoryProxyConnectors.java
INFO   | jvm     |   |       at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxiesDefaultRepositoryProxyConnectors.java
INFO   | jvm     |   |       at org.apache.maven.archiva.web.repository.ProxiedDavServer.fetchContentFromProxiesProxiedDavServer.java
INFO   | jvm     |   |       at org.apache.maven.archiva.web.repository.ProxiedDavServer.processProxiedDavServer.java
INFO   | jvm     |   |       at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.serviceMultiplexedWebDavServlet.java
INFO   | jvm     |   |       at javax.servlet.http.HttpServlet.serviceHttpServlet.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   |       at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   |       at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   |       at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler.dispatchWebApplicationHandler.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
INFO   | jvm     |   |       at org.mortbay.http.HttpContext.handleHttpContext.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationContext.handleWebApplicationContext.java
INFO   | jvm     |   |       at org.mortbay.http.HttpContext.handleHttpContext.java
INFO   | jvm     |   |       at org.mortbay.http.HttpServer.serviceHttpServer.java
INFO   | jvm     |   |       at org.mortbay.http.HttpConnection.serviceHttpConnection.java
INFO   | jvm     |   |       at org.mortbay.http.HttpConnection.handleNextHttpConnection.java
INFO   | jvm     |   |       at org.mortbay.http.HttpConnection.handleHttpConnection.java
INFO   | jvm     |   |       at org.mortbay.http.SocketListener.handleConnectionSocketListener.java
INFO   | jvm     |   |       at org.mortbay.util.ThreadedServer.handleThreadedServer.java
INFO   | jvm     |   |       at org.mortbay.util.ThreadPool$PoolThread.runThreadPool.java
INFO   | jvm     |   | Caused by java.net.ProtocolException Server redirected too many  times 
INFO   | jvm     |   |       at sun.net.www.protocol.http.HttpURLConnection.getInputStreamHttpURLConnection.java
INFO   | jvm     |   |       at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputDataLightweightHttpWagon.java
INFO   | jvm     |   |       ...  more
",Bug
"Deletion of artifacts from Archiva Managed Repositories not being detected . Manually delete a tree of artifacts from the managed repository being used for testing, e.g. delete com. tree.
. In administration console select Repositories.
. Click ""Scan Repository Now"" for test repository where artifacts were deleted.
. Database  Update Database Now.
. Browse.

The index information has not been updated and the entire tree just deleted can still be browsed.  Similarly, if you update a single POM for an artifact and its MDSHA files, then refresh, the changes are not reflected in the browser information for the POM",Bug
"Checksum files shamd are not kept up to date on maven-metadata.xml files. When the maven-metadata.xml files are updated, the associated sha and md checksums are not updated with it.",Bug
"regression reports now show  results as a paged result that is empty in the past, I remember getting a good error message when the reports returned  results, but now I just get

Page  

The links do nothing.

Also, Im not sure why the text in the menu was changed to ""pick report"" Its not like one is being selected for later use, and the other menu items under that menu are not verbs.",Bug
Cleanup index of artifacts that are no longer in the repository This was left out from MRM-,Bug
"not possible to configure purge by retention count currently, this is activated by a  value in the  days field, but the validation prevents that from happening.

I believe the behaviour should be as follows
- the retention count is the minimum number to retain - this many are guaranteed. Valid values are  
- the  of days is the actual filter applied. Valid values are  

So, the retained snapshots is the union of the two sets of results.

However, the retention count still does not apply to something that is handled by ""delete released snapshots"", these should always be deleted in their entirety.",Bug
"proxy should apply repository purge rules as a pre-download policy to prevent unnecessary downloads currently, it will download the artifact, then delete it. This would be more effective as a pre-download policy",Bug
"Replace jasperreports with DataVision due to licensing. Due to the license of JasperReports, we need to remove it from the codebase.

We can use the DataVision library in place of Jasper Reports.

Available Here httpdatavision.sourceforge.net",Improvement
"proxy connectors cache failures options are confusing I think this should be renamed to just ""failures"" which can be ""cached"" or ""ignored"", or otherwise be changed to a yesno value for ""cached failures"".",Bug
"proxy connectors - move updown should not show when its not possible it seems in beta- that there was a change to the layout of the proxy connector pages, and it has ordering now. However, ""up"" still appears on the first one, as does ""down"" on the last, even though they arent relevant.",Bug
"Ability to AggregateReport on a variety of artifact criterium In addition to basic summary information on the total  of files in the Maestro Repository Manager MRM - we need to support the following other basic summary information

a number of uniquediscrete projects based on combo of GroupID and ArtifactID - or is it just ArtifactID
b number of unique communitycompany projects based on GroupID
c number of wars, jars, ears, etc. by file extension type
d number of source files
e number of metadata files
f number of artifacts w a certain license type also number of artifacts with no license info
g number of projects RELATED to a unique communitycompany

there are other stats, but they are more historical, qualitative vs. quantitative - should I put them all here or separate as another issue",New_Feature
"Archiva cannot compile and pass tests on JDK . When using JDK ., Archiva cannot compile and pass all of its unit tests.",Bug
"In Repository Browse, the first unique snapshot version clicked is getting persisted in the request resulting to version does not match error The first unique snapshot version you clicked is getting persisted in the request thats why the DatabaseUnprocessedArtifactConsumer gets the version does not match error when the actual requested artifacts pom file is compared with the version in the request.


Lets say you have the following in your repository, so from the Browse page..

top  org  jruby  plugins  jruby-rake-plugin
Versions

     .RC-.-
     .RC-.-
     .RC-.-
     .RC-.-
     .RC-SNAPSHOT


. Click  .RC-.-, the artifact info will be displayed.

. Now go back to the previous page and click .RC-.-, this would be displayed Unable to find project model for org.jruby.pluginsjruby-rake-plugin.RC-.-. in the page.. and from the logs you will see the following error

jvm     | -- , SocketListener- WARN  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumerupdate-db-project  - Project Model groupId  org.jruby.plugins
jvm     | artifactId  jruby-rake-plugin
jvm     | version  .RC-.- version .RC-.- does not match the pom files version .RC-.-
jvm     | -- , SocketListener- WARN  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumerupdate-db-project  - Invalid or corrupt pom. Project model groupId  org.jruby.plugins


. Go back again to the previous page and click .RC-.-, this would be displayed Unable to find project model for org.jruby.pluginsjruby-rake-plugin.RC-.-. in the page.. and from the logs you will see the following error

jvm     | -- , SocketListener- WARN  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumerupdate-db-project  - Project Model groupId  org.jruby.plugins
jvm     | artifactId  jruby-rake-plugin
jvm     | version  .RC-.- version .RC-.- does not match the pom files version .RC-.-
jvm     | -- , SocketListener- WARN  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumerupdate-db-project  - Invalid or corrupt pom. Project model groupId  org.jruby.plugins


Notice that the one being added in the database is still the first unique version you clicked, which is .RC-.-.",Bug
"Release policy of disabled fails all metadata requests. Unable to successfully download maven-metadata.xml files when the release policy is set to disabled.

To reproduce it
 Setup a proxy connector to repo of snapshots at apache  httppeople.apache.orgrepom-snapshot-repository
a Set the Release policy to ""disabled"".

 And in your project you add this plugin declaration 
{codexml}
plugin
  groupIdorg.apache.maven.pluginsgroupId
  artifactIdmaven-assembly-pluginartifactId
  version.-beta--SNAPSHOTversion
plugin
{code}

 Attempt to compile the project.
",Bug
"Some maven  requests are treated as maven  requests We requested the following artifacts from our public Archiva instance which resulted in the attached error.txt
fopfoptrunk--atlassian - maven.atlassian.comrepositorypublicfopfoptrunk--atlassianfop-trunk--atlass
org.hibernatejtidyr- - maven.atlassian.comrepositorypublicorghibernatejtidyr-jtidy-r-.jar

Brett looked at this and said that Archiva is interpreting both of these urls as maven requests and breaking.",Bug
"For upgrade, assume that existing users have been verified pre-beta- Hey guys,
Upgraded my Archiva instances to beta- from a beta- SNAPSHOT and noticed that none of the user accounts could be accessed because they had not been verified with the user via email.

Can we assume when archiva is upgraded that all existing users have been verified in this case",Bug
"Appearance Actions do not work when ${user.home} is invalid. The reliance on maven core components with regards to Appearance  Company Info  Edit Pom actions, prevents server installations without a valid user $HOME directory.  such as devnull 

We should migrate away from maven core components at our earliest opportunity.",Bug
"Search results return results for all repositories, regardless of security. The UserAllowedToSearchRepositoryPredicate needs to be finished.
It should take the current user, their RBAC roles, and filter based on the roles available to the user.",Bug
"Documentation for configuring for Tomcat is invalid Following httpmaven.apache.orgarchivaguidesgetting-started.html for Tomcat didnt get me started.
Ill go through it point by point


 Create a directory in tomcat called archiva, at the same level as bin, conf, logs and the others.
 Copy the war file from appsarchivalib into the new directory

There is not appsarchivalib in the .-beta- distribution. 
apps contains a single file  archiva-plexus-application-.-beta-.jar which does itself contain a war file, so I extracted that file and copied it to the TOMCAT_HOMEarchiva folder.

NB IMHO modifying TOMCAT in this manner smells all wrong.

 Create a confCatalinalocalhostarchiva.xml file with the following data yadda, yadda

The docBase attribute refers to archiva-webapp-.-SNAPSHOT.war instead of archiva-webapp-.-beta-.war

No idea why a javax.mail.Session needs to be configured here, havent seen any documentation in Archiva that suggests it send, receives email. But this was a slight pain when configuring for Tomcat-.. as I needed to follow the extra steps for the missing classes. If the MailSession is not required it would be better to avoid this pain by simplifying the config.

Again modifying TOMCAT like this does not feel right. Surely this config could be contained within the webapp.

 Copy $HOME.morgapachederbyderby...derby-....jar or from the remote repository into the Tomcat commonlib

I am really against  this as I have now introduced Derby-... into the classpath of all my other applications running on that Tomcat instance. Surely this library could be packaged up into the webapp. 

 To deal with a current bug, youll also need to add the following to your $catalina.homeconfweb.xml in the relevant section search for jspx

Again, surely this could be included in the config for the Archiva webapp instead of introduced into Tomcat generally. This heavy handed approach makes maintenance difficult, eg upgrading to a new version of Tomcat is now extremely onerous.


OK,  so having followed the instructions above, when I try to startup Tomcat the first thin I get is a failure with the logging sub system. see attached bad-log-filename.log. I believe this is due to the fact that ${appserver.base} in logj.xml has never been set
{code}
    param name""file"" value""${appserver.base}logsarchiva.log"" 
{code}

Next, it fails as it cant find javax.mail.Authenticator this is Tomcat-...

NB I never saw any indication that ""schema SA does not exist"" as the final note suggests. But perhaps this was because Archiva never got that far. Certainly no application is available at httplocalhostarchiva

Anyway, by this stage I became discouraged enough that I gave up.

Its a shame really as I would have liked to be able to compare Archiva against Proximity and Artifactory, both of which I managed to get setup in under  mins including vastly restructuring the default repository config that they ship with.

Brett, hope that helps.


Further notes
I really dont like modifying the contents of TOMCAT_HOME other than to deploy a WAR to TOMCAT_HOMEwebapps.
And the infrastructure team werent impressed either and its makes maintenance high cost.
Better to keep all config solely within the confines of the webapp or use a environment variable to declare a separate proxy_home where all the config is contained like Artifactory does.
",Bug
"just-in-time consumption of repository changes  need to have a simple, reusable way to be able to trigger consumers for a given artifact just-in-time for things like addition via a proxy, removal via purge, etc.",Improvement
"archiva version is not calculated correctly - always ""Unknown"" in both the logs and the footer in beta- release candidate",Bug
"metadata-updater is changing lastUpdating timestamp when it shouldnt This is a bit of a trivial bug and the result is not harmfull, but I think the metadata-updater should not change data that is valid.

As far as I could find the lastUpdated field is the timestamp on which the metadata was last updated, so should not be touched in this case.

During scanning, some  maven-metadata.xml files are updated in my repository .
The metadata being updated is
xml version""."" encoding""UTF-""metadata
  groupIdcom.informatica.profiling.servicesgroupId
  artifactIdprofiling-model-persistartifactId
  version.-SNAPSHOTversion
  versioning
    snapshot
      timestamp.timestamp
      buildNumberbuildNumber
    snapshot
    lastUpdatedlastUpdated
  versioning
metadata

After update the lastUpdated field is changed to 
    lastUpdatedlastUpdated

As far as I could find the lastUpdated field is the timestamp on which the metadata was last updated, so should not be touched in this case.

Scanlog
-- , pool--thread- DEBUG org.apache.maven.archiva.repository.scanner.RepositoryScannerdefault  - Sending to consumer metadata-updater
-- , pool--thread- INFO  org.apache.maven.archiva.consumers.KnownRepositoryContentConsumermetadata-updater  - Updated metadata comxxxprofilingservicesprofiling-model-persist.-SNAPSHOTmaven-metadata.xml
-- , pool--thread- INFO  org.apache.maven.archiva.consumers.KnownRepositoryContentConsumermetadata-updater  - Updated metadata comxxxprofilingservicesprofiling-model-persistmaven-metadata.xml
",Bug
"Remote Repositories with empty username and password fields shouldnt be created in configuration. It is possible for a remoteRepository section in the archiva configuration file to be created with an empty username andor password fields.  

Need to prevent emptyblank username and password fields from being created in the archiva configuration.

Also need to prevent loading blank username and password fields from the archiva configuration.",Bug
"Browse  Info not synchronised with updated POM contents . Take an existing POM in the repository and modify its contents I changed the description.
. In administration console select Repositories.
. Click ""Scan Repository Now"" for test repository where POM was changed.
. Database  Update Database Now.
. Browse to POM location.

The index information has not been updated, the changes are not reflected in the browse  info section for the POM.  Step  can be replaced with the modification of the POM outside of the repository, followed by the redeployment of the POM ad associated jar to the repository.
",Bug
"Proxy Connectors are not deleted with the deletion of a Repository. When you delete a repository managed or remote if there is a proxy connector established for that former repository, then the proxy connector itself remains.

Desired Outcome

 When you delete a repository, associated Proxy Connectors should be deleted too.
 If a proxy connector is going to be deleted, this should also be outlined in the delete confirmation screens.",Bug
"Web app does not give error message when one defines an illegal directory for a Managed Repository When you create a new Managed Repository and define a Directory in which Archiva has no write permissions, the webapp doesnt give an error message. When you click Add Repository it just does nothing and remains on the same Add Managed Repository page. Because of the fact that Archiva did not display an error message ""Cannot create directory, no write access."" or something like that it took me quite some time to figure out that I had made a typo in the Directory name.",Bug
"Cannot run Archiva as another user because su is run with option ""-"" --login I am using the script binlinux-x-run.sh to run Archiva as another user named archiva. That does not work until I remove the option ""-"" --login from the su command. After removing that option, the script works as expected.",Bug
"Create zip to jar consumer for boneheaded releases. Create a new consumer for identifying non-standard artifacts within the repository that utilize the zip extension  type incorrectly.

This is most common with releases from proprietary vendors such as Oracle, that release new versions of libraries in the zip format, when the contents should be in the jar format instead.",New_Feature
"Make security level of repository more obvious on adminrepositories screen. Make the repositories screen show the security level of the repository.
Make the repository configuration process simplify the role assignments.
Pre-configure the default-archiva.xml repositories for public, read-only security level.

Technical Details
 Add a field ManagedRepositoryConfiguration.security with possible value public-read-only, public-read-write, access-controlled
 Configure the default-archiva.xml with that field set true.
 Configure the UI for repositories to showsetchange that value.
 Integrate the guest user role assignments to that field.
",Improvement
"regression  cannot get java-sources anymore from maven requesting ""junitjava-sourcesjunit-..-sources.jar"" fails.

Path is converted internally to 
groupId  junit
artifactId  junit
version  ..-sources
type  jar



I can publish a fix for this, but my workspace contains other modified code and I can hardly create a dedicated patch.

The idea is to create a ArtifactClassifierMapping similar to existing ArtifactExtensionMapping, and to use it in LegacyPathParser 

{quote}
             Sanity Check does extension match pathType on path
            String trimPathType  expectedType.substring , expectedType.length -  ;

            String expectedExtension  ArtifactExtensionMapping.getExtension trimPathType ;
{colorred} 
            artifact.setType expectedExtension ;
            String classifier  ArtifactClassifierMapping.getClassifier trimPathType ;
            if  classifier ! null 
            {
               String version  artifact.getVersion;
                if  ! version.endsWith ""-""  classifier  
                {
                    throw new LayoutException INVALID_ARTIFACT_PATH  expectedType  "" artifacts must use the classifier ""  classifier ;
                }
                version  version.substring , version.length - classifier.length -  ;
                artifact.setVersion version ;
                artifact.setClassifier classifier ;
            }
{color}
{quote}",Bug
"Failure in PathUtilTest under windows because the test uses slashes in path but test File.separator in PathUtil -------------------------------------------------------------------------------
Test set org.apache.maven.archiva.common.utils.PathUtilTest
-------------------------------------------------------------------------------
Tests run , Failures , Errors , Skipped , Time elapsed . sec  FAILURE!
testToRelativeWithSlashorg.apache.maven.archiva.common.utils.PathUtilTest  Time elapsed . sec   FAILURE!
junit.framework.ComparisonFailure expectedp... but was...
	at junit.framework.Assert.assertEqualsAssert.java
	at junit.framework.Assert.assertEqualsAssert.java
	at org.apache.maven.archiva.common.utils.PathUtilTest.testToRelativeWithSlashPathUtilTest.java",Bug
"Unable to specify the location of the index files through the web ui There is currently no way to configure the location of the Lucene index files through the web ui.

Workaround  edit archiva.xml and provide repository ... indexDirpathtoindex-dirindexDir 

",Bug
"Maven integration tests fail when using Archiva as a proxy The following ITs pass without the proxy, but fail with it turned on




I have not investigated if this is an Archiva problem or an IT problem yet.",Bug
"Archiva .-beta- fails in  on all legacy request. Archiva .-beta- fails in  on all legacy request.

example  

httplocalhostarchivarepositoryinternaljavaxservletservlet-api.servlet-api-..jar returns the expected jar

httplocalhostarchivarepositoryinternaljavax.servletjarsservlet-api-..jar - .",Bug
"Error  while deleting a proxy connector This error occurs when I try to remove the default proxy connector for maven-repository.dev.java.net

Web 
{code}
HTTP ERROR 

Neither confirm nor doConfirm is found in action class org.apache.maven.archiva.web.action.admin.connectors.proxy.DeleteProxyConnectorAction

RequestURIarchivaadmindeleteProxyConnector!confirm.action
{code}

Log 
{code}
INFO   | jvm     |   | WARNING archivaadmindeleteProxyConnector!confirm.actionsourceinternal&targetmaven-repository.dev.java.net
INFO   | jvm     |   | java.lang.IllegalArgumentException Neither confirm nor doConfirm is found in action class org.apache.maven.arch
iva.web.action.admin.connectors.proxy.DeleteProxyConnectorAction
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java

INFO   | jvm     |   |       at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
INFO   | jvm     |   |       at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.interceptConfigurationInterceptor.java

INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInter
ceptor.java
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.jav
a
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.interceptParameterFilterInterceptor.java

INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java

INFO   | jvm     |   |       at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
INFO   | jvm     |   |       at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at com.opensymphony.webwork.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java

INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java

INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor
.java
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   |       at com.opensymphony.xwork.DefaultActionProxy.executeDefaultActionProxy.java
INFO   | jvm     |   |       at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
INFO   | jvm     |   |       at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   |       at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
INFO   | jvm     |   |       at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   |       at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler.dispatchWebApplicationHandler.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
INFO   | jvm     |   |       at org.mortbay.http.HttpContext.handleHttpContext.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationContext.handleWebApplicationContext.java
INFO   | jvm     |   |       at org.mortbay.http.HttpContext.handleHttpContext.java
INFO   | jvm     |   |       at org.mortbay.http.HttpServer.serviceHttpServer.java
INFO   | jvm     |   |       at org.mortbay.http.HttpConnection.serviceHttpConnection.java
INFO   | jvm     |   |       at org.mortbay.http.HttpConnection.handleNextHttpConnection.java
INFO   | jvm     |   |       at org.mortbay.http.HttpConnection.handleHttpConnection.java
INFO   | jvm     |   |       at org.mortbay.http.SocketListener.handleConnectionSocketListener.java
INFO   | jvm     |   |       at org.mortbay.util.ThreadedServer.handleThreadedServer.java
INFO   | jvm     |   |       at org.mortbay.util.ThreadPool$PoolThread.runThreadPool.java
{code}",Bug
Accessing a newly added repository via webdav results to a  error Repository can be accessed via webdav after restarting the server. ,Bug
"Metadata files need Pragmano-cache response header. The Pragmano-cache header on the HTTP response should be set on responses of maven-metadata.xml files.

This should be done to be friendly to network-proxies that are in the path between the client and the archiva server.",Bug
"the default scan cron expression is once a day, should be hourly      -     , I think",Bug
"add some caching headers to css, javascript and images to improve performance, especially if using a HTTPD reverse proxy also document the best way to configure if httpd is in front of it",Improvement
"Versions latest and release wrong after regeneration of maven-metadata.xml Hello,

Ive setup an Archiva server .-beta- on a Debian Linux machine Tomcat .., Sun JVM .._. I have a managed local repository ""internal-central"" which is connected via a proxy connector to the central repository. I have another managed local repository ""release"" for my own development and deployment. Ive created a Maven plugin to deal with our CA Harvest SCM system which I deploy to the ""release"" repository. The generated maven-metadata.xml file looks as follows

xml version""."" encoding""UTF-""metadata
  groupIdorg.test.maven.pluginsgroupId
  artifactIdmaven-harvest-pluginartifactId
  version.version
  versioning
    latest.latest
    release.release
    versions
      version.version
    versions
    lastUpdatedlastUpdated
  versioning
metadata

When I then use a client to retrieve the pluging by calling the mvn harvestupdate mojo, I get the following error
""The plugin org.test.maven.pluginsmaven-harvest-plugin does not exist or no valid version could be found""

When I look at the maven-metadata.xml file in the repository it contains this

xml version""."" encoding""UTF-""

metadata
  groupIdorg.test.maven.pluginsgroupId
  artifactIdmaven-harvest-pluginartifactId
  versioning
    versions
      version.version
    versions
  versioning
metadata

For some reason, Archiva has regenerated the maven-metadata.xml  file, removing the latest,release and lastUpdated version information. This, as far as I know, results in the no valid version could be found error.

Ive seen this behaviour also on the proxied repository ""internal-central"". For example when proxying spring jars, I notice that the latest and release version information, which is present in the metadata files at  repo.maven.org, are not present in the local central repository.

The regeneration seems to happen even when the metadata-updater consumer is switched off it doesnt update the metadata when scanning the repository when it is switched off, but the metadata is regenerated when a client tries to download the plugin.

The workaround for my problem is to specify the exact version of the plugin to be used in my pom.xml, which is something I dont want because the plugin is under heavy development. I also dont seem to understand why Archiva should even regenerate the maven-metadata.xml files.",Bug
"cannot undeploy archiva webapp 
Id like to undeploy without restarting Tomcat as I dont have admin acces to the server. When I undelploy archiva webapp using tomcat manager, the webapparchiva directory is not removed and WEB-INFlib still contains

jpox-...jar
plexus-container-default-.-alpha-.jar
plexus-security-authorization-rbac-store-jdo-.-alpha--.-.jar
plexus-security-keys-jdo-.-alpha--.-.jar
plexus-security-user-management-provider-jdo-.-alpha--.-.jar
webwork-...jar
xwork-...jar

I cannot remove those jars files locked 

Maybe some background thread is not stopped at application undeploy ",Bug
"Proxied repositories change order when edited If you edit a proxied repository to checkuncheck Use HTTP Proxy for example the order of the list changes after you update.

To reproduce, set up more than one proxied repository, then
. Administration - Proxied Repositories 
. Observe the order of the list of proxied repositories
. Edit Repository - make a change - Update Repository
. Compare the order of the list to 

They should always be in the same order.",Bug
"feedback.action gives  error click the URL on the user validation email and get the  error
------------------------------------------------------------------------------------------
HTTP ERROR 

There is no Action mapped for namespace  and action name feedback. Check if there is such an action name with such namespace defined in the xwork.xml and also if such an action class exists. Check also the log to see if the action class is successfully loaded.

RequestURIfeedback.action

Powered by Jetty
-------------------------------------------------------------------------------------------",Bug
"MirrorProxy functionality is broken in Archiva Currently, the archiva admin has to specify which sites Archiva should proxymirror and in which managed repository the downloaded artefacts should end up.

This approach has several drawbacks

- Resources with a similar name but from different sites can end up in the same managed repository. This is deadly if there is a bug in the resource which is fixed on site A but archiva downloads it from B. Since the resource exists, Archiva will not download it again even after the problem is fixed and the maven mirrors re-synchronized.

- Since every POM can define their own repositories, its very hard to maintain the list of proxied repositories. The situation gets worse when you download a new plugin which in turn wants artefacts from other sites which are not yet in the list. Maven will not use Archiva for these which means every developer downloads those resources.

This also means I have to configure maven to be able to access the internet directly while I would prefer to be able to force it to make all connections via archiva. This way, I can fix all broken POMs inhouse, for example.

- In mavens settings, I have to specify which mirrors exist. The key for the decision is the ID of the repository. Unfortunately, the ID is just an arbitrary string. Many projects use different IDs for the same repository. Some use ""codehaus.org"", some use ""codehaus"". Ive seen POMs which think ""codehaus.org"" is for snapshots while they use ""codehaus"" for the releases.

In the end, there is no way to map repository ""IDs"" to mirrors which will work for all maven projects out there.

Therefore, I suggest that you change the handling of proxied repositories. Instead of using mirror settings, I would prefer to use the proxy settings of maven to integrate Archiva.

Archiva should keep a blacklist of repositories which are to be ignored but everything else should be downloaded into a mirror directory which contains the hostnames of the sites as first level. This means artefacts from ""httppeople.apache.orgmaven-snapshot-repository"" would end up in Carchivamirrorpeople.apache.orgmaven-snapshot-repository...""

If the port number is ! , you can add another level for the port.

This should allow us to force maven to download everything through Archiva. We would be able to control which plugins and which versions are used and we could fix broken POMs. We could even put patched versions of plugins into the mirror directory.",Bug
"Archivas relocation feature should be configurable Archiva automatically delivers the new pom and jar for a relocated artifact to a maven client.

The downside of this feature is that clients do not get a warning that the artifact is relocated anymore.

In a ""All-Maven"" environment this warning is quite good, and gives the developer a hint and a motivation get rid of the warning ;-  to use the new groupId.

So I think it would be a good idea to make this feature configurable, so the archiva admin can turn it off.

",Improvement
"Undesirable Tomcat configuration for .jspf files .jspf files need to be picked up as JSP files by Tomcat. This isnt intended - they should just be static includes. See the following email thread for more info

httpmail-archives.apache.orgmod_mboxmaven-archiva-users.mboxcFDFF-CA--BCAA-FECF@apache.orge
",Bug
"change main link for artifact download I think the main link should be the more prominent - previous design had just a download button and the sourcejavadoc were elsewhere in the page.

Perhaps the better solution is to keep them centralised as now, but have a large download link, then other downloads below it for the sourcejavadoc",Improvement
"Repository purge feature for snapshots We need a way to purge a repository of snapshots older than a certain date, optionally retaining the most recent one and fixing the metadata.

",New_Feature
"Build failure package org.apache.maven.archiva.reporting.executor does not exist Followed instructions on httpmaven.apache.orgarchivaguidesgetting-startedindex.html to test-deploy Archiva on the embedded Jetty
Checked out HEAD revision 
mvn jettyrun resulted in BUILD FAILURE, log attached
",Bug
"Managed Repositories and Proxied Repositories buttons under Administration are not displayed when using Internet Explorer . When using Internet Explorer , the ""Managed Repositories"" and ""Proxied Repositories"" buttons under Administration are not displayed.",Bug
"POM error when indexing an m repository org.apache.maven.project.InvalidProjectModelException Not a v.. POM.
	org.apache.maven.project.DefaultMavenProjectBuilder.readModelDefaultMavenProjectBuilder.java
	org.apache.maven.project.DefaultMavenProjectBuilder.readModelDefaultMavenProjectBuilder.java
	org.apache.maven.project.DefaultMavenProjectBuilder.findModelFromRepositoryDefaultMavenProjectBuilder.java
	org.apache.maven.project.DefaultMavenProjectBuilder.buildFromRepositoryDefaultMavenProjectBuilder.java
	org.apache.maven.project.DefaultMavenProjectBuilder.buildFromRepositoryDefaultMavenProjectBuilder.java
	org.apache.maven.archiva.web.action.ShowArtifactAction.readProjectShowArtifactAction.java
	org.apache.maven.archiva.web.action.ShowArtifactAction.artifactShowArtifactAction.java

So seems pretty simple - Archiva is looking for m poms in the m repository.",Bug
"Error while indexing m plugin trying to index my local m repository I encounter the following stacktrace 

{code}
java.lang.IllegalStateException Couldnt find artifact EDatamaven-repositorycargopluginscargo-maven-plugin-..plugin
	org.apache.maven.archiva.reporting.LocationArtifactReportProcessor.processArtifactLocationArtifactReportProcessor.java
	org.apache.maven.archiva.reporting.AbstractReportGroup.processArtifactAbstractReportGroup.java
	org.apache.maven.archiva.reporting.DefaultReportExecutor.runArtifactReportsDefaultReportExecutor.java
	org.apache.maven.archiva.scheduler.task.IndexerTask.executeIndexerTask.java
	org.apache.maven.archiva.scheduler.task.IndexerTask.executeIndexerTask.java
	org.apache.maven.archiva.scheduler.DefaultRepositoryTaskScheduler.runIndexerDefaultRepositoryTaskScheduler.java
	org.apache.maven.archiva.web.action.admin.RunRepositoryTaskAction.runIndexerRunRepositoryTaskAction.java
	sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	java.lang.reflect.Method.invokeMethod.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.interceptConfigurationInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.security.ui.web.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.security.ui.web.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.security.ui.web.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	org.codehaus.plexus.security.ui.web.interceptor.EnvironmentCheckInterceptor.interceptEnvironmentCheckInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.webwork.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	com.opensymphony.xwork.DefaultActionProxy.executeDefaultActionProxy.java
	com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
	com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
{code}

I have a plugin for maven  cargo-maven-plugin-..jar in EDatamaven-repositorycargoplugins

Its a problem to handle ""non-standards"" type when the type given in the directory name is different to the type given in the artifact extension.
Well certainly have the same problem for ejb, ejb-clients ...",Bug
"Unable to un-check checkboxes When editing repositories, I am unable to un-check any of the checkboxes, such as Include Snapshots or Use HTTP Proxy.

The only way I can make changes is to edit .marchiva.xml and re-start.


",Bug
" Insufficient Storage when deploying artifact with webdav Sometimes when deploying with dav I get a "" Insufficient Storage"" error.

The artifact ...groupartifactversionartifact-version.jar gets deployed with checksums.
The metadata ...groupartifactversionmaven-metatdata.xml gets deployed with checksums.

It seems to happen when maven tries to upload the updated parent metadata ...groupartifactmaven-metadata.xml. The checksums for this metadata deploys OK.",Bug
"download artifact null pointer exception on artifacts with classifiers browse to org.testngtestng. the page throws a null pointer exception because the artifact is not found.

I expect this is because it looks for testng-..jar, when all that is present is testng-.-jdk.jar and testng-.-jdk.jar",Bug
"archiva-common Fix BaseFileTest, so it will run on Windows The test org.apache.maven.archiva.common.utils.BaseFileTest wont pass on Windows platform, because it doesnt compensate for drive letters being adding to the absolute paths. Ive added some simple utility methods and tweaked the expected values to compensate for this. I dont have a Linux box to test on, so I havent validated that they still work there, so the committer should verify the tests on a Linux or Unix box.",Bug
"Archiva trunk does not build Since the Archiva website ""Getting Started"" page tells people to build from trunk, it is bad for trunk to not build. Trunk is currently broken because the MRM- changes have already been committed, but they are dependent on very recent changes to plexus-security-rbac-profile which have not yet been deployed to the codehaus snapshot repository.",Bug
"Repository conversion is not working in central repo Several synced projects are not being converted

All org.apache.ant
httprepo.maven.orgmavenorg.apache.ant
httprepo.maven.orgmaven-converted-from-mavenorgapacheant

groovy-.-RC-
httprepo.maven.orgmavengroovyjars
httprepo.maven.orgmaven-converted-from-mavengroovygroovy
",Bug
"After removing a managed repository - BrowseSearch still see it I had a repository with lots of stuff in. I removed that but didnt delete contents, then I added a tiny repository with a couple of jars in. When I goto browse and search, I still see the original, now removed, repository.

Re-indexing didnt help JIRA uses indexes for lists a lot, so I figured this might be the case here too.",Bug
Need support for private key authorization. Authentication with the password is fine for some but the private key authorization supported by maven shoul be supported by archiva. This would allow organizations to have true security when installing artifacts or fetching them from servers.,Improvement
"M to M repo conversion creates "".plugin"" for M plugins On maven public repository, maven m plugins are packaged with "".plugin"" extension 
- httprepo.maven.orgmavenmavenmaven-changelog-plugin.. 

AFAIK the expected extension is .jar as maven-one-plugin created artifacts

This issue may be related to MRM-, as requesting Archiva for M plugins has the same issue and can be solved by configuring a global artifactHandler for m plugins. ",Bug
"Reporting adds duplicated entries on each run The health report adds new entries every time it runs, although they already exist

      warnings
        warning reason""The artifact had no POM in the source repository."" 
        warning reason""The artifact had no POM in the source repository."" 
      warnings
",Bug
"Improve the search results page to look like and share code with the dependency pages Attached is a patch to improve the results.jsp page. Ive extracted the code that handles version merging into a utility class, and the jsp that handles the artifact title linking into a tagfil, so now the search results look the same as the dependency results with multiple versions per line.",Improvement
"""Proxied through"" List does not update until Archiva Restart If you create a repository and then delete it and create another then the other repositories do not show properly as ""proxied through"" repositories. In the drop down list when creating a new repository. You must restart the server for the new managed repository to be seen. ",Bug
"OS-specific scripts missing from archivabin The Archiva plexus-runtime built from source at r has only binplexus.sh and binplexus.bat.

The usual binlinux, binwin, etc., directories, with the wrapper and scripts, are not present.

",Bug
"Server startup on jetty broken due to bug in plexus-xwork-integration PLX- Due to a bug in plexus-xwork-integration see httpjira.codehaus.orgbrowsePLX-, web application is not available because a VerifierError occurs, complaining about final method being overridden.",Bug
"Archiva doesnt suppost UTF- databases in Mysql If the mysql database is created with Collation utf_unicode_ci I receive this error when tables are created 
{code}
-- , http--Processor ERROR RDBMS                          - Error thrown executing CREATE TABLE `OPERATIONS`

    `NAME` VARCHAR BINARY NOT NULL,
    `DESCRIPTION` VARCHAR BINARY NULL,
    `PERMANENT` BIT NOT NULL,
    `RESOURCE_REQUIRED` BIT NOT NULL,
    PRIMARY KEY `NAME`
 ENGINEINNODB  Specified key was too long; max key length is  bytes
java.sql.SQLException Specified key was too long; max key length is  bytes
	at com.mysql.jdbc.MysqlIO.checkErrorPacketMysqlIO.java
	at com.mysql.jdbc.MysqlIO.sendCommandMysqlIO.java
	at com.mysql.jdbc.MysqlIO.sqlQueryDirectMysqlIO.java
	at com.mysql.jdbc.Connection.execSQLConnection.java
	at com.mysql.jdbc.Connection.execSQLConnection.java
	at com.mysql.jdbc.Statement.executeStatement.java
	at org.apache.tomcat.dbcp.dbcp.DelegatingStatement.executeDelegatingStatement.java
	at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementAbstractTable.java
	at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementListAbstractTable.java
	at org.jpox.store.rdbms.table.AbstractTable.createAbstractTable.java
	at org.jpox.store.rdbms.table.AbstractTable.existsAbstractTable.java
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidateRDBMSManager.java
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.runRDBMSManager.java
	at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.executeRDBMSManager.java
	at org.jpox.store.rdbms.RDBMSManager.addClassesRDBMSManager.java
	at org.jpox.store.rdbms.RDBMSManager.addClassRDBMSManager.java
	at org.jpox.store.StoreManager.getDatastoreClassStoreManager.java
	at org.jpox.store.rdbms.RDBMSManager.getExtentRDBMSManager.java
	at org.jpox.AbstractPersistenceManager.getExtentAbstractPersistenceManager.java
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.getAllObjectsJdoTool.java
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.getAllObjectsJdoTool.java
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.triggerInitJdoTool.java
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.getPersistenceManagerJdoTool.java
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.getObjectByIdJdoTool.java
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.objectExistsByIdJdoTool.java
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoRbacManager.roleExistsJdoRbacManager.java
	at org.codehaus.plexus.rbac.profile.AbstractRoleProfile.getRoleAbstractRoleProfile.java
	at org.codehaus.plexus.rbac.profile.DefaultRoleProfileManager.getRoleDefaultRoleProfileManager.java
	at org.codehaus.plexus.security.ui.web.checks.security.RequiredRolesEnvironmentCheck.validateEnvironmentRequiredRolesEnvironmentCheck.java
	at org.codehaus.plexus.security.ui.web.interceptor.EnvironmentCheckInterceptor.initEnvironmentCheckInterceptor.java
	at org.codehaus.plexus.xwork.PlexusObjectFactory.buildInterceptorPlexusObjectFactory.java
	at com.opensymphony.xwork.config.providers.InterceptorBuilder.constructInterceptorReferenceInterceptorBuilder.java
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.lookupInterceptorReferenceXmlConfigurationProvider.java
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.loadInterceptorStackXmlConfigurationProvider.java
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.loadInterceptorStacksXmlConfigurationProvider.java
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.loadInterceptorsXmlConfigurationProvider.java
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.addPackageXmlConfigurationProvider.java
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.loadConfigurationFileXmlConfigurationProvider.java
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.initXmlConfigurationProvider.java
	at com.opensymphony.xwork.config.impl.DefaultConfiguration.reloadDefaultConfiguration.java
	at com.opensymphony.xwork.config.ConfigurationManager.getConfigurationConfigurationManager.java
	at com.opensymphony.xwork.DefaultActionProxy.initDefaultActionProxy.java
	at com.opensymphony.xwork.DefaultActionProxyFactory.createActionProxyDefaultActionProxyFactory.java
	at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at org.apache.catalina.core.StandardWrapperValve.invokeStandardWrapperValve.java
	at org.apache.catalina.core.StandardContextValve.invokeStandardContextValve.java
	at org.apache.catalina.core.StandardHostValve.invokeStandardHostValve.java
	at org.apache.catalina.valves.ErrorReportValve.invokeErrorReportValve.java
	at org.apache.catalina.core.StandardEngineValve.invokeStandardEngineValve.java
	at org.apache.catalina.connector.CoyoteAdapter.serviceCoyoteAdapter.java
	at org.apache.coyote.http.HttpProcessor.processHttpProcessor.java
	at org.apache.coyote.http.HttpBaseProtocol$HttpConnectionHandler.processConnectionHttpBaseProtocol.java
	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocketPoolTcpEndpoint.java
	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runItLeaderFollowerWorkerThread.java
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.runThreadPool.java
	at java.lang.Thread.runThread.java

-- , http--Processor ERROR SCHEMA                         - An exception was thrown while addingvalidating classes  Specified key was too long; max key length is  bytes
java.sql.SQLException Specified key was too long; max key length is  bytes
	at com.mysql.jdbc.MysqlIO.checkErrorPacketMysqlIO.java
	at com.mysql.jdbc.MysqlIO.sendCommandMysqlIO.java
	at com.mysql.jdbc.MysqlIO.sqlQueryDirectMysqlIO.java
	at com.mysql.jdbc.Connection.execSQLConnection.java
	at com.mysql.jdbc.Connection.execSQLConnection.java
	at com.mysql.jdbc.Statement.executeStatement.java
	at org.apache.tomcat.dbcp.dbcp.DelegatingStatement.executeDelegatingStatement.java
	at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementAbstractTable.java
	at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementListAbstractTable.java
	at org.jpox.store.rdbms.table.AbstractTable.createAbstractTable.java
	at org.jpox.store.rdbms.table.AbstractTable.existsAbstractTable.java
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidateRDBMSManager.java
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.runRDBMSManager.java
	at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.executeRDBMSManager.java
	at org.jpox.store.rdbms.RDBMSManager.addClassesRDBMSManager.java
	at org.jpox.store.rdbms.RDBMSManager.addClassRDBMSManager.java
	at org.jpox.store.StoreManager.getDatastoreClassStoreManager.java
	at org.jpox.store.rdbms.RDBMSManager.getExtentRDBMSManager.java
	at org.jpox.AbstractPersistenceManager.getExtentAbstractPersistenceManager.java
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.getAllObjectsJdoTool.java
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.getAllObjectsJdoTool.java
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.triggerInitJdoTool.java
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.getPersistenceManagerJdoTool.java
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.getObjectByIdJdoTool.java
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.objectExistsByIdJdoTool.java
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoRbacManager.roleExistsJdoRbacManager.java
	at org.codehaus.plexus.rbac.profile.AbstractRoleProfile.getRoleAbstractRoleProfile.java
	at org.codehaus.plexus.rbac.profile.DefaultRoleProfileManager.getRoleDefaultRoleProfileManager.java
	at org.codehaus.plexus.security.ui.web.checks.security.RequiredRolesEnvironmentCheck.validateEnvironmentRequiredRolesEnvironmentCheck.java
	at org.codehaus.plexus.security.ui.web.interceptor.EnvironmentCheckInterceptor.initEnvironmentCheckInterceptor.java
	at org.codehaus.plexus.xwork.PlexusObjectFactory.buildInterceptorPlexusObjectFactory.java
	at com.opensymphony.xwork.config.providers.InterceptorBuilder.constructInterceptorReferenceInterceptorBuilder.java
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.lookupInterceptorReferenceXmlConfigurationProvider.java
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.loadInterceptorStackXmlConfigurationProvider.java
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.loadInterceptorStacksXmlConfigurationProvider.java
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.loadInterceptorsXmlConfigurationProvider.java
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.addPackageXmlConfigurationProvider.java
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.loadConfigurationFileXmlConfigurationProvider.java
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.initXmlConfigurationProvider.java
	at com.opensymphony.xwork.config.impl.DefaultConfiguration.reloadDefaultConfiguration.java
	at com.opensymphony.xwork.config.ConfigurationManager.getConfigurationConfigurationManager.java
	at com.opensymphony.xwork.DefaultActionProxy.initDefaultActionProxy.java
	at com.opensymphony.xwork.DefaultActionProxyFactory.createActionProxyDefaultActionProxyFactory.java
	at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilterApplicationFilterChain.java
	at org.apache.catalina.core.ApplicationFilterChain.doFilterApplicationFilterChain.java
	at org.apache.catalina.core.StandardWrapperValve.invokeStandardWrapperValve.java
	at org.apache.catalina.core.StandardContextValve.invokeStandardContextValve.java
	at org.apache.catalina.core.StandardHostValve.invokeStandardHostValve.java
	at org.apache.catalina.valves.ErrorReportValve.invokeErrorReportValve.java
	at org.apache.catalina.core.StandardEngineValve.invokeStandardEngineValve.java
	at org.apache.catalina.connector.CoyoteAdapter.serviceCoyoteAdapter.java
	at org.apache.coyote.http.HttpProcessor.processHttpProcessor.java
	at org.apache.coyote.http.HttpBaseProtocol$HttpConnectionHandler.processConnectionHttpBaseProtocol.java
	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocketPoolTcpEndpoint.java
	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runItLeaderFollowerWorkerThread.java
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.runThreadPool.java
	at java.lang.Thread.runThread.java

-- , http--Processor ERROR SCHEMA                         - java.sql.SQLException Specified key was too long; max key length is  bytes
...
{code}
Even if I configure the driver with 
{code}
Context path""archiva"" docBase""projetsJTBjtbdevbase_archivaarchiva-webapp-.-SNAPSHOT.war"" debug""""
    Resource name""jdbcusers"" auth""Container"" type""javax.sql.DataSource""
            username""archiva""
            password""""
            driverClassName""com.mysql.jdbc.Driver""
            url""jdbcmysqljtbox.fr.world.socgenarchivaautoReconnecttrue&amp;useUnicodetrue&amp;characterEncodingUTF""
Context
{code}
If I dont use a multibytes encoding, its working well with latin_general_ci",Bug
"Javadoc error while indexing m repository java.lang.IllegalStateException Couldnt find artifact Usershenosjavadistarchiva-testcharlottejavadoc.jarscharlotte-.-rc-javadoc.javadoc.jar
    at org.apache.maven.archiva.reporting.LocationArtifactReportProcessor.processArtifactLocationArtifactReportProcessor.java
    at org.apache.maven.archiva.reporting.AbstractReportGroup.processArtifactAbstractReportGroup.java 
    at org.apache.maven.archiva.reporting.DefaultReportExecutor.runArtifactReportsDefaultReportExecutor.java 
    at org.apache.maven.archiva.scheduler.task.IndexerTask.executeIndexerTask.java
    at org.apache.maven.archiva.scheduler.task.IndexerTask.executeIndexerTask.java
    at org.apache.maven.archiva.scheduler.DefaultRepositoryTaskScheduler.runIndexerDefaultRepositoryTaskScheduler.java
    at org.apache.maven.archiva.web.action.admin.RunRepositoryTaskAction.runIndexerRunRepositoryTaskAction.java

This seems to be caused by the existence of

Usershenosjavadistarchiva-testcharlottejavadocscharlotte-.-rc-javadoc.jar",Bug
"The context is not included in repository links when browsing artifacts. When browsing, searching and finding an artifact, the resulting page displays links to navigate to the various levels of the artifacts group as well as to the top of the tree. These links have urls which do not include the context of the web application so if archiva is deployed in a different context, these links will generate s.",Bug
"archiva-plexus-runtime is reportedly broken this is listed as broken on the web site. Either fix it, or fix the web site.",Bug
Add Edit user info link in the side navigation Add Edit user info link similar to that of continuum.,Improvement
"Add repository allows empty url name If the field in url name is not filled the submition works
it should have also a star as mandatory field",Bug
"Webdav upload is not working MRM- added webdav support. This is not working.

I have everything working scping to the repository. webdav via Archiva does not work.

When I use 

artifactinstall-provider artifactId""wagon-ssh"" version"".-beta-""

        artifactinstall file""${dist.dir}${name}-${version}.jar""
            pom refid""maven.project""
        artifactinstall

         artifactdeploy file""${dist.dir}${name}-${version}.jar""
            remoteRepository url""davlocalhostrepositorymaven_repository""
                authentication username""gluck"" passphrase"""" password""""
            remoteRepository
            pom refid""maven.project""
        artifactdeploy

I get 

upload-to-repository
artifactinstall-provider Installing provider org.apache.maven.wagonwagon-webdavjar.-beta-
artifactinstall-provider Installing provider org.apache.maven.wagonwagon-sshjar.-beta-
artifactinstall INFO Installing Usersgluckworkehcachetrunktargetdistehcache-...jar to mrepositorynetsfehcacheehcache..ehcache-...jar
artifactdeploy Deploying to davlocalhostrepositorymaven_repository
artifactdeploy WAGON_VERSION .-beta-

BUILD FAILED
Usersgluckworkehcachetrunkbuild.xml java.lang.IllegalArgumentException id is null

If I click on the webdav link from archiva I get

Error  Not Found

Resource in error httplocalhostrepositoryLOCALmaven_repository

Exception details

it.could.webdav.DAVException Not found
	at it.could.webdav.methods.HEAD.processHEAD.java
	at it.could.webdav.methods.GET.processGET.java
	at it.could.webdav.DAVProcessor.processDAVProcessor.java
	at org.apache.maven.archiva.web.servlet.repository.RepositoryAccess.servletRequestRepositoryAccess.java
	at org.apache.maven.archiva.web.servlet.PlexusComponentServlet.servicePlexusComponentServlet.java
	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.mortbay.jetty.Server.handleServer.java
	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
	at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
	at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
	at org.mortbay.jetty.nio.HttpChannelEndPoint.runHttpChannelEndPoint.java
	at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java
",Bug
"NullPointerException when clicking on ""Browse"" When clicking on the Browse link in the trunk I get an NPE with the following trace

 Thread- ERROR org.codehaus.plexus.taskqueue.execution.TaskQueueExecutorindexer  - Error executing task
edu.emory.mathcs.backport.java.util.concurrent.ExecutionException java.lang.NullPointerException
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.getResultFutureTask.java
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.getFutureTask.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.waitForTaskThreadedTaskQueueExecutor.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.runThreadedTaskQueueExecutor.java
Caused by java.lang.NullPointerException
	at org.apache.maven.archiva.indexer.lucene.LuceneRepositoryArtifactIndex.getAllFieldValuesLuceneRepositoryArtifactIndex.java
	at org.apache.maven.archiva.indexer.lucene.LuceneRepositoryArtifactIndex.getAllRecordKeysLuceneRepositoryArtifactIndex.java
	at org.apache.maven.archiva.scheduler.executors.IndexerTaskExecutor.executeIndexerTaskExecutor.java
	at org.apache.maven.archiva.scheduler.executors.IndexerTaskExecutor.executeIndexerTaskExecutor.java
	at org.apache.maven.archiva.scheduler.executors.IndexerTaskExecutor.executeTaskIndexerTaskExecutor.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runTaskThreadPoolExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
	at java.lang.Thread.runThread.java
 SocketListener- ERROR com.opensymphony.webwork.dispatcher.DispatcherUtils  - Could not execute action
java.lang.NullPointerException
	at org.apache.maven.archiva.indexer.lucene.LuceneRepositoryArtifactIndex.getAllFieldValuesLuceneRepositoryArtifactIndex.java
	at org.apache.maven.archiva.indexer.lucene.LuceneRepositoryArtifactIndex.getAllGroupIdsLuceneRepositoryArtifactIndex.java
	at org.apache.maven.archiva.web.action.BrowseAction.buildGroupTreeBrowseAction.java
	at org.apache.maven.archiva.web.action.BrowseAction.browseBrowseAction.java
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	at java.lang.reflect.Method.invokeMethod.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.interceptConfigurationInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.security.ui.web.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.security.ui.web.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.security.ui.web.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.security.ui.web.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.security.ui.web.interceptor.EnvironmentCheckInterceptor.interceptEnvironmentCheckInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.webwork.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionProxy.executeDefaultActionProxy.java
	at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at org.mortbay.jetty.servlet.WebApplicationHandler.dispatchWebApplicationHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.http.HttpContext.handleHttpContext.java
	at org.mortbay.jetty.servlet.WebApplicationContext.handleWebApplicationContext.java
	at org.mortbay.http.HttpContext.handleHttpContext.java
	at org.mortbay.http.HttpServer.serviceHttpServer.java
	at org.mortbay.http.HttpConnection.serviceHttpConnection.java
	at org.mortbay.http.HttpConnection.handleNextHttpConnection.java
	at org.mortbay.http.HttpConnection.handleHttpConnection.java
	at org.mortbay.http.SocketListener.handleConnectionSocketListener.java
	at org.mortbay.util.ThreadedServer.handleThreadedServer.java
	at org.mortbay.util.ThreadPool$PoolThread.runThreadPool.java
 SocketListener- ERROR com.opensymphony.webwork.dispatcher.DispatcherUtils  - Could not execute action
java.lang.NullPointerException
	at org.apache.maven.archiva.indexer.lucene.LuceneRepositoryArtifactIndex.getAllFieldValuesLuceneRepositoryArtifactIndex.java
	at org.apache.maven.archiva.indexer.lucene.LuceneRepositoryArtifactIndex.getAllGroupIdsLuceneRepositoryArtifactIndex.java
	at org.apache.maven.archiva.web.action.BrowseAction.buildGroupTreeBrowseAction.java
	at org.apache.maven.archiva.web.action.BrowseAction.browseBrowseAction.java
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	at java.lang.reflect.Method.invokeMethod.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.interceptConfigurationInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.security.ui.web.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.security.ui.web.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.security.ui.web.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.security.ui.web.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at org.codehaus.plexus.security.ui.web.interceptor.EnvironmentCheckInterceptor.interceptEnvironmentCheckInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.webwork.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.AroundInterceptor.interceptAroundInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
	at com.opensymphony.xwork.DefaultActionProxy.executeDefaultActionProxy.java
	at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceActionDispatcherUtils.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at org.mortbay.jetty.servlet.WebApplicationHandler.dispatchWebApplicationHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.http.HttpContext.handleHttpContext.java
	at org.mortbay.jetty.servlet.WebApplicationContext.handleWebApplicationContext.java
	at org.mortbay.http.HttpContext.handleHttpContext.java
	at org.mortbay.http.HttpServer.serviceHttpServer.java
	at org.mortbay.http.HttpConnection.serviceHttpConnection.java
	at org.mortbay.http.HttpConnection.handleNextHttpConnection.java
	at org.mortbay.http.HttpConnection.handleHttpConnection.java
	at org.mortbay.http.SocketListener.handleConnectionSocketListener.java
	at org.mortbay.util.ThreadedServer.handleThreadedServer.java
	at org.mortbay.util.ThreadPool$PoolThread.runThreadPool.java",Bug
Application should unpack to archiva-${version} The Plexus app currently unpacks to archiva. It should have the version number in the top level directory.,Improvement
"Moving files between repos through webdav doesnt work The goal is to move files from one repo to another through the webdav interface, using a webdav client, like Windows My Network Places or BitKinex

Two repos where created and accessed with usernamepassword 
httplocalhostrepositoryrepo
httplocalhostrepositoryrepo

Copying from one to another fails.
Copying from any other webdav server to them works
Copying from them to any other webdav server works
Copying from local to them and from them to local of course works

I tried with latest svn code from could.it which includes this MOVE improvement httpissues.apache.orgjirabrowseHADOOP- that makes a real move and not a copydelete",Bug
"Result.processor cant be null javax.jdo.JDOUserException Field org.apache.maven.archiva.reporting.model.Result.processor is null, but is mandatory as its described in the jdo metadata
        at org.jpox.store.rdbms.fieldmanager.ParameterSetter.storeStringFieldParameterSetter.java
        at org.jpox.state.StateManagerImpl.providedStringFieldStateManagerImpl.java
        at org.apache.maven.archiva.reporting.model.Result.jdoProvideFieldResult.java
        at org.apache.maven.archiva.reporting.model.Result.jdoProvideFieldsResult.java
        at org.jpox.state.StateManagerImpl.provideFieldsStateManagerImpl.java
        at org.jpox.store.rdbms.request.InsertRequest.executeInsertRequest.java
        at org.jpox.store.rdbms.table.ClassTable.insertClassTable.java
        at org.jpox.store.StoreManager.insertStoreManager.java
        at org.jpox.state.StateManagerImpl.internalMakePersistentStateManagerImpl.java
        at org.jpox.state.StateManagerImpl.makePersistentStateManagerImpl.java
        at org.jpox.AbstractPersistenceManager.internalMakePersistentAbstractPersistenceManager.java
        at org.jpox.AbstractPersistenceManager.makePersistentInternalAbstractPersistenceManager.java
        at org.jpox.store.rdbms.scostore.ElementContainerStore.validateElementForWritingElementContainerStore.java
        at org.jpox.store.rdbms.scostore.AbstractListStore.internalAddAbstractListStore.java
        at org.jpox.store.rdbms.scostore.AbstractListStore.addAllAbstractListStore.java
        at org.jpox.store.mapping.CollectionMapping.postInsertCollectionMapping.java
        at org.jpox.store.rdbms.request.InsertRequest.executeInsertRequest.java
        at org.jpox.store.rdbms.table.ClassTable.insertClassTable.java
        at org.jpox.store.StoreManager.insertStoreManager.java
        at org.jpox.state.StateManagerImpl.internalMakePersistentStateManagerImpl.java
        at org.jpox.state.StateManagerImpl.makePersistentStateManagerImpl.java
        at org.jpox.AbstractPersistenceManager.internalMakePersistentAbstractPersistenceManager.java
        at org.jpox.AbstractPersistenceManager.makePersistentAbstractPersistenceManager.java
        at org.apache.maven.archiva.reporting.database.AbstractJdoDatabase.saveObjectAbstractJdoDatabase.java
        at org.apache.maven.archiva.reporting.database.AbstractJdoDatabase.saveObjectAbstractJdoDatabase.java
        at org.apache.maven.archiva.reporting.database.ArtifactResultsDatabase.addWarningArtifactResultsDatabase.java
        at org.apache.maven.archiva.consumers.ArtifactHealthConsumer.processArtifactArtifactHealthConsumer.java
        at org.apache.maven.archiva.common.consumers.GenericArtifactConsumer.processFileGenericArtifactConsumer.java
        at org.apache.maven.archiva.discoverer.RepositoryScanner.directoryWalkStepRepositoryScanner.java
        at org.codehaus.plexus.util.DirectoryWalker.fireStepDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirectoryWalker.java
        at org.apache.maven.archiva.discoverer.DefaultDiscoverer.walkRepositoryDefaultDiscoverer.java
        at org.apache.maven.archiva.scheduler.executors.DataRefreshExecutor.executeDataRefreshExecutor.java
        at org.apache.maven.archiva.scheduler.executors.DataRefreshExecutor.executeTaskDataRefreshExecutor.java
        at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
        at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
        at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
        at java.lang.Thread.runThread.java",Bug
Archiva Client Configuration Howto I created a Client Configuration Page where I discribe how the Client should be configured to use archiva as maven proxy,Improvement
"Reports shouldnt show missing optional dependencies as an error. The Reports page under Manage on the menu at the left of the screen seems to show _any_ missing dependency using the error icon.
On my computer this results in lots of errors showing up, because optional dependencies have not been downloaded.
I would suggest that the code generating the report should check if a dependency is optional, and if so tag it as a warning or an info, and not as an error.

For example, antant.. has optional dependencies on xercesxerces-impl.. and xml-apisxml-apis...
In ants pom file, these dependencies are tagged using ""optionaltrueoptional""
",Improvement
"archiva does not build with JDK  ...
INFO ----------------------------------------------------------------------------
INFO Building Archiva Runtime Generator
INFO    task-segment install
INFO ----------------------------------------------------------------------------
INFO plexusdescriptor {execution default}
WARNING Specified source directory isnt a directory homemintorommeltestmavenarchivaarchiva-plexus-runtimesrcmainjava.
INFO resourcesresources
INFO Using default encoding to copy filtered resources.
INFO plexusmerge-descriptors {execution default}
INFO compilercompile
INFO No sources to compile
INFO resourcestestResources
INFO Using default encoding to copy filtered resources.
INFO compilertestCompile
INFO No sources to compile
INFO surefiretest
INFO No tests to run.
INFO jarjar
WARNING JAR will be empty - no content was marked for inclusion!
INFO Building jar homemintorommeltestmavenarchivaarchiva-plexus-runtimetargetarchiva-plexus-runtime-.-SNAPSHOT.jar
WARNING DEPRECATED descriptor Please use descriptors instead
INFO assemblysingle {execution default}
INFO ------------------------------------------------------------------------
ERROR BUILD ERROR
INFO ------------------------------------------------------------------------
INFO Error creating assembly You must set at least one file.

INFO ------------------------------------------------------------------------
INFO Trace
org.apache.maven.lifecycle.LifecycleExecutionException Error creating assembly
 You must set at least one file.
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalsDefa
ultLifecycleExecutor.java
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalWithLi
fecycleDefaultLifecycleExecutor.java
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalDefau
ltLifecycleExecutor.java
...


The warning can easily be fixed, but this has no effect on the error.",Bug
"plexus.sh must include tools.jar on the classpath The plexush.sh thats generated in the archiva-plexus-runtime model does not include tools.jar to the classpath of the JVM that is started. This causes error messages when first accessing the web application about being unable to compile JSPs.

The last line of plexus.sh currently looks like this

{code}
exec ""$JAVACMD"" 
  $PLEXUS_OPTS 
  -classpath ""${PLEXUS_HOME}""corebootclassworlds-.jar 
{code}
....

but should have $TOOLS_JAR included in the -classpath arguments parameter.",Bug
"Managed repository configuration UI should be moved Need to move the managed repo bit out of the Administration page and onto its own page, with a link under the Admin link.",Improvement
"Create an ""Administration"" group menu Currently, there are three menu in the left navigation bar which can be grouped into an administration group
   Administration _which is really index administration so it should be named Index instead_
   Managed Repositories
   Proxied Repositories

",Improvement
"Cannot use Archiva to get Maven Plugins I request maven PMD plugin . using maven

Archiva looks into httprepo.maven.orgmavenmavenmaven-pmd-plugin. and get the POM - OK
It then searchs the Artifact as ""mavenmaven-pmd-plugin.maven-pmd-plugin-..plugin"" - NOK

Even looking at mavenmaven-pmd-plugin.maven-pmd-plugin-..jar fails  the artifact doesnt exist ! It has a POM and a sources-jar but no binary artifact. Maybe a m-to-m repo-converter error 

",Bug
"""Getting Started"" webpage says you need to manually install javax.activation and javax.mail The ""Getting Started"" webpage contains the following text

 Download the .. activation zip from httpjava.sun.comproductsarchivejavabeansjaf.html
 Unpack the zip to get the jar
 Run mvn installinstall-file -DgroupIdjavax.activation -DartifactIdactivation -Dversion.. -Dpackagingjar -Dfileactivation.jar
 Download the .. javamail zip from httpjava.sun.comproductsjavamaildownloadsindex.html
 Unpack the zip to get the jar
 Run mvn installinstall-file -DgroupIdjavax.mail -DartifactIdmail -Dversion.. -Dpackagingjar -Dfilejavamail-..mail.jar 

However, it appears to no longer be true - I suppose that whatever dependencies required those versions of the artifacts have upgraded to newer, less-license-encumbered versions. Though, manual download of javax.resource.connector . is still required.

I noticed this whilst building archiva starting with a completely empty local repository. No errors were generated regarding these artifacts, and after the build completed, the local repository contained javax.mail . and javax.activation ..

Therefore, I think the  lines quoted above can simply be deleted.",Bug
"configuration NPE failed to start application trunk rev  Due to a NPE in plexus-registry-commons PLXCOMP-.
The app failed to start.
Then a change must be apply to prevent NPE in  archiva-configuration.
in plexus.xml in archiva-plexus-runtime, a dataSource is missing.",Bug
"File Serving does not work unless you create a proxied repository I created a repository but could not get Archiva to serve the files.

When I created a proxy repository pointing to central it started working.

I then changed the url to a nonsense URL and it kept working.

In other words, Archiva will not serve files for its local repository unless at least one proxy is set up, even if the proxy is rubbish.",Bug
archiva-common Add serialVersionUID fields to Serializable classes This is a small patch to add explicit serialVersionUID fields to some classes that are Serializable in archiva-common.,Improvement
"Bad checksum pattern for archetype plugin Archiva as a proxy for central is complaining about this checksum

-- , btpool- WARN  ProxyRequestHandler            - The
checksum was invalid orgapachemavenarchetypemaven-archetype.-alpha-mav
en-archetype-.-alpha-.pom.md Supplied checksum does not match checksum patt
ern
-- , btpool- WARN  ProxyRequestHandler            - Skip
ping repository Maven Central Checksum failures occurred while downloading org
apachemavenarchetypemaven-archetype.-alpha-maven-archetype-.-alpha-.p
om
",Bug
"archiva-common Fix GenericArtifactConsumerTest, so it will run on Windows The test org.apache.maven.archiva.common.utils.BaseFileTest wont pass on Windows platform, because it doesnt compensate for drive letters being adding to the absolute paths. Ive added some simple utility methods and tweaked the expected values to compensate for this. I dont have a Linux box to test on, so I havent validated that they still work there, so the committer should verify the tests on a Linux or Unix box.",Bug
Upload deploy artifacts to a repository - via a web form not using wagon The web interface should allow to upload artifacts to the repository. For M one could just ftp the artifacts as neededm but with M having to go through the filedeploy plugin is a pain. Archiva could help a lot here,New_Feature
"IndexArtifactConsumer is never run during wlking through repository Running archiva on plexus log shows that during walking through repository index-artifact is never executed. 
Instead of it ""Artifact Health Consumer"" is initiated  times.

-- , pool--thread- INFO  ConsumerFactory                - Attempting to create consumer index-artifact
-- , pool--thread- INFO  ConsumerFactory                - Created consumer index-artifact|Artifact Health Consumer
-- , pool--thread- INFO  ConsumerFactory                - Attempting to create consumer artifact-health
-- , pool--thread- INFO  ConsumerFactory                - Created consumer artifact-health|Artifact Health Consumer
-- , pool--thread- INFO  ConsumerFactory                - Attempting to create consumer metadata-health
-- , pool--thread- INFO  ConsumerFactory                - Created consumer metadata-health|Artifact Health Consumer
-- , pool--thread- INFO  Discoverer                     - Walk Started test Ctmpmaven-.x-repository
-- , pool--thread- WARN  SQL                            - Object with id ""javax.xmljsr.pom"" not found !
-- , pool--thread- WARN  SQL                            - Object with id ""javax.xmljsr.pom"" not found !
-- , pool--thread- WARN  SQL                            - Object with id ""javax.xmljsr.pom"" not found !
-- , pool--thread- WARN  SQL                            - Object with id ""jbossjbpm..jar"" not found !
-- , pool--thread- WARN  SQL                            - Object with id ""jbossjbpm..jar"" not found !
-- , pool--thread- WARN  SQL                            - Object with id ""jbossjbpm..jar"" not found !
-- , pool--thread- INFO  Discoverer                     - Walk Finished test Ctmpmaven-.x-repository",Bug
"indexer throws exception on test-sources jar While indexing a repo for the first time, Archiva throws this exception and indexing stops.

The exception refers to a -test.jar. The repository contains many artifacts in this directory, but not with classifier test. The closest things are -tests and -test-sources.

edu.emory.mathcs.backport.java.util.concurrent.ExecutionException java.lang.IllegalStateException Couldnt find artifact  Cmaven-repogroupartifact...vartifact-...v-test.jar
        at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.getResultFutureTask.java
        at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.getFutureTask.java
        at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.waitForTaskThreadedTaskQueueExecutor.java
        at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.runThreadedTaskQueueExecutor.java
Caused by java.lang.IllegalStateException Couldnt find artifact Cmaven-repogroupartifact...vartifact-...v-test.jar
        at org.apache.maven.archiva.reporting.LocationArtifactReportProcessor.processArtifactLocationArtifactReportProcessor.java
        at org.apache.maven.archiva.reporting.AbstractReportGroup.processArtifactAbstractReportGroup.java
        at org.apache.maven.archiva.reporting.DefaultReportExecutor.runArtifactR...",Bug
"The possibility to restrict browsing through web interface to registered users only We have an internal repository that is placed on a server available from the net, and would like to restrict all kinds of access, including browsing through web interface, to registered users only.",New_Feature
Add last indexing timestamp on administration page. Put data as to when the indexing was last run.,New_Feature
"Forced password complexity Archiva should not enforce complexity when setting passwords.
If the feature is kept it should be an option turned off be default.

The problem is that it conflicts with other complexity policies external to Archiva.",Improvement
"Ability to pre-configure the Jetty port in confplexus.xml When using the plexus runtime, in order to change the http port  the application must be started in order to be extracted, stopped.
Then configuration file can be changed.  With this patch the jetty port can be set before the first start.

Same as CONTINUUM-.",Improvement
"Replace the proxy url of the Download link into the absolute url When browsing for artifacts in archiva, the Download link uses the proxy url.  Since the artifacts are cached into archivas managed repositories, the absolute url must be used at all times.",Improvement
Dependenciesdepended-on-by links are broken for multiple versions There is a missing type attribute on the jsp tagfile attribute declaration to set the variable to a type of java.util.List. Patch attached.,Bug
"configure checksum policy for proxied repository Some artifact on repo.maven.org have bad checksum. This need fix, but this also make archiva not usable as a replacement for maven-proxy.

As maven itself allow to configure a checksum policy, a new configuration parameter on proxied repo would be nice.",Improvement
"Download Artefact Button is not working I have setup more than one proxied repository and a few non proxied repositories

When I use the Browse function I can see all artefacts in the different repositories, but when I want to download the artefact is not found.

When I change the url generated from 

httparchivaproxynet.sf.ehcacheehcache.ehcache-..jar

to adding the repository_id

httparchivaproxymaven_releasenet.sf.ehcacheehcache.ehcache-..jar

the download works, for artefacts in non proxied repositories you also have to change from proxyrepo-id to repositoryrepo-id


",Bug
"Unable to proxy through more than one managed repo On Proxied Repositories - Add or Edit, only the first managed repository added to the system is listed in the Proxied through select list.

It should allow you to choose any of the managed repositories. 

",Bug
"OutOfMemory error when running Arhiva for days at a time I have been running Archiva as it existed in snapshot  November .

When running in Tomcat with the standard memory setting it fails after a few days.

Increasing -Xmxm increases the time but it still gets and OutOfMemory error after a few days. 

This is with no activity. I came back today after the weekend and hit refresh on a Pom page and it gave the OOM. It seems to be time dependent. At home I have been running it on Mac OS X. I saw an OutOfMemory error after a week. I did even go to a page to check it. The running console had it.

To reproduce simply run up archiva and leave it running.

We are working around with a nightly restart.",Bug
"Error on startup NPE, configuration can not be null -- .WARN  Failed startup of context org.mortbay.jetty.webapp.WebAppContext@af{,homelecarmaworkspacemergereOSSapachearchivatrunkarchiva-webappsrcmainwebapp}
java.lang.NullPointerException configuration can not be null
        at org.codehaus.plexus.registry.commons.CommonsConfigurationRegistry.initCommonsConfigurationRegistry.java
        at org.codehaus.plexus.registry.commons.CommonsConfigurationRegistry.getSectionCommonsConfigurationRegistry.java
        at org.apache.maven.archiva.configuration.DefaultArchivaConfiguration.addChangeListenerDefaultArchivaConfiguration.java
        at org.apache.maven.archiva.scheduler.DefaultRepositoryTaskScheduler.startDefaultRepositoryTaskScheduler.java
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.StartPhase.executeStartPhase.java
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.startAbstractLifecycleHandler.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycleAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstanceAbstractComponentManager.java
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponentClassicSingletonComponentManager.java
        at org.codehaus.plexus.DefaultComponentLookupManager.lookupDefaultComponentLookupManager.java
        at org.codehaus.plexus.DefaultPlexusContainer.lookupDefaultPlexusContainer.java
        at org.codehaus.plexus.DefaultPlexusContainer.lookupDefaultPlexusContainer.java
        at org.codehaus.plexus.container.initialization.StartLoadOnStartComponentsPhase.executeStartLoadOnStartComponentsPhase.java
        at org.codehaus.plexus.DefaultPlexusContainer.initializePhasesDefaultPlexusContainer.java
        at org.codehaus.plexus.DefaultPlexusContainer.initializeDefaultPlexusContainer.java
        at org.codehaus.plexus.DefaultPlexusContainer.constructDefaultPlexusContainer.java
        at org.codehaus.plexus.DefaultPlexusContainer.initDefaultPlexusContainer.java
        at org.codehaus.plexus.DefaultPlexusContainer.initDefaultPlexusContainer.java
        at org.codehaus.plexus.xwork.PlexusLifecycleListener.contextInitializedPlexusLifecycleListener.java
        at org.mortbay.jetty.handler.ContextHandler.startContextContextHandler.java
        at org.mortbay.jetty.servlet.Context.startContextContext.java
        at org.mortbay.jetty.webapp.WebAppContext.startContextWebAppContext.java
        at org.mortbay.jetty.handler.ContextHandler.doStartContextHandler.java
        at org.mortbay.jetty.webapp.WebAppContext.doStartWebAppContext.java
        at org.mortbay.component.AbstractLifeCycle.startAbstractLifeCycle.java
        at org.mortbay.jetty.plugin.JettyPluginWebApplication.startJettyPluginWebApplication.java
        at org.mortbay.jetty.plugin.AbstractJettyRunMojo$.changesDetectedAbstractJettyRunMojo.java
        at org.mortbay.jetty.plugin.util.Scanner.runScanner.java


This causes a ",Bug
"Change button text to ""Update Repository"" on the edit repository page On Administration - Edit Repository, the submit button text is ""Change Repository"".

It should be ""Update Repository"" for consistency with ""Update User"" in user management, and to avoid confusion.

",Improvement
"Fails to build from clean checkout $ svn co $ramavenarchivatrunk archiva-trunk
$ cd archiva-trunk
$ mvn install
INFO Scanning for projects...
INFO ------------------------------------------------------------------------
ERROR FATAL ERROR
INFO ------------------------------------------------------------------------
INFO Error building POM may not be this projects POM.


Project ID org.apache.maven.archivaarchiva-plexus-application
POM Location homemaxbworkprovingarchiva-trunkarchiva-plexus-applicationpom.xml
Validation Messages

      dependencies.dependency.version is missing for org.apache.maven.archivaarchiva-webapp


Reason Failed to validate POM
......



This patch made the build work for me
--- archiva-plexus-applicationpom.xml  revision 
 archiva-plexus-applicationpom.xml  working copy
@@ -, , @@
     dependency
       groupIdorg.apache.maven.archivagroupId
       artifactIdarchiva-webappartifactId
      typewartype
     dependency
   dependencies
   !-- For filtering --
",Bug
"Error  after logging in from archiva when prompted Ive gotten a  after being unexpectedly prompted to log in while doing something in Archiva.

After logging in, the url is httplocalhostarchivasecurityindex!input.actionexternalResultsecurity-login-success

And the the result is
HTTP ERROR 
There is no Action mapped for namespace security and action name index. Check if there is such an action name with such namespace defined in the xwork.xml and also if such an action class exists. Check also the log to see if the action class is successfully loaded.
RequestURIarchivasecurityindex!input.action

At this point I am logged in, if I use the browser back button and choose another link, everything is fine.
",Bug
"add system monitoring functionality some ideas for things wed like to know
- uptime possibly persisted so as to calculate average uptime
- duration of each discovery run to calculate the average time possibly trending over time
- duration of each indexing run as above
- duration of each reporting run as above
- frequency of certain requests
- analysis of any other services",New_Feature
"davhttp repository access  with dot in url is not working tests done on daily build of 

If I try to access an artifact in the archiva repository and have a dot in the url the artefact is not found 

- ..repositoryp_releasenet.sf.ehcacheehcache.ehcache-..jar

this works with the proxy access

- ..proxymaven_releasenet.sf.ehcacheehcache.ehcache-..jar

this can have an impact on the download button in the webapp",Bug
"connecting proxied repositories without http-proxy fails If one configures Archiva to proxy another inhouse repository, Archiva struggles to connect to the proxied repository. The log file contains  HTTP Error Codes for any attempt to connect to the second repo. This is because Archiva tries to connect to the second server via http-proxy-connection even though the proxied repository is configured not to connect through http-proxy.

First thing, the ""Use HTTP Proxy"" option doesnt work properly since Archiva does open proxy-connections even with that option inactive.

Second I figured out, that theres a hidden option for HTTP-Proxy, only configurable in Archivas archiva.xml file. If the proxy-element contains a ""nonProxyHosts""-element same as in maven settings.xml and that element lists the second server, all  return codes vanish.


Conclusion either the ""Use HTTP proxy""-option is screwed or serves a different purpose. If first, please fix that issue. If second, please make ""nonProxyHosts"" configurable via UI.


Cheers,
Stefan",Improvement
"Changed the location of the ""Run Now"" link in the Configuration page. If your window is not wide, you have to scroll right and may not even notice that Run Now is there. Link is now under ""Last Indexing Time"".",Improvement
Document Plexus Security configuration of Archiva An  character password is far too short for good security. Can we improve this to a  character password,Improvement
Spaces after hostname in Repository browsing and POM snippets The web app is adding two spaces after the host name in the POM snippets and in the browsing of the repository configurations. This seems to be an issue in the JSPs themselves. The repositories still work but anyone copying the snippet would be massively confused.,Bug
"Update archiva to latest plexus appserver   container etc The attached patch updates plexus-appserver  and all related dependencies. Tested and working here through the archiva-plexus-runtime.
I also altered the context path in archiva-plexus-application from  to archiva to be in-line with continuum.",Improvement
"No message displayed for unsuccessful Archiva login attempts intermittent Steps to re-produce the problem
. Opened Archiva main page 
. Clicked Login link
. Entered User Name & INCORRECT Password & clicked Login button

It displays message You have entered an incorrect username andor password for the first few invalid attemps. After  invalid attempts, there is no authentication error message displayed. It just displays back the main Archiva page.",Bug
"HTTP error  when artifact is not found HTTP  error cause unexpected behaviour with Maven, for exemple it doesnt search dependencies in all managed repositories.
Archiva should return HTTP  error intead of HTTP  error.
The patch catch all ResourceDoesNotExistException in the ProxiedDavServer class.
",Bug
"Unable to edit or delete users, links are missing the username On the User Management page, all of the edit and delete links are missing the username param value, for example

   httplocalhostsecurityuseredit.actionusername

",Bug
"User with Repository Manager role in a repo can see all repos A user with ""Repository Manager"" role in one of the repositories can see all repos in the ""Manage repositories"" page

Also its able to change global index schedule configuration",Bug
"Converter doesnt generate checksums For instance
httprepo.maven.orgmavencommons-scxmlcommons-scxml.
is missing md and sha for pom and jar",Bug
"""Request a password reset"" is secured Its impossible to ask to reset a user password.
We have to be logged to ask it and if we ask it, its probably that we cant logon ;- 

Security Alert - Action Requires Authentication

The action you attempted requires that you authenticate yourself.

   . Go Ahead Login.

",Bug
"unable to schedule cron expressions that contain a comma while the saveload of the these expressions was fixed, it is now being scheduled incorrectly, resulting in the following error

Cron expression  ,     for repository snapshots is invalid.  Defaulting to hourly.


",Bug
"in the standalone bundle, the pid file is written into the installation directory alongside the wrapper, but should be in a temporary location it is written to .apache-archiva-..binmacosx-universal-archiva.pid

but this directory should be able to be read-only.

Preferably it would be written to $PLEXUS_BASEtemparchiva.pid or appropriate replacement for PLEXUS_BASE in MRM-",Bug
"Review the documentation on deploying to Archiva for inconsistent repository ids Reviewfix documentation on deploying to Archiva, specifically make sure the repository ids match.

On users@maven, Martin HÃ¶ller | martin.hoeller@xss.co.at wrote

 I have followed all the steps specified at
 httpmaven.apache.orgarchivadocs.userguidedeploy.html but it is not
 working.

Unfortunately this documentation is somewhat inconsistent regarding the
ids in the settings.xml and pom.xml file.

",Improvement
"Performance affected using Archiva Repository Hello,

I have downloaded and installed the Maven Archiva StandAlone ... At the configuration of the Maven Archiva I have deleted the internal defined repository and created a new one called ""EXT"". At the proxy configuration I have set the central as the proxy connector from EXT. I have also created a networkProxy and defined to be used in the Proxy Connector for Central.

My settings.xml is the following

...
 servers
    server
      !-- httpacasto.dimension.esarchivarepositoryEXT --
      idEXTid
      usernamemyUsernameusername
      passwordmyPasswordpassword
      configurationconfiguration
    server
  servers
proxies
   proxy
      activetrueactive
      protocolhttpprotocol
      hostX.X.X.Xhost
      portport
      usernamemyUsernameusername
      passwordmyPasswordpassword
      nonProxyHostsSomeHosts separeted from | characternonProxyHosts
    proxy
 proxies
....

My pom.xml contains the following in the repositories section

repositories
       repository
             idEXTid
             nameCOTS-EXTname
             urlhttpacasto.dimension.esarchivarepositoryEXTurl
              releases
                      enabledtrueenabled
              releases
              snapshots
                      enabledtrueenabled
              snapshots
       repository
repositories
pluginRepositories
       pluginRepository
              idEXTid
              nameCOTS-EXTname
              urlhttpacasto.dimension.esarchivarepositoryEXTurl
              releases
                      enabledtrueenabled
              releases
              snapshots
                      enabledtrueenabled
              snapshots
       pluginRepository
pluginRepositories

I remove any file from my local repository to check that the files are being downloaded from my Repository and not from Central. And I execute the clean goal.

CISISECDyCKlinicmvn clean
INFO Scanning for projects...
Downloading httpacasto.dimension.esarchivarepositoryEXTorgapachemavenwagonwagon-ftp.-alpha-wagon-ftp-.-alpha-.pom
b downloaded
Downloading httpacasto.dimension.esarchivarepositoryEXTorgapachemavenwagonwagon-providers.-alpha-wagon-providers-.-alpha-.pom
K downloaded
Downloading httpacasto.dimension.esarchivarepositoryEXTorgapachemavenwagonwagon.-alpha-wagon-.-alpha-.pom
K downloaded
Downloading httpacasto.dimension.esarchivarepositoryEXTorgapachemavenwagonwagon-provider-api.-alpha-wagon-provider-api-.-alpha-.pom


The problem comes that for downloading those files it lasts more than  minutes. Thats unnacceptable time for such a tiny files being in my network. 
If I access those files through the web browser I get the same time to download the files.

On the other hand, I have still configured a web server in my EXT repository  ACASTO that listens to the following URL for using without Archiva httpacastomavenEXT  and it works fine if I try to download those files.

I do not know  why is this happenning.

Here I show you the archiva.log for further information

 SocketListener- WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer error from repository ""central"" for artifact org.apache.maven.wagonwagon-provider-api.-alpha-pom, continuing to next repository. Error message Download failure on resource httprepo.maven.orgmavenorgapachemavenwagonwagon-provider-api.-alpha-wagon-provider-api-.-alpha-.pomError transferring file
 SocketListener- WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer error from repository ""central"" for artifact org.codehaus.plexusplexus-utils..pom, continuing to next repository. Error message Download failure on resource httprepo.maven.orgmavenorgcodehausplexusplexus-utils..plexus-utils-...pomError transferring file
 SocketListener- WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer error from repository ""central"" for artifact commons-netcommons-net..pom, continuing to next repository. Error message Download failure on resource httprepo.maven.orgmavencommons-netcommons-net..commons-net-...pomError transferring file
 SocketListener- WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer error from repository ""central"" for artifact orooro..pom, continuing to next repository. Error message Download failure on resource httprepo.maven.orgmavenorooro..oro-...pomError transferring file
 SocketListener- WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer error from repository ""central"" for artifact org.codehaus.plexusplexus-utils.pom, continuing to next repository. Error message Download failure on resource httprepo.maven.orgmavenorgcodehausplexusplexus-utils.plexus-utils-..pomError transferring file
 SocketListener- WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer error from repository ""central"" for artifact org.codehaus.plexusplexus..pom, continuing to next repository. Error message Download failure on resource httprepo.maven.orgmavenorgcodehausplexusplexus..plexus-...pomError transferring file
 SocketListener- WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer error from repository ""central"" for artifact org.apache.maven.wagonwagon-ftp.-alpha-pom, continuing to next repository. Error message Download failure on resource httprepo.maven.orgmavenorgapachemavenwagonwagon-ftp.-alpha-wagon-ftp-.-alpha-.pomError transferring file
 SocketListener- WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer error from repository ""central"" for artifact org.apache.maven.wagonwagon-ftp.-alpha-jar, continuing to next repository. Error message Download failure on resource httprepo.maven.orgmavenorgapachemavenwagonwagon-ftp.-alpha-wagon-ftp-.-alpha-.jarError transferring file
 SocketListener- WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer error from repository ""central"" for artifact org.apache.maven.wagonwagon-ftp.-alpha-pom, continuing to next repository. Error message Download failure on resource httprepo.maven.orgmavenorgapachemavenwagonwagon-ftp.-alpha-wagon-ftp-.-alpha-.pomError transferring file
 SocketListener- WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer error from repository ""central"" for artifact org.apache.maven.wagonwagon-providers.-alpha-pom, continuing to next repository. Error message Download failure on resource httprepo.maven.orgmavenorgapachemavenwagonwagon-providers.-alpha-wagon-providers-.-alpha-.pomError transferring file
 SocketListener- WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer error from repository ""central"" for artifact org.apache.maven.wagonwagon.-alpha-pom, continuing to next repository. Error message Download failure on resource httprepo.maven.orgmavenorgapachemavenwagonwagon.-alpha-wagon-.-alpha-.pomError transferring file
 SocketListener- WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer error from repository ""central"" for artifact org.apache.maven.wagonwagon-provider-api.-alpha-pom, continuing to next repository. Error message Download failure on resource httprepo.maven.orgmavenorgapachemavenwagonwagon-provider-api.-alpha-wagon-provider-api-.-alpha-.pomError transferring file
 SocketListener- WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer error from repository ""central"" for artifact org.codehaus.plexusplexus-utils..pom, continuing to next repository. Error message Download failure on resource httprepo.maven.orgmavenorgcodehausplexusplexus-utils..plexus-utils-...pomError transferring file
 SocketListener- WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer error from repository ""central"" for artifact commons-netcommons-net..pom, continuing to next repository. Error message Download failure on resource httprepo.maven.orgmavencommons-netcommons-net..commons-net-...pomError transferring file
 SocketListener- WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer error from repository ""central"" for artifact orooro..pom, continuing to next repository. Error message Download failure on resource httprepo.maven.orgmavenorooro..oro-...pomError transferring file
 SocketListener- WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer error from repository ""central"" for artifact org.codehaus.plexusplexus-utils.pom, continuing to next repository. Error message Download failure on resource httprepo.maven.orgmavenorgcodehausplexusplexus-utils.plexus-utils-..pomError transferring file
 SocketListener- WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer error from repository ""central"" for artifact org.codehaus.plexusplexus..pom, continuing to next repository. Error message Download failure on resource httprepo.maven.orgmavenorgcodehausplexusplexus..plexus-...pomError transferring file",Bug
"Need to default mime-type  content-type for unknown types. As seen in MRM-, when working with Websphere, the content-type header is required.
Currently, the codebase will only provide mime-type  content-type based on extensions found in the mime-types.txt file.

We should default the mime-type for those types not found.
The suggestion to use octet-stream as the default was raised in the archiva irc channel.",Bug
"remove references to maven in code one notable reference is the URL rotd into the banner 

However we should look at adjusting the packages and any other references that maybe in the webapp. I think Ive already finished with the site.",Bug
Support meclipse index format creation Archiva should provide an option to generate the indices for the nexus indexer which is used by meclipse.,New_Feature
"Database on MS SQL  fail to be created due to too column length Some column lengths in the datamodel exceed the restrictions of MS SQL Server using the default String jdbc-mapping of jpox varchar

These are according to package.jdo
- Table ARCHIVA_PROJECT
- Columns description
- Table ARCHIVA_LICENSES
- Columns comments
- Table ARCHIVA_REPOSITORY_PROBLEMS
- Columns message

The  Jdbc driver uses the nvarchar datatype in case of varchar jdbc types. The maximum length here would be  bytes.

Some other db systems should have the same problem, as I could see from their specs, but Im not an expert Oracle  bytes, DB -k depending on page size.

A possible fix for MS SQL is, not to provide any length. Instead we could use the jdo jdbc-type. I tested it with using the jdbc-type""LONGVARCHAR"". Then jpox uses ntext column types for those fields.

Unfortunatly, there is no way to define this parameter within modello.

",Bug
unable to include .xml in artifacts list as it picks up maven-metadata.xml metadata should be explicitly removed from the artifact consumers list,Bug
"DaysOld Repository Purge Consumer throws Invalid Path to Artifact I have the repository purge consumer enabled and configured as {{Repository Purge By Days Older Than}} to  and {{Repository Purge By Retention Count}} set to .

This is with a clean database.

I have more than  versions of org.ireneirene.-SNAPSHOT already uploaded into the repository.

When the repository is scanned

{noformat}
 pool--thread- ERROR org.apache.maven.archiva.repository.scanner.RepositoryScannerdefault  - Consumer repository-purge had an error when processing file Darchiva-webdatarepositoriessnapshotsorgireneirene.-SNAPSHOTirene-.-.--test-sources.jar Invalid path to Artifact filename format is invalid,expected timestamp format in filename.
org.apache.maven.archiva.consumers.ConsumerException Invalid path to Artifact filename format is invalid,expected timestamp format in filename.
	at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFileRepositoryPurgeConsumer.java
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.executeConsumerProcessFileClosure.java
	at org.apache.commons.collections.functors.IfClosure.executeIfClosure.java
	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStepRepositoryScannerInstance.java
	at org.codehaus.plexus.util.DirectoryWalker.fireStepDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirectoryWalker.java
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTaskArchivaRepositoryScanningTaskExecutor.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
	at java.lang.Thread.runThread.java
Caused by org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeException Invalid path to Artifact filename format is invalid,expected timestamp format in filename.
	at org.apache.maven.archiva.consumers.core.repository.RetentionCountRepositoryPurge.processRetentionCountRepositoryPurge.java
	at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFileRepositoryPurgeConsumer.java
	...  more
 pool--thread- ERROR org.apache.maven.archiva.repository.scanner.RepositoryScannerdefault  - Consumer metadata-updater had an error when processing file Darchiva-webdatarepositoriessnapshotsorgireneirene.-SNAPSHOTirene-.-.--test-sources.jar Unable to convert to artifact reference orgireneirene.-SNAPSHOTirene-.-.--test-sources.jar
org.apache.maven.archiva.consumers.ConsumerException Unable to convert to artifact reference orgireneirene.-SNAPSHOTirene-.-.--test-sources.jar
	at org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer.processFileMetadataUpdaterConsumer.java
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.executeConsumerProcessFileClosure.java
	at org.apache.commons.collections.functors.IfClosure.executeIfClosure.java
	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStepRepositoryScannerInstance.java
	at org.codehaus.plexus.util.DirectoryWalker.fireStepDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirectoryWalker.java
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTaskArchivaRepositoryScanningTaskExecutor.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
	at java.lang.Thread.runThread.java
Caused by org.apache.maven.archiva.repository.layout.LayoutException Invalid path to Artifact filename format is invalid,expected timestamp format in filename.
	at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReferenceDefaultPathParser.java
	at org.apache.maven.archiva.repository.content.AbstractDefaultRepositoryContent.toArtifactReferenceAbstractDefaultRepositoryContent.java
	at org.apache.maven.archiva.repository.content.ManagedDefaultRepositoryContent.toArtifactReferenceManagedDefaultRepositoryContent.java
	at org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer.processFileMetadataUpdaterConsumer.java
	...  more
{noformat}

There are similar exceptions that follow right behind it with the only difference being that they are for
 - Darchiva-webdatarepositoriessnapshotsorgireneirene.-SNAPSHOTirene-.-.--sources.jar
 - Darchiva-webdatarepositoriessnapshotsorgireneirene.-SNAPSHOTirene-.-.--tests.jar
 - Darchiva-webdatarepositoriessnapshotsorgireneirene.-SNAPSHOTirene-.-.-.jar
 - Darchiva-webdatarepositoriessnapshotsorgireneirene.-SNAPSHOTirene-.-.-.pom

Nothing is deleted however.",Bug
"releases always activated in repositories When we edit and save a repository configuration, releases are always enabled even if we uncheck the releases entry. In the configuration file the releasesfalsereleases isnt stored.",Bug
"Add date column in the When manually browsing the repositories, a date column should be added. 
I guess this should be a good idea to get closer to the interface provided by httprepo.maven.orgmaven for example.

At the moment, theres only a list of the available artifacts.

Thanks a lot.
",Improvement
"Add date column in the repository interface When manually browsing the repositories, a date column should be added. 
I guess this should be a good idea to get closer to the interface provided by httprepo.maven.orgmaven for example.

At the moment, theres only a list of the available artifacts.

Thanks a lot.
",Improvement
"Better handling of artifacts with missing poms When there is an artifact with no pom in the repository, Archiva displays the artifact and version in Browse Repository but if you
click on the version, you get 

Error Occurred
  Unable to find project model for groupIdartifactIdversion

For example, if I delete the pom and checksums for asmasm., and scan and update then I get

httplocalhostarchivabrowseasmasm
Browse Repository
top  asm  asm
Versions
.

httplocalhostarchivabrowseasmasm.
Error Occurred
Unable to find project model for asmasm..

",Improvement
"should not be possible to create a proxy connector if there are no remote repositories  start a new archiva instance
 delete all remote repositories
 create a proxy connector the remote repo list is empty
 add the connector

steps  and  should not be possible",Bug
"Archiva may delete you app server installation I installed the WAR version of Archiva into my tomcat instance... no problem so far.
I then attempted to delete the default ""internal"" repository. I hit the delete config and contents button.

At that moment I noticed that the repository directory was the tomcat home directory.

Archiva managed to completely delete my Tomcat installation.

To reproduce this, install it as a war, point a repo dir at your app server home, and hit the delete button make sure you have a backup.",Bug
"Offer a way to monitor artifacts that will not be downloaded because of some policy After having had some problems with corrupted jars, we recently purged our proxying directory on the archiva server, then switched from ""ignore"" to ""fail"" policy when bad hash is found on the remote server.

After some times, for example, we discovered we werent able to download the maven pom-.. from the client side of Archiva. The thing is Archiva only issues a  when the remote hash is bad. I guess it should issue a  or some x instead.

To sum up, what I think would be the best solutions
 issue something else than an  when the remote artifact wont be downloaded because of a non matching hash
 offer a way to notify some admin by mail, for example about corrupted artifacts that wont be downloaded. In fact, in this kind of case, theres a big chance people using archiva are going to complain about some artifacts that cant be downloaded maven pom-.. e.g. -. 
 Offer a dedicated page inside archiva admin summarizing all those problematic artifacts. Particularly giving those that couldnt be downloaded because of bash hash associated to ""fail"" policy.

Thanks a lot.
Cheers.",Improvement
"Endless loop in ""Dependency Tree"" in cyclic dependencies When i look the the view ""dependencies"" for an artifact, all runs well. But when I select the view ""Dependency Tree"" nothings happends a new page will be loaded, but never displayed. Look at OS-Level Linux with top, I see an java-process with  cpu-Usage - endless. 
When I go back with the browser and select the save view again, then I will have  cpu-usage for the java-process .... 
This will happends with archiva .. and .., but not with . there will be an error message. 
I think that there will be an cyclic dependency in my artifact and archiva is not able to detect an endless loop while building the dependency-tree .... 
",Bug
"search should tokenize on a hypthen I was searching for ""jee"" in my Archiva instance and it turned up nothing, even though there was a ""jboss-jee"".",Improvement
"Default cron expression for database update is invalid The default cron expression on the Database page is ""    "" which is invalid.

When adding a managed repository, the log shows
-- , btpool- WARN  org.apache.maven.archiva.scheduled.ArchivaTaskSchedulerdefault  - Cron expression      for database update is invalid.  Defaulting to hourly.

If you click Update cron on the Databases page, there is no validation error but the same log message appears.

I think it should be       instead.",Bug
"Archiva does not download plugin artifacts in Geronimo When i have an initially blank local maven repo and for example start maven with ""mvn clean"", no artifacts get downloaded. Maven is configured via the attached settings.xml. When i monitor the tcp traffic, i see that the GET in this case for the maven-metadata.xml for maven-clean-plugin request issued to archiva is the correct one. Archiva responses with a .

When I browse the repository file system on the server where archiva stores its files, i see that a maven-metadata-central.xml was stored. the contents of this file are not correct, though.

From trial and error I found out, that any request to a plugin related maven-metadata.xml file will fail. If I try the same for a ""normal"" artifact maven-metadata.xml like the one for commons-lang then archiva downloads the correct file.",Bug
"Error ending component lifecycle -- . -- , Thread- INFO  org.codehaus.plexus.ehcache.EhcacheComponentuserAssignments  - Disposing cache  name  userAssignmentsCache status  STATUS_ALIVE eternal  false overflowToDisk  false maxElementsInMemory   maxElementsOnDisk   memoryStoreEvictionPolicy  LRU timeToLiveSeconds   timeToIdleSeconds   diskPersistent  false diskExpiryThreadIntervalSeconds   cacheEventListeners  hitCount   memoryStoreHitCount   diskStoreHitCount   missCountNotFound   missCountExpired   
-- . There was no such logger org.codehaus.plexus.redback.xwork.filter.authentication.HttpAuthenticatorbasic .
-- . -- , Thread- INFO  org.codehaus.plexus.cache.Cacheeffective-project-cache  - Disposing cache  name  effective-project-cache status  STATUS_ALIVE eternal  true overflowToDisk  false maxElementsInMemory   maxElementsOnDisk   memoryStoreEvictionPolicy  LRU timeToLiveSeconds   timeToIdleSeconds   diskPersistent  true diskExpiryThreadIntervalSeconds   cacheEventListeners  hitCount   memoryStoreHitCount   diskStoreHitCount   missCountNotFound   missCountExpired   
-- . -- , Thread- ERROR org.codehaus.plexus.PlexusContainer  - Error while disposing component manager. Continuing with the rest
-- . org.codehaus.plexus.component.repository.exception.ComponentLifecycleException Error ending component lifecycle
-- . 	at org.codehaus.plexus.component.manager.AbstractComponentManager.endComponentLifecycleAbstractComponentManager.java
-- . 	at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.disposeClassicSingletonComponentManager.java
-- . 	at org.codehaus.plexus.DefaultPlexusContainer.disposeAllComponentsDefaultPlexusContainer.java
-- . 	at org.codehaus.plexus.DefaultPlexusContainer.disposeDefaultPlexusContainer.java
-- . 	at org.codehaus.plexus.xwork.PlexusLifecycleListener.contextDestroyedPlexusLifecycleListener.java
-- . 	at org.apache.catalina.core.StandardContext.listenerStopStandardContext.java
-- . 	at org.apache.catalina.core.StandardContext.stopStandardContext.java
-- . 	at org.apache.catalina.core.ContainerBase.removeChildContainerBase.java
-- . 	at org.apache.catalina.startup.HostConfig.undeployAppsHostConfig.java
-- . 	at org.apache.catalina.startup.HostConfig.stopHostConfig.java
-- . 	at org.apache.catalina.startup.HostConfig.lifecycleEventHostConfig.java
-- . 	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEventLifecycleSupport.java
-- . 	at org.apache.catalina.core.ContainerBase.stopContainerBase.java
-- . 	at org.apache.catalina.core.ContainerBase.stopContainerBase.java
-- . 	at org.apache.catalina.core.StandardEngine.stopStandardEngine.java
-- . 	at org.apache.catalina.core.StandardService.stopStandardService.java
-- . 	at org.apache.catalina.core.StandardServer.stopStandardServer.java
-- . 	at org.apache.catalina.startup.Catalina.stopCatalina.java
-- . 	at org.apache.catalina.startup.Catalina$CatalinaShutdownHook.runCatalina.java
-- . Caused by org.codehaus.plexus.personality.plexus.lifecycle.phase.PhaseExecutionException Error stopping component
-- . 	at org.codehaus.plexus.personality.plexus.lifecycle.phase.StopPhase.executeStopPhase.java
-- . 	at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.endAbstractLifecycleHandler.java
-- . 	at org.codehaus.plexus.component.manager.AbstractComponentManager.endComponentLifecycleAbstractComponentManager.java
-- . 	...  more
-- . Caused by org.codehaus.plexus.personality.plexus.lifecycle.phase.StoppingException Unable to unschedule tasks
-- . 	at org.apache.maven.archiva.scheduled.DefaultArchivaTaskScheduler.stopDefaultArchivaTaskScheduler.java
-- . 	at org.codehaus.plexus.personality.plexus.lifecycle.phase.StopPhase.executeStopPhase.java
-- . 	...  more
-- . Caused by org.quartz.SchedulerException Error unscheduling job. See nested exception org.quartz.SchedulerException Error getting job. See nested exception org.quartz.SchedulerException The Scheduler has been shutdown.
-- . 	at org.codehaus.plexus.scheduler.DefaultScheduler.unscheduleJobDefaultScheduler.java
-- . 	at org.apache.maven.archiva.scheduled.DefaultArchivaTaskScheduler.stopDefaultArchivaTaskScheduler.java
-- . 	...  more",Bug
"DefaultDavServerManager.createServer doesnt create server In DefaultDavServerManager, the createServer method instead of creating a new server each time its called is reusing the same server for all paths.

The ""DavServerComponent server"" needs to be created each time createServer is called instead of being injected by plexus when the DavServerManager is created.

This bug makes multiple repositories with different settings not work. 

For example ""internal"" has snapshots disabled, while ""snapshots"" has snapshots enabled. When a request comes for the snapshots repository, webdav is using the metadata for the ""internal"" server which has snapshots disabled and refuses to download snapshots. 

Its possible that if it downloaded snapshots they would be put on the wrong repository ""internal"", but I havent verified this.

",Bug
"After successful admin login archiva reacts as if user is guest I ran Archiva on my windows box and, after configuring the admin user, I was able to login.  The header of the web page identified me as Administrator admin and I could see all the expected functions on the left hand frame.  So far so good.

I had Archiva installed on a linux box and started.  I surfed to the box from Windows and configured the admin user.  But when I logged in as admin I got a page with only SearchFindArtifactBrowse functions.  The header page reads ""Login - Register"".  It is as if I am not logged in and am seeing the guest functions.  Note that if I log in with a deliberately incorrect password then I get an error message as expected.  But logging in with the right credentials appears to fail silently.

As a result I cannot deploy any artifacts into Archiva, I cannot roll out the mavensubversionarchiva based edition of our in-house project, and I fear my time is limited!
",Bug
"Archiva fails to serve Maven  repository artifacts Because Maven  repositories have artifacts without POMs, the following occurs on browse

-- , btpool- ERROR org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumerupdate-db-project  - Unable to process model Usersbrettscmmavenarchiva-..xarchiva-webarchiva-webapptargetappserver-basedatarepositoriesmapppomsapp-..pom due to  javax.jdo.JDOUserException  Field org.apache.maven.archiva.model.ArchivaProjectModel.packaging is null, but is mandatory as its described in the jdo metadata
javax.jdo.JDOUserException Field org.apache.maven.archiva.model.ArchivaProjectModel.packaging is null, but is mandatory as its described in the jdo metadata
	at org.jpox.store.rdbms.fieldmanager.ParameterSetter.storeStringFieldParameterSetter.java
	at org.jpox.state.StateManagerImpl.providedStringFieldStateManagerImpl.java
	at org.apache.maven.archiva.model.ArchivaProjectModel.jdoProvideFieldArchivaProjectModel.java
	at org.apache.maven.archiva.model.ArchivaProjectModel.jdoProvideFieldsArchivaProjectModel.java
	at org.jpox.state.StateManagerImpl.provideFieldsStateManagerImpl.java
	at org.jpox.store.rdbms.request.InsertRequest.executeInsertRequest.java
	at org.jpox.store.rdbms.table.ClassTable.insertClassTable.java
	at org.jpox.store.StoreManager.insertStoreManager.java
	at org.jpox.state.StateManagerImpl.internalMakePersistentStateManagerImpl.java
	at org.jpox.state.StateManagerImpl.makePersistentStateManagerImpl.java
	at org.jpox.AbstractPersistenceManager.internalMakePersistentAbstractPersistenceManager.java
	at org.jpox.AbstractPersistenceManager.makePersistentAbstractPersistenceManager.java
	at org.apache.maven.archiva.database.jdo.JdoAccess.saveObjectJdoAccess.java
	at org.apache.maven.archiva.database.jdo.JdoAccess.saveObjectJdoAccess.java
	at org.apache.maven.archiva.database.jdo.JdoProjectModelDAO.saveProjectModelJdoProjectModelDAO.java
	at org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer.processArchivaArtifactProjectModelToDatabaseConsumer.java
	at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.executeProcessArchivaArtifactClosure.java
	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateUnprocessedJdoDatabaseUpdater.java
	at org.apache.maven.archiva.database.browsing.DefaultRepositoryBrowsing.selectVersionDefaultRepositoryBrowsing.java
	at org.apache.maven.archiva.web.action.ShowArtifactAction.artifactShowArtifactAction.java

A placeholder should be used instead",Bug
"Trim URL in Remote Repositories I made a wrong cutn paste and declared a remote repository with ""    httpfoo.com...""
Archiva doesnt access to it with the error  
{code}
jvm     | -- , SocketListener- WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectorsdefault  - Transfer error from repository
""local-generali-releases"" for artifact AAABBBCCCpom, continuing to next repository. Error message Unsupported target repositor
y protocol     http
{code}
A simple trim on the URL when we save the remote repository configuration could help",Improvement
"Should be able to set the ""sender"" address on registration emails Registration emails are sent as from archiva@localhost on this server. The local Exim mail server rejects this as unroutable and refuses to deliver. Id prefer not to work around this by altering the Exim configs.

Is there a way to add this to the javamail configs in plexus.xml

Ill check the source code to find out more but please let me know if this is already covered off.",Improvement
"archivabrowse URL does not work on WebSphere The browse URL is not recognized, since the RepositoryActionMapper uses the ServletPath to determine the ""browse"" prefix in the path.
The JEE  spec specifies 
""This method will return an empty string """" if the servlet used to process this request was matched using the """" pattern.""
If your appserver works as described the ""browse"" in the URL can only be determined by using getPathInfo.

 httpjava.sun.comjavaeedocsapijavaxservlethttpHttpServletRequest.htmlgetServletPath",Bug
"Display account name of the user who uploaded the artifact in the artifact information if the artifact was deployeduploaded in the Archiva repo When I search for an artifact or browse for one, Id like archiva to inform me which repository it is stored in.  In addition, if someone uploaded it, Id like to know the account for who uploaded it if I have a problem with the file.",Improvement
"No content type for .pom files denoted in file ""archiva-mime-types.txt"" - workaround included On Websphere ,, .pom files cant be downloaded from Archiva via respository requests.
For instance, the URL 
  httplocalhostarchivarepositoryinternalcommons-langcommons-lang.commons-lang-..pom
leads to an exception like this

..  CEST  WebApp        E   Servlet Error-RepositoryServlet java.lang.NullPointerException
	at com.ibm.ws.webcontainer.srt.SRTServletResponse.setContentTypeSRTServletResponse.java
	at it.could.webdav.DAVTransaction.setContentTypeDAVTransaction.java
	at org.codehaus.plexus.webdav.simple.ReplacementGetMethod.processReplacementGetMethod.java
	at it.could.webdav.DAVProcessor.processDAVProcessor.java
	at org.codehaus.plexus.webdav.simple.SimpleDavServerComponent.processSimpleDavServerComponent.java
        ...

The most likely cause seems to be that there is no mimetype for .pom files listed in Archivas resource file ""archiva-mime-types.txt"".

I added this mimetype by changing line  of ""archiva-mime-types.txt"" from
  applicationxml                          xml xsl
to
  applicationxml                          xml xsl pom

This way, .pom file are treated as xml files.

After that change the exception mentioned above didnt occur anymore.

HTH, Stefan
",Bug
"implement MevenIDE provider for Archiva Archiva should provide an implementation to be the repository manager used by MevenIDE.

SPI httpfisheye.codehaus.orgbrowsemevenidetrunkmevenidenetbeanslibsindexersrcmainjavaorgcodehausmevenideindexerspi

if you are a MevenIDE user that would like this support, please vote.",New_Feature
"Scan Repository Now should display a confirmation message When you click the Scan Repository Now button, there is no indication that anything happened.

",Improvement
"InstallService.bat requires PLEXUS_BASE to point to PLEXUS_HOME  The script requires binplexus.bat to be present in both PLEXUS_BASE and PLEXUS_HOME. This is not the case if one wants to separate the repository from the intallation. The workaround that worked for me was to replace 
if exist ""PLEXUS_BASEbinplexus.bat"" goto startup
with just
goto startup",Bug
"No message is displayed after a successful artifact upload After a successful artifact upload MRM-, MRM-, no ""success"" message is displayed.

The user is sent back to the blank upload form with no indication that anything happened.",Bug
"Failures of checksum or cached remote failures do not return useful errors Archiva returns a  error for mismatched checksums.   This misrepresents the root cause of the problem.

It should return some useful feedback in the http response indicating what is going on.   A generic  error would be some improvement, but ideally there would be some error that describes exactly what occurred.",Bug
"variable in url pom are not replaced. In my pom, the url of the project is 
  urlhttpserverdocs${project.groupId}${project.artifactId}${project.version}url

So I expect that archiva replace the ${} variables of this URL, but it
doesnt   .
",Bug
"Dont allow partial artifacts to be accessed by maven. If an artifacts packaging is not pom, then the repository should not mark it the latest if only a pom is available.
ie if an upload to the repository partly fails and for some reason the actual artifact is not available, do not let maven try to download that version",New_Feature
"Security using ldap throws NullPointerException I configured .msecurity.properties with ldap information.
In DefaultArchivaConfiguration the Registry load all informations of security.properties.

When i was loggin throws this Exception

java.lang.NullPointerException
	org.codehaus.plexus.redback.common.ldap.connection.LdapConnection.initLdapConnection.java
	org.codehaus.plexus.redback.common.ldap.connection.ConfigurableLdapConnectionFactory.getConnectionConfigurableLdapConnectionFactory.java
	org.codehaus.plexus.redback.authentication.ldap.LdapBindAuthenticator.authenticateLdapBindAuthenticator.java

I got redback source code, and i see that any information of ldap was there in LdapConnection!

",Bug
"Unable to update metadata - No versions found for reference  This occurs when requesting orgapachemavenpluginsmaven-metadata.xml.

The IOException is thrown updateMetadata because no artifact versions could be found in the maven-metadata.xml on merge.

httprepo.maven.orgmavenactivemqactivemq-gbeanmaven-metadata.xml
httprepo.maven.orgmavenorgapachemavenpluginsmaven-metadata.xml

The first file listed above is a plugin metadata file it lists plugin prefix mappings while the second lists the available artifact versions.

MetadataTools.updateMetadata should be updated to handle plugin metadata files

Exception report is attached.
",Bug
"NPE during repository scan im running version  from the .. branch, and im encountering the exception below during repository scanning.  it seems to happen once, and scanning seems to continue successfully, so im not sure what exactly is affected by it.

edu.emory.mathcs.backport.java.util.concurrent.ExecutionException java.lang.NullPointerException
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.getResultFutureTask.java
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.getFutureTask.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.waitForTaskThreadedTaskQueueExecutor.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.runThreadedTaskQueueExecutor.java
Caused by java.lang.NullPointerException
	at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.executeProcessArchivaArtifactClosure.java
	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateProcessedJdoDatabaseUpdater.java
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateAllProcessedJdoDatabaseUpdater.java
	at org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor.executeTaskArchivaDatabaseUpdateTaskExecutor.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runTaskThreadPoolExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
	at java.lang.Thread.runThread.java
",Bug
"extensionPattern in FilenameParser is incorrect in FileNameParser.java

     extensionPattern is bogus. I assume that the . chars are supposed to be literal chars, should be

"".tar.gz$|.tar.bz$|.a-z-$""

TestCase

  public void testNoExtension
  {
    FilenameParser parser  new FilenameParser""foo_bar"";
    assertNullparser.getExtension;
  }
",Bug
"File Types in Repository Scanning page accepts any string  - artifacts
- auto-remove
- ignored
- indexable-content",Bug
"Buggy documentation on ""separating the base from the installation"" The documentation on httpmaven.apache.orgarchivadocs..adminguidestandalone.html says in ""Separating the base from the installation""
"". Move the conf and data directories from the Archiva installation to the new location.""

But there is no ""data"" directory in a fresh installation.",Bug
"Unable to restart Archiva after restarting Tomcat  ""SQL Exception Failed to start database"" After restarting Tomcat, I get the following exception in the log file 

 Main Thread ERROR org.apache.catalina.core.ContainerBase.Catalina.localhost.archiva  - Exception lors de lenvoi de lÃ©vÃ¨nement contexte initialisÃ© context initialized Ã  linstance de classe dÃ©coute listener org.codehaus.plexus.xwork.PlexusLifecycleListener
javax.jdo.JDODataStoreException Failed initialising database. Please check that your database JDBC driver is accessible, and the database URL and usernamepassword are correct. Exception  Cannot create PoolableConnectionFactory Failed to start database execproductsjonasintegrationarchivadatabaseusers, see the next exception for details.
org.apache.tomcat.dbcp.dbcp.SQLNestedException Cannot create PoolableConnectionFactory Failed to start database execproductsjonasintegrationarchivadatabaseusers, see the next exception for details.
	at org.apache.tomcat.dbcp.dbcp.BasicDataSource.createDataSourceBasicDataSource.java
	at org.apache.tomcat.dbcp.dbcp.BasicDataSource.getConnectionBasicDataSource.java
	at org.jpox.util.FailoverUtils.getConnectionFailoverUtils.java
	at org.jpox.store.rdbms.RDBMSManager.initRDBMSManager.java
	at sun.reflect.NativeConstructorAccessorImpl.newInstanceNative Method
	at sun.reflect.NativeConstructorAccessorImpl.newInstanceNativeConstructorAccessorImpl.java
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstanceDelegatingConstructorAccessorImpl.java
	at java.lang.reflect.Constructor.newInstanceConstructor.java
	at org.jpox.util.ClassUtils.newInstanceClassUtils.java
	at org.jpox.store.StoreManagerFactory.getStoreManagerStoreManagerFactory.java
	at org.jpox.AbstractPersistenceManager.getStoreManagerAbstractPersistenceManager.java
	at org.jpox.AbstractPersistenceManager.initAbstractPersistenceManager.java
	at org.jpox.PersistenceManagerImpl.initPersistenceManagerImpl.java
	at org.jpox.PersistenceManagerFactoryImpl.getPersistenceManagerPersistenceManagerFactoryImpl.java
	at org.jpox.PersistenceManagerFactoryImpl.getPersistenceManagerPersistenceManagerFactoryImpl.java
	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getPersistenceManagerJdoTool.java
	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getObjectByIdJdoTool.java
	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.objectExistsByIdJdoTool.java
	at org.codehaus.plexus.redback.rbac.jdo.JdoRbacManager.resourceExistsJdoRbacManager.java
	at org.codehaus.plexus.redback.rbac.cached.CachedRbacManager.resourceExistsCachedRbacManager.java
	at org.codehaus.plexus.redback.role.processor.DefaultRoleModelProcessor.processResourcesDefaultRoleModelProcessor.java
	at org.codehaus.plexus.redback.role.processor.DefaultRoleModelProcessor.processDefaultRoleModelProcessor.java
	at org.codehaus.plexus.redback.role.DefaultRoleManager.loadRoleModelDefaultRoleManager.java
	at org.codehaus.plexus.redback.role.DefaultRoleManager.loadRoleModelDefaultRoleManager.java
	at org.codehaus.plexus.redback.role.DefaultRoleManager.initializeDefaultRoleManager.java
	at org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializePhase.executeInitializePhase.java
	at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.startAbstractLifecycleHandler.java
	at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycleAbstractComponentManager.java
	at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstanceAbstractComponentManager.java
	at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponentClassicSingletonComponentManager.java
	at org.codehaus.plexus.DefaultComponentLookupManager.lookupDefaultComponentLookupManager.java
	at org.codehaus.plexus.DefaultPlexusContainer.lookupDefaultPlexusContainer.java
	at org.codehaus.plexus.component.composition.AbstractComponentComposer.findRequirementAbstractComponentComposer.java
	at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementToFieldFieldComponentComposer.java
	at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementFieldComponentComposer.java
	at org.codehaus.plexus.component.composition.AbstractComponentComposer.assembleComponentAbstractComponentComposer.java
	at org.codehaus.plexus.component.composition.DefaultComponentComposerManager.assembleComponentDefaultComponentComposerManager.java
	at org.codehaus.plexus.personality.plexus.lifecycle.phase.CompositionPhase.executeCompositionPhase.java
	at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.startAbstractLifecycleHandler.java
	at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycleAbstractComponentManager.java
	at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstanceAbstractComponentManager.java
	at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponentClassicSingletonComponentManager.java
	at org.codehaus.plexus.DefaultComponentLookupManager.lookupDefaultComponentLookupManager.java
	at org.codehaus.plexus.DefaultPlexusContainer.lookupDefaultPlexusContainer.java
	at org.codehaus.plexus.component.composition.AbstractComponentComposer.findRequirementAbstractComponentComposer.java
	at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementToFieldFieldComponentComposer.java
	at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementFieldComponentComposer.java
	at org.codehaus.plexus.component.composition.AbstractComponentComposer.assembleComponentAbstractComponentComposer.java
	at org.codehaus.plexus.component.composition.DefaultComponentComposerManager.assembleComponentDefaultComponentComposerManager.java
	at org.codehaus.plexus.personality.plexus.lifecycle.phase.CompositionPhase.executeCompositionPhase.java
	at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.startAbstractLifecycleHandler.java
	at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycleAbstractComponentManager.java
	at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstanceAbstractComponentManager.java
	at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponentClassicSingletonComponentManager.java
	at org.codehaus.plexus.DefaultComponentLookupManager.lookupDefaultComponentLookupManager.java
	at org.codehaus.plexus.DefaultPlexusContainer.lookupDefaultPlexusContainer.java
	at org.codehaus.plexus.container.initialization.StartLoadOnStartComponentsPhase.executeStartLoadOnStartComponentsPhase.java
	at org.codehaus.plexus.DefaultPlexusContainer.initializePhasesDefaultPlexusContainer.java
	at org.codehaus.plexus.DefaultPlexusContainer.initializeDefaultPlexusContainer.java
	at org.codehaus.plexus.DefaultPlexusContainer.constructDefaultPlexusContainer.java
	at org.codehaus.plexus.DefaultPlexusContainer.initDefaultPlexusContainer.java
	at org.codehaus.plexus.DefaultPlexusContainer.initDefaultPlexusContainer.java
	at org.codehaus.plexus.xwork.PlexusLifecycleListener.contextInitializedPlexusLifecycleListener.java
	at org.apache.catalina.core.StandardContext.listenerStartStandardContext.java
	at org.apache.catalina.core.StandardContext.startStandardContext.java
	at org.apache.catalina.core.ContainerBase.addChildInternalContainerBase.java
	at org.apache.catalina.core.ContainerBase.addChildContainerBase.java
	at org.apache.catalina.core.StandardHost.addChildStandardHost.java
	at org.apache.catalina.startup.HostConfig.deployDescriptorHostConfig.java
	at org.apache.catalina.startup.HostConfig.deployDescriptorsHostConfig.java
	at org.apache.catalina.startup.HostConfig.deployAppsHostConfig.java
	at org.apache.catalina.startup.HostConfig.startHostConfig.java
	at org.apache.catalina.startup.HostConfig.lifecycleEventHostConfig.java
	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEventLifecycleSupport.java
	at org.apache.catalina.core.ContainerBase.startContainerBase.java
	at org.apache.catalina.core.StandardHost.startStandardHost.java
	at org.apache.catalina.core.ContainerBase.startContainerBase.java
	at org.apache.catalina.core.StandardEngine.startStandardEngine.java
	at org.apache.catalina.core.StandardService.startStandardService.java
	at org.apache.catalina.core.StandardServer.startStandardServer.java
	at org.apache.catalina.startup.Catalina.startCatalina.java
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	at java.lang.reflect.Method.invokeMethod.java
	at org.apache.catalina.startup.Bootstrap.startBootstrap.java
	at org.apache.catalina.startup.Bootstrap.mainBootstrap.java

And Archiva doesnt work anymore!!!!!
Please help!

Fanx.",Bug
"Archiva web client does not recognize classifier Ive started using classifiers with some of my native libraries.  The Web application does not represent the classifier, and the artifact is not downloadable from the web application.  My builds are occurring correctly, so Maven has no difficulty retrieving the artifacts.

As an example, I have put the following into my local Archiva repository

reutersRFAlibFDacsLIB.solaris
reutersRFAlibFDacsLIB.linux_x
reutersRFAlibFDacsLIB.linux_x

The deploy command I use to achieve this was

mvn deploydeploy-file -DfilelibFDacsLib.so -DgroupIdreutersRFA -DartifactIdlibFDacsLib -Dversion. -Dpackagingso -Dclassifiersolaris -DgeneratePomtrue -DrepositoryIdarchiva.default -Durlhttpinvldnlsparearchivarepositoryinternal

et. sim for -Dclassifierlinux_x and -Dclassifierlinux_x

In the archiva repository filesystem I see

$ find appdataarchiva -name ""libFDacsLib""
.datarepositoriesinternalreutersRFAlibFDacsLib
.datarepositoriesinternalreutersRFAlibFDacsLib.libFDacsLib-..pom
.datarepositoriesinternalreutersRFAlibFDacsLib.libFDacsLib-.-linux_x.so.md
.datarepositoriesinternalreutersRFAlibFDacsLib.libFDacsLib-.-solaris.so.sha
.datarepositoriesinternalreutersRFAlibFDacsLib.libFDacsLib-.-linux_x.so
.datarepositoriesinternalreutersRFAlibFDacsLib.libFDacsLib-..pom.sha
.datarepositoriesinternalreutersRFAlibFDacsLib.libFDacsLib-.-linux_x.so.sha
.datarepositoriesinternalreutersRFAlibFDacsLib.libFDacsLib-.-linux_x.so.sha
.datarepositoriesinternalreutersRFAlibFDacsLib.libFDacsLib-.-linux_x.so
.datarepositoriesinternalreutersRFAlibFDacsLib.libFDacsLib-.-solaris.so
.datarepositoriesinternalreutersRFAlibFDacsLib.libFDacsLib-.-linux_x.so.md
.datarepositoriesinternalreutersRFAlibFDacsLib.libFDacsLib-..pom.md
.datarepositoriesinternalreutersRFAlibFDacsLib.libFDacsLib-.-solaris.so.md
$

Note that there is only one .pom, and there is no "".so"" without a classifier extension.

In the web gui I can browse as far as 

top  reutersRFA  libFDacsLib  .

Inside this I see a POM Dependency Snippet which does not mention the classifier

dependency
      groupIdreutersRFAgroupId
      artifactIdlibFDacsLibartifactId     
      version.version
      typesotype
dependency

I have a link to download the POM, but I have no link to download any actual artifact.  No mention is made of ""solaris"", ""linux_x"" or ""linux_x"" anywhere on the web page.

I suspect the POM has been stripped of the classifier by archiva when maven deployed the artifact.  As far as Archiva is concerned, there is only one POM which references an artifact that does not exist on the filesystem no libFDacsLib.so file since its looking without the classifier extension.

Naturally Id like to see a fix in a future version of Archiva if indeed Archiva is causing the problem.  In the mean-time I would appreciate guidence as to whether I should create three separate POMs that specify the three classifier values to replace the existing POM in the archva repository filesystem.





",Bug
"Archiva should prevent re-deployment of released or non-snapshot versioned artifacts It is possible de redeploy a versionned jar with webdav eventhough it must be impossible.
It is possible de redeploy a versionned jar eventhough the file is readonly.

It is very problematic.",Bug
default policies are not selected in the add proxy connector page it just uses the first one in the list each time,Bug
"metatadata-updater does not recognise deleted files when updating snapshot version metadata According to the documentation the metadata-updater will do the
following 

metadata-updater - Updates artifact metadata files depending on the content of the repository. 

I have been testing this by deploying several artifacts to the repository and getting a specific timestamp and build number in the maven-metatadata.xml file.  Next, I delete the latest snapshot build from the repo, including checksums.  I run the repository scanner and the database-updater and this file is never fixed based on the actual contents of the file system.  Archive updates it internal metadata, but not mavens metadata and thus maven fails to download the artifact. 


From Brett

I think at present the updater corrects the versions flag, but not the snapshot information it also doesnt correct the plugin group metadata.",Improvement
"Archiva documentation needs a page that explains why you should use a repository manager This can be more general about repository managers, but why choose Archiva may be a part of it.",Bug
"CLONE -  Insufficient Storage when deploying artifact with webdav Sometimes when deploying with dav I get a "" Insufficient Storage"" error.

The artifact ...groupartifactversionartifact-version.jar gets deployed with checksums.
The metadata ...groupartifactversionmaven-metatdata.xml gets deployed with checksums.

It seems to happen when maven tries to upload the updated parent metadata ...groupartifactmaven-metadata.xml. The checksums for this metadata deploys OK.",Bug
"Improve RSS feed generation - add check to control file size of generated RSS feeds
- make sure that the when the client requests the RSS, it gets the right headers to not try and update it if it  hasnt changed for performance
- get the urls of the feeds from the rss feed request

More info in httpwww.nabble.comReA-svn-commitA-r---in--archiva-trunkA-archiva-jetty-src-main-conf-jetty.xml-archiva-modules-archiva-web-archiva-rss-src-main-java-org-apache-archiva-rss-processor-NewArtifactsRssFeedProcessor.java-td.html",Improvement
"create a guideline on how to set up enterprise grade security archiva looks really great. it would be even more appealing for starters in corporate environments to have a few guidelines which answer the following questions

  how do you configure one user base, or connect one user base
  how do you build up a tree like the ibiblio repository, and assign security to some sub-paths or repositories
  how could you map parts of a remote repository into the local repository tree
  does one central maven deployment pom pointing to the ""global corporate repository"" make sense
",Improvement
"snapshot artifacts in maven repo with legacy timestamps not being cleaned we have artifacts in our maven repository which are fairly old one of the reasons we wanted to use archiva, to clean up the crud!.  however, it appears that some of the snapshots are not being cleaned up.  my guess is that it is due to an unrecognized timestamp format

For an artifact with artifactId ""hmsCommon-jwrap"", we have snapshots which look like

hmsCommon-jwrap-..jar


 unit test
public void testLegacyVersion {
  assertTrueVersionUtil.isSnapshot""."";
}
",Bug
"set JSW to auto-restart if it crashes or hangs wrapper.on_exit.defaultRESTART
wrapper.on_exit.SHUTDOWN

putting these in wrapper.conf will cause Continuum to restart if it hangs or crashes, ie, only shutdown on exit code .

Hang will be the default of  seconds unresponsive - we may want to consider increasing that too with wrapper.restart.delay.",Improvement
"MySQL Specified key was too long; max key length is  bytes - in redback When starting up archiva on a MySQL Database. the following error is seen.

{code}
Caused by javax.jdo.JDODataStoreException An exception was thrown while addingvalidating classes  Specified key was too long; max key length is  bytes
com.mysql.jdbc.exceptions.MySQLSyntaxErrorException Specified key was too long; max key length is  bytes
        at com.mysql.jdbc.SQLError.createSQLExceptionSQLError.java
        at com.mysql.jdbc.MysqlIO.checkErrorPacketMysqlIO.java
        at com.mysql.jdbc.MysqlIO.sendCommandMysqlIO.java
        at com.mysql.jdbc.MysqlIO.sqlQueryDirectMysqlIO.java
        at com.mysql.jdbc.Connection.execSQLConnection.java
        at com.mysql.jdbc.Connection.execSQLConnection.java
        at com.mysql.jdbc.Statement.executeStatement.java
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementAbstractTable.java
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementListAbstractTable.java
        at org.jpox.store.rdbms.table.AbstractTable.createAbstractTable.java
        at org.jpox.store.rdbms.table.AbstractTable.existsAbstractTable.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidationRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidateRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.runRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.executeRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager.addClassesRDBMSManager.java
        at org.jpox.store.rdbms.RDBMSManager.addClassRDBMSManager.java
        at org.jpox.AbstractPersistenceManager.newObjectIdInstanceAbstractPersistenceManager.java
        at org.apache.maven.archiva.database.jdo.JdoAccess.getObjectByIdJdoAccess.java
        at org.apache.maven.archiva.database.jdo.JdoAccess.getObjectByIdJdoAccess.java
        at org.apache.maven.archiva.database.jdo.JdoRepositoryDAO.getRepositoryJdoRepositoryDAO.java
        at org.apache.maven.archiva.web.startup.ConfigurationSynchronization.synchConfigurationConfigurationSynchronization.java
        at org.apache.maven.archiva.web.startup.ConfigurationSynchronization.initializeConfigurationSynchronization.java
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializePhase.executeInitializePhase.java
{code}",Bug
"Archiva does not expose certain artifacts for download I have a module that publishes an artifact of type tar, but when I browse to it in Archiva, the tar file is not available for download 

For a given artifact
  groupIdrhinestonegroupId
  artifactIdrhinestone-packageartifactId
  packagingtarpackaging
  version.version

In the directory there does exist a file of compatible layout, rhinestone-package-..tar",Bug
"assignments.jsp missing trtr group under ""Resource Roles""   archiva-webappsrcmainwebappWEB-INFjspredbackadminassignments.jsp

missing trtr group under ""Resource Roles""

hResource Rolesh
...
            cforEach var""row"" items""${table}""
--           tr
                    cforEach var""column"" items""${row}""
...
                    cforEach
--           tr
            cforEach
",Bug
"error adding artifacts to Lucene under some circumstances Observed in newly built Archiva ...

ava.lang.NullPointerException
	at org.apache.lucene.index.IndexModifier.closeIndexModifier.java
	at org.apache.maven.archiva.indexer.lucene.LuceneRepositoryContentIndex.closeQuietlyLuceneRepositoryContentIndex.java
	at org.apache.maven.archiva.indexer.lucene.LuceneRepositoryContentIndex.modifyRecordLuceneRepositoryContentIndex.java
	at org.apache.maven.archiva.consumers.lucene.IndexContentConsumer.processFileIndexContentConsumer.java
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.executeConsumerProcessFileClosure.java
	at org.apache.commons.collections.functors.IfClosure.executeIfClosure.java
	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStepRepositoryScannerInstance.java
	at org.codehaus.plexus.util.DirectoryWalker.fireStepDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirectoryWalker.java
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTaskArchivaRepositoryScanningTaskExecutor.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runTaskThreadPoolExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
	at java.lang.Thread.runThread.java

Once this happens, it happens for every scanned artifact, but there is no indicator of why it started.",Bug
"Delete Released Snapshots doesnt work I have  repositories. One for releases and the other for snapshots.
I activated the option to remove snapshots for already released artifacts.
I also setup the repository with purge by retention   and purge by days older than  D
In my snapshots repository I have always some old snapshots",Bug
"blacklisting unavailable remote reps once one of the repos configured as a proxy-connector is down, the mvn build-process slows down extremely as the connect time-out is about  minute for each repo and each artifact.
There should be a configuration available to adjust blacklisting repos that have been identified as non-reachable.
Such repos should be able to get re-avtivated manually.
",Improvement
"Adding a network proxy doesnt require an identifier Steps
. Click on Network Proxies on the menu to the left of the screen
. Click on Add Network Proxy
. Enter valid values except for Identifier which would contain no value or just spaces.
. Click on Save Network Proxy

No error is displayed and network proxy will be added even without an identifier.",Bug
"Access to indexes files with a browser is not possible httptl-em-.mycompany.localarchivarepositoryinternal.indexfilecontentsegments.gen

Is translated by archiva into 

httptl-em-.mycompany.localrepository.indexfilecontentsegments.gen

and display in my browser firefox or IE

org.apache.maven.archiva.repository.layout.LayoutException Invalid path to Artifact legacy paths should have an expected type ending in s in the second part of the path.
	at org.apache.maven.archiva.repository.content.LegacyPathParser.toArtifactReferenceLegacyPathParser.java
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toArtifactReferenceRepositoryRequest.java
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toNativePathRepositoryRequest.java
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.processProxiedDavServer.java
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.serviceMultiplexedWebDavServlet.java
	at org.apache.maven.archiva.web.repository.RepositoryServlet.serviceRepositoryServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at org.mortbay.jetty.servlet.WebApplicationHandler.dispatchWebApplicationHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.http.HttpContext.handleHttpContext.java
	at org.mortbay.jetty.servlet.WebApplicationContext.handleWebApplicationContext.java
	at org.mortbay.http.HttpContext.handleHttpContext.java
	at org.mortbay.http.HttpServer.serviceHttpServer.java
	at org.mortbay.http.HttpConnection.serviceHttpConnection.java
	at org.mortbay.http.HttpConnection.handleNextHttpConnection.java
	at org.mortbay.http.HttpConnection.handleHttpConnection.java
	at org.mortbay.http.SocketListener.handleConnectionSocketListener.java
	at org.mortbay.util.ThreadedServer.handleThreadedServer.java
	at org.mortbay.util.ThreadPool$PoolThread.runThreadPool.java

So the .index folder seems to create some problems during the translation of url.

It is a blocking bug for users who want use the search fonctionnality of meclipse because it uses the .index folder to download indexes datas.


",Bug
"generated LICENSE and NOTICE files need improvement the NOTICE file includes incorrect information under the ""unknown"" section, as well as listing many components that are not necessary since they all come from Apache.

the LICENSE file currently omits the BSD license from the Java Service Wrapper ..",Bug
"Post download checksum policy should validate against remote filename not the local filename Post download checksum policy should validate against remote filename not the local filename

",Bug
Support inclusion of pom file when deploying an artifact via the web upload form Currently the web upload form only supports pom generation when uploading M artifacts.,New_Feature
"database scanning should be able to be run after repository scanning since after the initial processing both scans are quite fast, being able to put them together sequentially makes sense so that changes are reflected as quickly as possible",Improvement
"ConsumerException when scanning database Im running the .. branch, version .  I got a bunch of similar consumerexceptions when i tried to scan the database.  however, i only got them the first time after upgrading from a previous version of the code on the .. branch, now scans seem to be proceeding without problem.  an example exception is included below.

 org.apache.maven.archiva.consumers.ConsumerException Unable to find Database Object org.apache.mavenmaven-profile.. of type org.apache.maven.archiva.model.ArchivaProjectModel using no fetch-group
 	at org.apache.maven.archiva.consumers.database.DatabaseCleanupRemoveProjectConsumer.processArchivaArtifactDatabaseCleanupRemoveProjectConsumer.java
 	at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.executeProcessArchivaArtifactClosure.java
 	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
 	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateProcessedJdoDatabaseUpdater.java
 	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateAllProcessedJdoDatabaseUpdater.java
 	at org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor.executeTaskArchivaDatabaseUpdateTaskExecutor.java
 	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
 	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
 	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
 	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runTaskThreadPoolExecutor.java
 	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
 	at java.lang.Thread.runThread.java
",Bug
"mailing-info on the website points to old maven.apache.org addresses On httparchiva.apache.orgmail-lists.html the links for the various mailing-list about achiva still point to the @maven.apache.org addresses.

Please update with the correct addresses @archiva.apache.org",Bug
Upgrade Lucene from . to .. There have been lots of improvements between . and the latest release ... This would be a worth while upgrade.,Improvement
"Database Issue java.sql.SQLException Already closed. Im getting an java.sql.SQLException Already closed. when doing certain things in Archiva.
Ive attached a stack trace f the exception from the browser.",Bug
"add a generic script for platforms that dont support the wrapper using the new generated Jetty bundle, there is no way to start the server equivalent to plexus.sh when the platform is not supported by the bundled scripts",Improvement
"Artifacts with extensions longer than fours characters breaks repository scanning. We store Mac OS X jnilib artifacts in our unmanaged maven repository.  During our transition to a standalone archiva .. instance running on linux RHEL, I was able to deploy our jnilib artifacts, but I was not able to download them as a dependency in a different project.  I received the dependency not found in any repository error.  When running the repository scan, the log file showed this

 pool--thread- ERROR org.apache.maven.archiva.repository.scanner.RepositoryScannerdefault  - Consumer metadata-updater had an error when processing file varwwwhtmlmanaged-mavenfobsjmfmacosxilibfobsjmf...-SNAPSHOTlibfobsjmf-...-.-.jnilib Unable to convert to artifact reference fobsjmfmacosxilibfobsjmf...-SNAPSHOTlibfobsjmf-...-.-.jnilib
org.apache.maven.archiva.consumers.ConsumerException Unable to convert to artifact reference fobsjmfmacosxilibfobsjmf...-SNAPSHOTlibfobsjmf-...-.-.jnilib
        at org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer.processFileMetadataUpdaterConsumer.java
        at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.executeConsumerProcessFileClosure.java
        at org.apache.commons.collections.functors.IfClosure.executeIfClosure.java
        at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
        at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStepRepositoryScannerInstance.java
        at org.codehaus.plexus.util.DirectoryWalker.fireStepDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
...

Caused by org.apache.maven.archiva.repository.layout.LayoutException Invalid path to Artifact filename format is invalid,expected timestamp format in filename.
        at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReferenceDefaultPathParser.java
        at org.apache.maven.archiva.repository.content.AbstractDefaultRepositoryContent.toArtifactReferenceAbstractDefaultRepositoryContent.java
        at org.apache.maven.archiva.repository.content.ManagedDefaultRepositoryContent.toArtifactReferenceManagedDefaultRepositoryContent.java
        at org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer.processFileMetadataUpdaterConsumer.java

I narrowed down the issue to a regex in org.apache.maven.archiva.repository.content.FilenameParser.  The artifact filename extension is limited to four characters and the version was coming back with ...-.-.j.  By changing the extension length to six characters, the issue was resolved.

The attached patch sets no length on an artifact extension enabling support for .dylib and .jnilib files for mac os x.

org.apache.maven.archiva.repository.content.FilenameParser
c
     private static final Pattern extensionPattern  Pattern.compile "".tar.gz$|.tar.bz$|.a-z-{,}$"",
---
     private static final Pattern extensionPattern  Pattern.compile "".tar.gz$|.tar.bz$|.a-z-$"",

Jim Jackson
",Bug
"Proxy Connector access in Managed Repository Page It would be great if Archiva had a link to Proxy Connector Settings of a specific Managed Repository from within the Manage Repository Page. A simple link within the bounding box of managed repo like ""configure proxy connector for this managed repo,"" or something more concise perhaps would do. 

Also, I think it would be very informative if the repos being proxied by a managed repo be also listed in this same box. something like

Proxied Repos central, java.net",Improvement
"path and filename parsing is unnecessarily complicated The path, filename and version parsing uses a complicated structure to be able to appropriately guess which part of a filename is a version, artifactId, and classifier.

This is needed to be able to effectively proxy and serve maven requests where the information is unclear.

However, this code is also used for m requests where the format of the filename can be clearly derived from the rest of the path.

I suggest the code be separated into different handlers based on the layout so that the m requests can be simplified.",Bug
"Have to create .profile file for user archiva I want to run Archiva as another user named archiva RUN_AS_USERarchiva. I have to create the file $HOME.profile for user archiva in order to set some environment variables

export PLEXUS_BASEvararchiva
export JAVA_HOMEusrlibjvmjava-..-sun
export TOOLS_JAR""${JAVA_HOME}libtools.jar""

Otherwise, Archiva wont start. I think the file binlinux-x-run.sh should do the job. If RUN_AS_USER is set, a new login shell is created and within that one the wrapper is run.",Bug
"Cannot proxy maven plugin jaxb from a maven repository httpdownload.java.netmaven Legacy Artifact Path Resolution returns error message when configuring a Maven plugin in a Maven  repo if direcotry is not under ""plugins.""

Example

Artifact location httpdownload.java.netmavencom.sun.tools.xjc.mavenmaven-pluginsmaven-jaxb-plugin-..jar

Configuration

Path com.sun.tools.xjc.mavenmaven-pluginsmaven-jaxb-plugin-..jar
GroupId com.sun.tools.xjc.maven
ArtifactId maven-jaxb-plugin
Version .
Classifier
Type maven-plugin

Error message

artifact reference does not match the initial path  com.sun.tools.xjc.mavenpluginsmaven-jaxb-plugin-..jar


Also, the auto complete feature does not correctly slice the input initially

ArtifactId maven
Version jaxb-plugin-.",Bug
"Error while deploying an artifact to archiva Our integration server bamboo more and more often fails to upload artifacts on archiva.
On the integration server side we receive an error like 
{code}
INFO Error deploying artifact Failed to transfer file httphost&;archiva&;repositorysnapshots&;groupIdartifactId..-SNAPSHOT&;artifactId-..-.--tests.jar. Return code is  Internal Server Error
{code}
On the archiva side we have this error 
{code}
  | Mar ,   AM org.mortbay.jetty.servlet.ServletHandler handle
INFO   | jvm     |   | WARNING archivarepositorygenerali-snapshotsfrgeneraligaelcommungael-common-domain..-SNAPSHOTgael-common-domain-..-.--tests.jar
INFO   | jvm     |   | org.codehaus.plexus.redback.users.UserManagerException Unable to update the org.codehaus.plexus.redback.users.jdo.JdoUser object in the jdo database.
INFO   | jvm     |   |       at org.codehaus.plexus.redback.users.jdo.JdoUserManager.updateObjectJdoUserManager.java
INFO   | jvm     |   |       at org.codehaus.plexus.redback.users.jdo.JdoUserManager.updateUserJdoUserManager.java
INFO   | jvm     |   |       at org.codehaus.plexus.redback.users.cached.CachedUserManager.updateUserCachedUserManager.java
INFO   | jvm     |   |       at org.codehaus.plexus.redback.users.configurable.ConfigurableUserManager.updateUserConfigurableUserManager.java
INFO   | jvm     |   |       at org.codehaus.plexus.redback.authentication.users.UserManagerAuthenticator.authenticateUserManagerAuthenticator.java
INFO   | jvm     |   |       at org.codehaus.plexus.redback.authentication.DefaultAuthenticationManager.authenticateDefaultAuthenticationManager.java
INFO   | jvm     |   |       at org.codehaus.plexus.redback.system.DefaultSecuritySystem.authenticateDefaultSecuritySystem.java
INFO   | jvm     |   |       at org.codehaus.plexus.redback.xwork.filter.authentication.HttpAuthenticator.authenticateHttpAuthenticator.java
INFO   | jvm     |   |       at org.codehaus.plexus.redback.xwork.filter.authentication.basic.HttpBasicAuthentication.getAuthenticationResultHttpBasicAuthentication.java
INFO   | jvm     |   |       at org.apache.maven.archiva.web.repository.RepositoryServlet.isAuthenticatedRepositoryServlet.java
INFO   | jvm     |   |       at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.serviceMultiplexedWebDavServlet.java
INFO   | jvm     |   |       at org.apache.maven.archiva.web.repository.RepositoryServlet.serviceRepositoryServlet.java
INFO   | jvm     |   |       at javax.servlet.http.HttpServlet.serviceHttpServlet.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   |       at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   |       at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   |       at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationHandler.dispatchWebApplicationHandler.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
INFO   | jvm     |   |       at org.mortbay.http.HttpContext.handleHttpContext.java
INFO   | jvm     |   |       at org.mortbay.jetty.servlet.WebApplicationContext.handleWebApplicationContext.java
INFO   | jvm     |   |       at org.mortbay.http.HttpContext.handleHttpContext.java
INFO   | jvm     |   |       at org.mortbay.http.HttpServer.serviceHttpServer.java
INFO   | jvm     |   |       at org.mortbay.http.HttpConnection.serviceHttpConnection.java
INFO   | jvm     |   |       at org.mortbay.http.HttpConnection.handleNextHttpConnection.java
INFO   | jvm     |   |       at org.mortbay.http.HttpConnection.handleHttpConnection.java
INFO   | jvm     |   |       at org.mortbay.http.SocketListener.handleConnectionSocketListener.java
INFO   | jvm     |   |       at org.mortbay.util.ThreadedServer.handleThreadedServer.java
INFO   | jvm     |   |       at org.mortbay.util.ThreadPool$PoolThread.runThreadPool.java
INFO   | jvm     |   | Caused by org.codehaus.plexus.jdo.PlexusStoreException Unable to update object due to unexpected null value.
INFO   | jvm     |   |       at org.codehaus.plexus.jdo.PlexusJdoUtils.updateObjectPlexusJdoUtils.java
INFO   | jvm     |   |       at org.codehaus.plexus.redback.users.jdo.JdoUserManager.updateObjectJdoUserManager.java
INFO   | jvm     |   |       ...  more
INFO   | jvm     |   | Caused by java.lang.NullPointerException
{code}
I cant test to reproduce it with ..-SNAPSHOT because it occurs only on production with the integration server.",Bug
"repository admin page should indicate scan in progress it would be nice if the repository admin page showed a little more status info for in progress scans.  at the very least it would be nice to show a ""scan in progress"" or ""scan request queued"" as appropriate for a repository.  even better would be to show some partial stats for in progress scans.",Improvement
"Removal of Archiva-Webdav implementation in favor of Jackrabbit-webdav This patch removes plexus-webdav in favor of Jackrabbits webdav servlet implementation. It is not yet  completed and tested. HTTP GET and PUT should work correctly.

The following needs to happen before integration

 New Jackrabbit classes need to be correctly unit tested.
 Webdav properties need to be implemented
 Testing of common webdav clients - Mac OS X, Windows, Wagon-Dav, etc",Improvement
"archiva attempts to get remote version metadata for snapshots, even if policy disables it I noticed this error in the logs
-- , btpool- WARN  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer error from repository ""central""
 for versioned Metadata org.apache.archivaarchiva-reporting.-SNAPSHOT, continuing to next repository. Error message Download failure on resource 
httprepo.maven.orgmavenorgapachearchivaarchiva-reporting.-SNAPSHOTmaven-metadata.xmlRead timed out

However, central has a ""never"" policy for snapshots, so this should not occur",Bug
"Exception when trying to retrieve a Maven  artifact of type zip Through my browser, I try to access my artifact 

the url is 
httplocalhostarchivarepositorymavenjdkzipsjre-..zip

and the exception is
Error  Not Found

The following resource does not exist httplocalhostrepositoryjdkdistributionsjre-..zip

org.apache.maven.archiva.repository.layout.LayoutException Invalid path to Artifact mismatch on extension zip and layout specified type distributions which maps to extension distribution on path jdkdistributionsjre-..zip
	at org.apache.maven.archiva.repository.content.LegacyPathParser.toArtifactReferenceLegacyPathParser.java
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toArtifactReferenceRepositoryRequest.java
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toNativePathRepositoryRequest.java
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.processProxiedDavServer.java
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.serviceMultiplexedWebDavServlet.java
	at org.apache.maven.archiva.web.repository.RepositoryServlet.serviceRepositoryServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilterWebApplicationHandler.java
	at org.mortbay.jetty.servlet.WebApplicationHandler.dispatchWebApplicationHandler.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.http.HttpContext.handleHttpContext.java
	at org.mortbay.jetty.servlet.WebApplicationContext.handleWebApplicationContext.java
	at org.mortbay.http.HttpContext.handleHttpContext.java
	at org.mortbay.http.HttpServer.serviceHttpServer.java
	at org.mortbay.http.HttpConnection.serviceHttpConnection.java
	at org.mortbay.http.HttpConnection.handleNextHttpConnection.java
	at org.mortbay.http.HttpConnection.handleHttpConnection.java
	at org.mortbay.http.SocketListener.handleConnectionSocketListener.java
	at org.mortbay.util.ThreadedServer.handleThreadedServer.java
	at org.mortbay.util.ThreadPool$PoolThread.runThreadPool.java

The artifact has been correctly deployed on archiva and what is strange is that it tries to access
jdkdistributionsjre-..zip instead of  jdkzipsjre-..zip

If I install my artifact under le directory jdkdistributions, this dont solve the problem and 
if I try to retrieve the artifact with maven it fails too.",Bug
"Clean up report data The problem was, after an upgrade there were outdated data in the db and this leads to errorneous report.

Suggestions
a synchronize the db with the filesystem. could be long running task and not trivial to implement.
b just delete the report data and collect them again. could be long running task, but functionality is already there",Improvement
"versions in metadata not merged correctly for cargo-maven-plugin  remove local repository for at least affected plugin artifact

 remove maven-metadata files from managed repository for affected plugin artifact

 try to build httpsvn.apache.orgreposasfstrutsstrutstrunkapps or wget repositoryinternalorgcodehauscargocargo-maven-pluginmaven-metadata.xml

The resulting metadata is
metadata
  groupIdorg.codehausgroupId
  artifactIdcargoartifactId
  versioncargo-maven-pluginversion
metadata

where it should be equivalent to the one on central. Note the group, artifact and version are parsed incorrectly.

",Bug
"regression proxying metadata causes an IO exception in new checksum code Steps to reproduce
 remove activemqactivemq-gbean-management.xml and associated checksums on the filesystem
 request activemqactivemq-gbean-managementmaven-metadata.xml via Archiva

Exception

-- , btpool- WARN  org.apache.archiva.checksum.ChecksummedFile  - Supplied checksum does not match checksum pattern
java.io.IOException Supplied checksum does not match checksum pattern
        at org.apache.archiva.checksum.ChecksummedFile.parseChecksumChecksummedFile.java
        at org.apache.archiva.checksum.ChecksummedFile.fixChecksumsChecksummedFile.java
        at org.apache.maven.archiva.policies.ChecksumPolicy.applyPolicyChecksumPolicy.java
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.validatePoliciesDefaultRepositoryProxyConnectors.java
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFileDefaultRepositoryProxyConnectors.java
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxiesDefaultRepositoryProxyConnectors.java
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchMetadataFromProxiesArchivaDavResourceFactory.java
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxiesArchivaDavResourceFactory.java
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.doGetArchivaDavResourceFactory.java
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResourceArchivaDavResourceFactory.java
        at org.apache.maven.archiva.web.repository.RepositoryServlet.serviceRepositoryServlet.java

",Bug
"Footer doesnt stretch across repositoryScanning and database pages The footer doesnt stretch all the way across the page for the repositoryScanning and database pages.  This is because the footer DIV is being generated inside the contentBox DIV instead of outside of it.  Upon inspecting the pages repositoryScanning.jsp and database.jsp in WEB-INFjspadmin I found that the DIV tag div id""contentArea"" is never closed at the end of the file, causing the observed behaviour.

This can easily be fixed by simply adding a second div before the closing body and html tags in both files.",Bug
"make content-disposition header customisable for some mime-types I would like to be able to set all textual formats text, applicationxml in particular in archiva-mime-types to have a content-disposition of inline so that they are shown in the browser rather than downloaded as an attachment.",Improvement
"Dont list metadata files in the search results We currently list maven-metadata.xml files in the search results.  IMO they dont add value and should not be displayed.

This is somewhat related to MRM-, deleted maven-metadata.xml files are not removed from search results.",Improvement
remove use of appserver.base system property and interpolation we should be able to configure this via a context variable in the web application and alternate configuration source for any non-webapp deployments that come later and simplify basic webapp installation,Bug
"Add remote repository health check A cron based check of remote repositories cron value per remote.
Option
 disable the repository until the next check 
 send an email to users with admin role ",New_Feature
"Error viewing artifact information Searched on jasypt, paged down until reached version .., clicked on the version number and received and error message image attached.  I then also attached the logs.",Bug
"Patch Activating the dependency tree tab on snapshot artifact fails with NotSuchMethodException Hello,

You will find attached a patch that fixes an exception NoSuchMethodException  thrown when the user browses into snapshot artifact dependencies. I just updated version of maven-repository-metadata dependency. All tests are succeeding.

Best regards,
Antoine Rouaze",Bug
"Refactor to remove maven specific part from various repositorymetadata apis The goal is to able to create new repostories type.
The specific part will be moved to org.apache.archiva.metadata.repository.storage.RepositoryStorage
Some part contains maven specific which need to be moved on maven modules.",Bug
"Register link appears after logging in and back out even ""Disable registration Link"" is checked I have the ""Disable registration Link"" checkbox checked and initially hitting the Archiva homepage the register button is not shown.

But after I have logged in and then log out, the link appears and is clickable",Bug
"implements LDAP userroles creation  add a flag writableLdap per default false.
users and roles will be created if true.",Bug
"Graph visualization for dependencies Hello,

You will find attached a patch that adds a tab to the Browse view and makes it visually easier to view the dependency tree as a graph. See attached screenshot. It uses d.js.

Best regards,
Antoine Rouaze",Improvement
"Cant uploads multiple artifacts of different types I am using Archiva .M.

I noticed that Maven can upload multiple artifacts with different packaging like a jar, a xml and a pom for one versionsnapshot.

I cant achieve that with the Archiva UI  REST API.
I managed to upload multiple files, but as I can only specify ONE packaging,
all files get changed to the same suffix.

e.g. if I upload a pdf and a xml and pick xml as packaging, then I end up with  files that have a .xml file extension.

IMHO the packaging should be a per file parameter, just like the classifier.",Bug
"Number of artifacts type is not displayed in the statistics view Hello,

You will find attached a patch that fixes the display of the number of artifacts type in the repository statistics table.

Regards,
Antoine Rouaze",Bug
"Clicking the "".."" when browsing should take you up one level in the group chain and not ""Home"" Even though this is a MINOR Bug, it is a MAJOR pain in the butt because I cant seem to remember to not click it when attempting to navigate up one level 

If Im browsing in the folder for org.apache.archiva and want to click the little folder icon to go up one level, instead of taking me to org.apache, it takes me all the way to the roothome folder.

So for example if the starting url is

     httparchivabrowseorg.apache.commons

when I click the link to up to the parent folder, I want it to go to

     httparchivabrowseorg.apache

But instead it goes to

     httparchivabrowse

If it is working as designed, it is not intuitive since up one level to me means up to the parent group folder, not all the way to the tophome folder.",Bug
"Upload Artifact page allows to uploading SNAPSHOT versions to non snapshot repositories Uploading a SNAPSHOT version artifact to a repository that is not configured for snapshots like the default internal repository does not lead to an error.
The message indicates that the artifact has been successfully uploaded.

bq. Artifacts uploaded and saved on Server side.


However the repository is now in a non recoverable bad state and when one tries to browse to the uploaded artifact an error message is displayed

bq. managed repo is configured for release only

At that point it is not even possible to delete the erroneous artifact. 


Found with Archiva .-M 
dist - Revision  devarchiva.-Mbinaries
",Bug
"maven metadata not complete after snapshots purge  Currently we have 
{code}
metadata
  groupIdorg.apache.archivagroupId
  artifactIdarchiva-parentartifactId
  version-SNAPSHOTversion
  versioning
    snapshot
      buildNumberbuildNumber
      timestamp.timestamp
    snapshot
    lastUpdatedlastUpdated
  versioning
metadata
{code}
For maven we could have
{code}
xml version""."" encoding""UTF-""
metadata modelVersion""..""
  groupIdorg.apache.tomcat.mavengroupId
  artifactIdtomcat-maven-pluginartifactId
  version.-SNAPSHOTversion
  versioning
    snapshot
      timestamp.timestamp
      buildNumberbuildNumber
    snapshot
    lastUpdatedlastUpdated
    snapshotVersions
      snapshotVersion
        extensionpomextension
        value.-.-value
        updatedupdated
      snapshotVersion
      snapshotVersion
        classifiersiteclassifier
        extensionxmlextension
        value.-.-value
        updatedupdated
      snapshotVersion
    snapshotVersions
  versioning
metadata
{code}",Bug
"add filtersearch for users list users list can be very long.
We must provide a filterautocomplete on name,full name and email.",New_Feature
"Delete Released Snapshots Not Working  Expectations We have two managed repos internal & snapshots.  Both have been marked with ""Delete released snapshots"".  As you would expect, we do not allow snapshots in in ""internal"" and no releases in ""snapshots"".  We also use proxy connectors.  I have tried both .. & .-M without luck.
Im wondering if logic requires pre-M version conventions i.e. .-SNAPSHOT & .-RELEASE.  We use a variation which I thought was supported in Maven .  For example, ...BUILD-SNAPSHOT & ...RELEASE.  Could this be the issue  Can someone provide any detail on the logic used for this feature A little more about the M version changes httpdocs.codehaus.orgdisplayMAVENVersioning.  This particular convention was modeled after the Spring Framework and related Spring projects.
Thanks.",Bug
"ldap group mapping support for active directory see github.comapacheredback-corepull
",Bug
"Improve welcome page currently there is no welcome page.
We could improve that with various links to web site and documentation.",Bug
users  edit roles -- please sort repository list for ease of use Please sort the list of repositories under the users panel  edit roles. This will make usability better. Thank you.,Improvement
"Little memory leak detected Perhaps some duplicate of MRM- but no activity since  months  openend a new

----

We are using Archiva .-M for our company, and we found some memory problem usage on this version.

It seems not to be a ""big problem"", because there is _not directly_ a OutOfMemory, the Jetty server becomes very slow before. Symptom from CI platorm for exemple  

{quote}
Server returned HTTP response code  for URL httpurlrepositoryrepoNamegrouIdartifactIdversionmaven-metadata.xml
{quote}

----

Informations about volumetry  

Requests by day wc -l request-XXX.log   average

Company repositories _Total File Count_ from Stats in  Repositories menu  
 company-releases   
 company-snapshots  
 proxied-releases   
 proxied-snapshots  
 extra-libs  
 commercial-libs  
 Total  

Note  Option  ""Skip Packed Index creation"" activated on each repositories.
----
Analysis  

The GC grow up during the week  
!GC-HeapUsage-OneWeek.png!

The invocation to GC grow up when memory is short 
!GC-InvocationCountOneWeek.png!

Before the problem, we can see the impact difficulty to garbage memory 
!GC-HeapUsage-BeforeProblem.png!

After a application restart, the common usage is less than Go 
!GC-HeapUsage-AfterProblem.png!

 So the supposition is a little memory leak.

----

A solution could be some cache time reduction or SoftReferenceWeakReference usage.

Today I have not more information about problem, restart was urgent, and analysis a Go HeapDump a little difficult.
I will take HeapDumps the next week to give some detail about memory usage.",Bug
"The words ""choosen"" and ""availables"" used within the Users Runtime Configuration The Users Runtime Configuration section contains the word ""choosen"" and ""availables"" under the General tab.

""choosen"" should be changed to ""chosen"" or something like
""Selected User Managers""
""Configured User Managers""
""Selected Rbac Managers""
""Configured Rbac Managers""

""availables"" should be changed to ""available"", however its use within that header should be something like
""Available User Managers""
""Available Rbac Managers""",Bug
"open loginbox when url need authz currently when going to an url with authz needed the login is not opened automatically.
",Improvement
"Feature to add custom parameters andor headers when requesting an external repositories Admin must be able to configure
 add extra parameters when get datas from remote repositories
 add http headers",Bug
issue connecting to secured ldap I noticed some issues connect to secured ldap. asf instance and local secured instance,Bug
"RepositoryAdminException when configuring a custom JCR repository path This is a standard debian tomcat install where the tomcat user does not have write access to the tomcat folder itself. All archiva data is placed on a separate partition at mntdatastorearchiva.

When I try to configure an alternative jackrabbit repository location as described here|httparchiva.apache.orgdocs.-Madminguiderepositories-content-storage.html by setting the jcr-configs constructor-arg to my custom path, the jackrabbit repository is created but the following exception shows up in the archiva.log

{code}org.apache.archiva.admin.model.RepositoryAdminException Cannot create directory varlibtomcatdataremotescentral.index{code}

I tried to grep for data in the war folder but havent found anything except the jcr repository part. Where does this path come from

I currently have created a symlink that points to the archiva data location which works fine but I dont like this solution because now I have to maintain configuration at multiple locations symlinkconfig files.",Bug
"Multiple, incompatible, log name formats Without any customization of Archiva logging system, today I find __.request.log, archiva---.log, and wrapper..log files. These are using three separate date formats, and it is a pain to script clean up of them.

I request that we use a common and consistent scheme for naming these log files.",Improvement
"RepositorySessionFactory must be configurable with jcr as default Currently RepositorySessionFactory is the only one available in the classpath using injection
    @Inject
    private RepositorySessionFactory repositorySessionFactory;

As we now have  implementations we must give the opportunity to the user to define it via configuration.",New_Feature
"Add replication and fault tolerance using Helix As of today, Archiva does not support replication and does not support automatic fail over. Archiva has two main storage types, the files uploaded to the repository which uses file system for storage and metadata storage for which Jack Rabbit is used. Archiva also supports notification mechanism where a consumer can be notified of the changes in the repository.

In order to have fault tolerance and replication, we can have multiple archiva instances running for redundancy. One of them will be elected as the master and will accept writesreads. And the remaining will be slaves and only serve reads. The slaves can get notified from the master of every change and it will apply the changes. When the master dies, one of the slaves will become the master and serve writes. 

Apache Helix is a newly incubated project and provides the basic building blocks to add partition management, recovery from failure and cluster expansion with ease. I have built a sample prototype how one can build such a replicated file store using Helix.  More information can be found here. httphelix.incubator.apache.orgrecipesrsync_replicated_file_store.html

I have used rsync for replication and  apache jci module to detect file system changes to show case the recipe as a generic use case. However in case of Archiva, one can use the notification mechanism provided by archiva consumer for detecting changes and using archiva apis to fetch the changed files. ",New_Feature
"using LDAP can be configurable with the ui currently to use ldap usersadmin must edit a configuration file and restart their instance.
This must be configurable with the ui.",New_Feature
users  edit -- please sort effective roles Please sort the Roles listed when an administrator enters the users panel and clicks edit button for a specific user. This will help with user interface effectiveness.,Improvement
"Use cookie settings from redback for rememberme feature rememberme feature has been restored in .-M.
But doesnt take care about cookie settings from redback.",Improvement
"Allow subtree searches for LDAP authentication The nature of LDAP is an object hierarchy allowing for structured organization of users, groups, computers, and other objects similar to a file system.

The object structure can be organized by geographic region, business unit or organizational structure just to name a few.

In our company, not all users or groups are in a single containerlocation in the LDAP directory structure and we need to be able to specify the root-most container to start the search and need subtree searches or users will be missed.
",Improvement
"Filtering on Artifact Id When ever I use the GUI interface to filter on the artifact id after a search has been performed, it does not perform this secondary filter.

e.g.
Search on org.springframework.ldap
Artifact ID filter spring-ldap
Result Does not filter out all other artifacts, but ignores the filter selected and the filter box stays blank.",Bug
"build merged index for groups with a cron schedule the current merged index for groups is generated ""on the fly"" with some caching to avoid generation on each request.
We can add a cron schedule to generate it.",Improvement
"RepositoryStatisticsManagergetLastStatistics takes a lot of time especially with jcr and old repo.
All entries are loaded.
MetadataRepositorygetLastMetadataFacet is very long as it load all entries",Bug
"Cant download large archive file due to java.lang.NumberFormatException I tried to download a large archiveGB,,,, bytes to be precise that I uploaded to Apache Archiva .. using Eclispe Aether API and attempt to download it failed.
Note I was able to upload and download GB file fine.
So it may seems that there is probably an attempt to convert a Long value ,,, to an Integer value in the code below that results in
java.lang.NumberFormatException For input string """"

Detail of archiva trace log


jvm     | -- .WARN  archivarepositoryinternalcomdatasynapsefabricHelloWorldXXL.
.HelloWorldXXL-...war
jvm     | java.lang.NumberFormatException For input string """"
jvm     |      at java.lang.NumberFormatException.forInputStringUnknown Source
jvm     |      at java.lang.Integer.parseIntUnknown Source
jvm     |      at java.lang.Integer.parseIntUnknown Source
jvm     |      at org.apache.jackrabbit.webdav.io.OutputContextImpl.setContentLengthOutputContextImpl.java

jvm     |      at org.apache.maven.archiva.webdav.ArchivaDavResource.spoolArchivaDavResource.java
jvm     |      at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.spoolResourceAbstractWebdavServlet
.java
jvm     |      at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.doGetAbstractWebdavServlet.java

jvm     |      at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.executeAbstractWebdavServlet.java

jvm     |      at org.apache.maven.archiva.webdav.RepositoryServlet.serviceRepositoryServlet.java
jvm     |      at javax.servlet.http.HttpServlet.serviceHttpServlet.java
jvm     |      at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
jvm     |      at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
jvm     |      at org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
jvm     |      at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
jvm     |      at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
jvm     |      at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
jvm     |      at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
jvm     |      at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
jvm     |      at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternalCharacterEncodingFilt
er.java
jvm     |      at org.springframework.web.filter.OncePerRequestFilter.doFilterOncePerRequestFilter.java
jvm     |      at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
jvm     |      at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
jvm     |      at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
jvm     |      at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
jvm     |      at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
jvm     |      at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
jvm     |      at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
jvm     |      at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
jvm     |      at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
jvm     |      at org.mortbay.jetty.Server.handleServer.java
jvm     |      at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
jvm     |      at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
jvm     |      at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
jvm     |      at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
jvm     |      at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
jvm     |      at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
jvm     |      at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java
",Bug
"Provide custom roles for repository access The currently available roles are very coarse granular being a mere observer or a full manager of a repository.

It would be helpful to be able to create new roles that have limited access to the repository.

An example role could grant the right to upload new artifacts without the right to fully manage the repository including deletion of artifacts.

Another example role could grant the right to merge without the right to fully manage the repository.
",Improvement
"window.archivaRuntimeInfo.version is null in archivaarchiva.js window.archivaRuntimeInfo.version is null in my environment and this implies not to open the web interface only loading image is visible.

I fixed that by checking if window.archivaRuntimeInfo.version is not null line .",Bug
"hard coded limitation of  for pageSize in SearchResultLimits currently pageSize in SearchResultLimits is hardcoded to  and limited to .
REST services call doesnt allow to change the value.
So some rest call doesnt return all the values.",Bug
"Apache Archiva .-M - Deployment Issue However, when I try to deploy the artifact through eclipse Kepler Im getting the below error.

Error code , HTTP method PUT is not supported by this URL

For more details pls refer httpstackoverflow.comquestionsapache-archiva---m-deployment-issue",Bug
"DownloadMergedIndexNonDefaultPathTest test fail Hello,

You will find attached a patch that fixes bug in archiva-modulesarchiva-webarchiva-web-commonsrctestjavaorgapachearchivaDownloadMergedIndexNonDefaultPathTest.java test.

Best regards,
Antoine Rouaze",Bug
"SNAPSHOTS not getting purged Ive configured Jenkins to deploy snapshots to an internal snapshot repo that houses in-house artifacts upon successful builds.  Jenkins is doing its job and deploying successful builds to Archiva.  However, the artifacts keep accumulating!

Repository scanning is set to
Enabled 	repository-purge 	Purge repository of old snapshots

The snapshot repos relevant settings are
Cron Expression      
Days Older 
Retention Count 
Snapshots, Scanned, and Delete Released Snapshots are the only check boxes that are checked.

Ive included a screen shot of just one of the artifacts that Im manually having to purge.",Bug
"Authentication for remote repositories doesnt work I try to access a remote repository configured as remote repository  proxy which requires authentication.

Although I have username and password specified in the remote repository config the request is unauthorized.

I checked with a tcp tracer, the request is indeed unauthorized",Bug
"logj beta cause out of heap space with java-.._ Trying to build Archiva I get ""Out of Heap space"" when running tests for archiva-repository-admin-default.

Running org.apache.archiva.admin.repository.ValidatorTest
Tests run , Failures , Errors , Skipped , Time elapsed . sec  FAILURE! - in org.apache.archiva.admin.repository.ValidatorTest
testGenericValidatororg.apache.archiva.admin.repository.ValidatorTest  Time elapsed . sec   ERROR!
java.lang.OutOfMemoryError Java heap space
	at java.util.Arrays.copyOfArrays.java
	at java.util.Arrays.copyOfArrays.java
	at java.util.Vector.growVector.java
	at java.util.Vector.ensureCapacityHelperVector.java
	at java.util.Vector.addElementVector.java
	at java.util.Stack.pushStack.java
	at org.apache.logging.logj.core.impl.ThrowableProxy.getCurrentStackThrowableProxy.java
	at org.apache.logging.logj.core.impl.ThrowableProxy.initThrowableProxy.java
	at org.apache.logging.logj.core.impl.LogjLogEvent.initLogjLogEvent.java
	at org.apache.logging.logj.core.impl.LogjLogEvent.initLogjLogEvent.java
	at org.apache.logging.logj.core.impl.DefaultLogEventFactory.createEventDefaultLogEventFactory.java
	at org.apache.logging.logj.core.config.LoggerConfig.logLoggerConfig.java
	at org.apache.logging.logj.core.Logger.logLogger.java
	at org.apache.logging.logj.spi.AbstractLoggerWrapper.logAbstractLoggerWrapper.java
	at org.apache.logging.logj.spi.AbstractLogger.errorAbstractLogger.java
	at org.springframework.test.context.TestContextManager.prepareTestInstanceTestContextManager.java
	at org.springframework.test.context.junit.SpringJUnitClassRunner.createTestSpringJUnitClassRunner.java
	at org.springframework.test.context.junit.SpringJUnitClassRunner$.runReflectiveCallSpringJUnitClassRunner.java
	at org.junit.internal.runners.model.ReflectiveCallable.runReflectiveCallable.java
	at org.springframework.test.context.junit.SpringJUnitClassRunner.methodBlockSpringJUnitClassRunner.java
	at org.springframework.test.context.junit.SpringJUnitClassRunner.runChildSpringJUnitClassRunner.java
	at org.springframework.test.context.junit.SpringJUnitClassRunner.runChildSpringJUnitClassRunner.java
	at org.junit.runners.ParentRunner$.runParentRunner.java
	at org.junit.runners.ParentRunner$.scheduleParentRunner.java
	at org.junit.runners.ParentRunner.runChildrenParentRunner.java
	at org.junit.runners.ParentRunner.access$ParentRunner.java
	at org.junit.runners.ParentRunner$.evaluateParentRunner.java
	at org.springframework.test.context.junit.statements.RunBeforeTestClassCallbacks.evaluateRunBeforeTestClassCallbacks.java
	at org.springframework.test.context.junit.statements.RunAfterTestClassCallbacks.evaluateRunAfterTestClassCallbacks.java
	at org.junit.runners.ParentRunner.runParentRunner.java
	at org.springframework.test.context.junit.SpringJUnitClassRunner.runSpringJUnitClassRunner.java
	at org.apache.maven.surefire.junit.JUnitProvider.executeJUnitProvider.java",Bug
"Adding new mimetypes to archiva should be configurable Sometimes it is necessary to add a new mime type for a local installation.
Doing this is currently done by

. edit the file WEB-INFapplicationContext.xml in the webapp folder by uncommenting
{code}
  !--
  bean name""mimeTpes"" class""org.apache.archiva.webdav.util.MimeTypes""
    property name""resource"" value""archiva-mime-types.txt""
  bean
  --
{code}
So you can use your own file.

. Then Copy the original
httpsvn.apache.orgreposasfarchivatrunkarchiva-modulesarchiva-webarchiva-webdavsrcmainresourcesorgapachearchivawebdavutilmime.types to WEB-INFclassesarchiva-mime-types.txt and add or change a mime type  line.



This would be much easier if this could be configurable by beeing able to set the mime-types file in the achiva config file. And preferably being able to do it via the GUI.

As a minimum we should be able to set the filename. 
As an advanced and possible future solution we could set and unset each line from that file.",Improvement
add check on archiva upgrade available simply verify if new version is available and display informations to users with admin role.,New_Feature
"Provide tooltips for action icons Example trashdelete, home, refresh icons in Browse, icons in Manage Users",Improvement
"LDAP users roles not saved I have my users populated from ldap and authenticatd,however when I try to assign roles, I get this message 

The class ""org.apache.archiva.redback.rbac.ldap.LdapRbacManager$UserAssignmentImpl"" is not Persistence-Capable. This means that it either hasnt been enhanced, or that the enhanced version of the file is not in the CLASSPATH or is hidden by an unenhanced version, or the Meta-Data for the class is not found.

And the roles are assigned but are lost after a few minutes. ",Bug
"Cannot manually delete artifacts via web GUI This bug has caused me considerable amounts of trouble.

If you upload a series of .jars for example a WebSphere runtime library of .jars and a .pom that aggregates those .jars and make a mistake, you cannot delete the one uploaded artifact that you messed up.

I uploaded a pom file, but I accidentally left in -DgeneratePomtrue.  Now, I cant delete the pom artifact when I log in as admin and delete the artifact from the default internal repo.  Archiva indicates that I successfully deleted the artifact the green success bubble message appears at the top of the screen, but the artifact remains.  It does not go away if I refresh the page, shift  refresh the page, or log out and log back in.

This forces me to delete the entire package to which I uploaded -something .jar artifacts.  I have to start all over again.",Bug
"Chaining user manager implementations It would be really helpful to have a ""chain"" of authentication modules, where if the first one fails a second one is queried.

The main use-case here is if one has LDAP user auth configured typical corporate environment, but also needs a few technical users like a Jenkins instance which are not in the corporate LDAP. 

A side benefit for that is, that one can hard-code a ""backup-administrator"" which can be used, if one accidentally breaks the LDAP configuration or if the LDAP isnt available at all.",Improvement
"pom artifacts cannot be searched on Archiva .-M When you want to search an artifact that is just a pom a root, for instance, you cant find it when your search it, using either basic or advanced search.

I reproduced it in a clean and basic environment on windows  
- install archiva . and create the admin user
- Upload a pom just a pom through the upload menu see capture.
- Check that you can see it when you browse, and that you can open the pom see captures. 
- Go to search menu, enter the name of the artifact in the query terms and click on the search button  no results found ! see capture
- Try again with advanced parameters, put the name of the artifact in the Artifact ID field and click on search see capture  no results found !

Searching jars or other kind of artifacts works perfectly. Only simple poms cannot be searched.

Thanks for your help !",Bug
"Fail to start on ibm jdk was Caused by java.lang.IllegalStateException The current state is not
START_DOCUMENT.
at com.ibm.xml.xlxp.api.stax.msg.StAXMessageProvider.throwIllegalStateExceptionStAXMessageProvider.java
at com.ibm.xml.xlxp.api.stax.XMLStreamReaderImpl.getCharacterEncodingSchemeXMLStreamReaderImpl.java
at com.ibm.xml.xlxp.api.stax.XMLInputFactoryImpl$XMLStreamReaderProxyImpl.getCharacterEncodingSchemeXMLInputFactoryImpl.java
at com.ibm.xml.xlxp.api.wssec.WSSXMLInputFactory$WSSStreamReaderProxy.getCharacterEncodingSchemeWSSXMLInputFactory.java
at org.apache.archiva.redback.role.model.io.stax.RedbackRoleModelStaxReader.readRedbackRoleModelStaxReader.java",Bug
"User updating their own password doesnt gets error, but the password has not been changed. When a user changes their own password, via Edit Details, they are presented with the following error

Unable to update the org.apache.archiva.redback.users.jdo.JdoUser object in the jdo database. 

But the password appears to have been changed.",Bug
"Default redback admin does not work anymore when using LDAP in the new UI Previously, the config @redback.default.admin@ in security.properties file is used upon initial startup on a clean installation of Archiva with LDAP. 

In the new UI, youd be prompted to create an admin account even if the property has been set to an existing LDAP user. But when you create an admin account, it doesnt get persisted since it is configured to use LDAP so you wont be able to do anything at all.

Workaround for this problem is to
 Start Archiva without LDAP configured
 Create an admin account then create another account whose username exists in LDAP ex. oching then assign that account with the System Admin role.
 Shutdown Archiva then configure it to use LDAP
 Start Archiva
 Login as the second user you created in our case, as oching. You should be able to do admin tasks.
",Bug
".mredback-security.properties not being used I added a single line
security.policy.password.expiration.enabledfalse

to .mredback-security.properties

I expected that I should then be able to log on using an account that had expired.

I was not able too.",Bug
"Configure LDAP pooling  Currently we dont use any connection pooling capability for LDAP.
JVMs have this possibility
 httpdocs.oracle.comjavasejnditutorialldapconnectconfig.html
 httpdocs.oracle.comjavasejnditutorialldapconnectpool.html",New_Feature
"When using LDAP, users can still edit their details upon login After logging in, users can click the Edit Details and fill in their Full name, email address and change password fields. Please see attached screenshot.

In the old-UI versions, these are disabled.",Bug
"fail to upload supplied POM file upload artifact by these steps
. choose ""Repository Id"";
. provide the GAV and Packagingjar
. choose jar file from FS
. choose pom file from FS, and check the ""pomFile""
. click ""start Upload"" of each file chosen, or click ""start Upload"" near the ""choose files"" 
. upload completed, then click ""Save Files""

But, these is no pom file uploaded to the target repo.",Bug
Cannot delete project with the ui Its possible to delete groupId but not projecti.e. groupIdartifactId,Bug
" CPU usages without any repository activities We are using Archiva without any problems since months. Suddenly the process started to consume  of CPU time. I restarted the server this morning and since then the process uses between  and  CPU even if there is absolutely no activity.
Attached a hardcopy of the status page.",Bug
"Race condition caused by retrieving the same artifact from a Proxy from muliple threads When multiple requests are made for the same artifact where proxy is used meaning there is no local file exists yet, there is a race condition.

A code block that moves the downloaded temp file to target location is in synchronized block which does prevent them from writing the same file, 

Before moving the temp file to the target location, it overwrites the existing file  by first checking the file existence and removes it. 

By removing it from the nd thread, the first thread that wrote the file and and tries to spool the file again throws  java.io.FileNotFoundException.

Please see attached patch.

Thanks",Bug
"Performance issue - Memory take quite high It takes quit a lot of memory when I was using it. I attached a screenshot of the memory usage.

I was running archiva in my local, and use mvn command to download some jar files. It takes quit a lot of memory.",Improvement
map roles to ldap groups add possibility to map archiva roles to ldap groups.,Bug
"repogroup merged index ttl configurable per repository group currently this ttl is system property value.
It must be configurable per repository group.",Improvement
"Users Runtime Configuration - Unclear distinction between User Manager and Rbac Manager Ive consulted the documentation located at
archiva.apache.orgdocs.-Madminguideredback-runtime-configuration.htmlApache_Redback_User_Manager_Implementation

However, its a bit unclear as to what the distinction between the User Manager and the Rbac Manager.  I know that Rbac handles security for Archiva, but that implies the users as well.  So, why are both listed

If anything, some hints should be added to the Archiva page and also better explained within the documentation.",Bug
"truncated line numbers in File Content example archiva-repository.apache.orgarchivaindex.htmlrequest_langenartifact-details-files-contentorg.apache.archivaarchiva-cli.-M

when viewing pom.xml, line numbers appear as ""."", ""."", should be """", """", """", ...",Bug
"Allow different implementation of transfer mechanism in the DefaultRepositoryProxyConnectors class We would like to use a different implementation for transferring an artifact from the remote proxy.  This particular remote proxy we have is not Maven repository. Our transport library handles the bridging work so we would like to use it instead of the default implementation using Wagon.

Could you make a change in the DefaultRepositoryProxyConnectors so that it can be extendable  We would just want to override the transport method which uses Wagon.

Please take a look at the submitted patch.

Thanks.
",New_Feature
SCM Viewer info should provide a link archiva-repository.apache.orgarchivaindex.htmlrequest_langenartifactorg.apache.archivaarchiva-cli.-M,Improvement
"When using a shortened hostname for archiva, the site sometimes wont load In our company, we use a lot of shortened host names and rely on the DNS Search paths to find the full domain of the server.  As an example, we have the following search paths defined on both our servers including Archiva and all workstations

     myfamilysouth.com
     myfamily.int

But we reference many web services using the short name such as

     httparchiva

which really maps to

     httparchiva.myfamilysouth.com

However, in IE and sometimes Google Chrome browsers, when we use the shortened name, the application wont load completely and just hangs on ""Loading..."".

It seems able to find the server and start loading the application.
",Bug
"properties project.parent.xxx not supported Hi,

I use a maven module project, do not repeat license and organisation values i use a variable ${project.parent.xxx}. Maven build successfully, report site is ok but in archiva browser dont show value but properties variable name show attachement.

The param project.parent its supported by archiva

Regards,
Vincent.",Bug
"trailing spaces not trimmed in upload form In the ""upload artifact"" page, when I put a group ID ending by a trailing space after a copypaste for instance, archiva wont trim it, and will create an ugly directory with a space at the end of its name ! Of course its not exactly a good behaviour, but moreover, when theres such a directory in the repo, Archiva isnt able to browse it any more, and displays an error message ""Failed to resolve path repositoriesproxied-releasescontenttest relative to node "".

I didnt test trailing spaces in artifact or version, but I suppose they are probably treated the same way, causing the same error...

Could you fix it for version ..  Its an annoying issue, but really easy to fix.

Thanks !",Bug
"UI Upload. The generated pom.xml is the artifact! Using the web UI to upload an artifact, and selecting generate pom, results in the pom.xml file being a copy of the artifact itself, not a generated pom.",Bug
"merge ""Artifacts"" and ""Artifacts Content"" see archiva-repository.apache.orgarchivaindex.htmlrequest_langenartifact-details-download-contentorg.apache.archivaarchiva-cli.-M

these  tabs can be merged, with an icon on each artifact to either download or view content
",Improvement
"add MetadataRepositoryhasMetadataFacet to prevent slow startup time especially with jcr and old repo.
All entries are loaded.
MetadataRepositorygetLastMetadataFacet is very long as it load all entries",Bug
"Unable to download uploaded artifact from repository Reported from the dev list by Piotr Szwed

After uploading an artifact to the newly created repository, I am unable
to download it. The problem seems to be in the URL generated by Jetty.

When I click on the particular artifacts URL, I get the following link

repositoryplaygroundcomgerrit-architecture.gerrit-architecture-..zip

which results with the following message

Problem accessing
repositoryplaygroundcomgerrit-architecture.gerrit-architecture-..zip.
Reason    Not Found
After removing the first slash """" from the URL - downloading
starts automatically. So I suspect that one of the """" is redundant and
shouldnt be generated.

my default config entry seems to be fine

.confarchiva.xmllocationmntlocaldatagerritarchivaapache-archiva-js-.-Mrepositoriesplaygroundlocation",Bug
"Deletion of a repository, while users have the repository manager role assigned causes errors Ive assigned myself the repository manager role for all repositories available. Then I deleted one repo and after logout  login Im greeted with the error 

Unable to find RBAC Object Repository Manager - internal of type org.apache.archiva.redback.rbac.jdo.JdoRole using fetch-group null 

Whats worse than that is that I no longer see the user management link so I cant go in and fix my broken config the backup admin account is affected by the same issue ;",Bug
"Returned URL in search result does not work for SNAPSHOTS The URL in the result of a call to archivaServicessearchServicesearchArtifacts dies return a non working URL for a SNAPSHOTS artifacts.

Example URL I got back
{quote}
httplocalhostrepositoryactivities-snapshotbiztradescapeactivitiespcs_pocpcs_poc.ccc.-SNAPSHOTpcs_poc.ccc-.-SNAPSHOT.jar
{quote}

Error message from the web browser
{quote}
HTTP ERROR 

Problem accessing repositoryactivities-snapshotbiztradescapeactivitiespcs_pocpcs_poc.ccc.-SNAPSHOTpcs_poc.ccc-.-SNAPSHOT.jar. Reason

    Resource does not exist
{quote}

Found with Archiva .-M 
dist - Revision  devarchiva.-Mbinaries
",Bug
"When selecting a specific repository to browse, I get an error  that I dont have sufficient privileges. When browsing the repository, the ""Browse Repository"" drop down used to show ""All"" by default, but in .-M it is initially blank see ArchivaBrowse.PNG

When I click the drop down and select a repository, at first I see an error that I must be logged in or have sufficient privileges.  If I am not logged in, I get a login prompt see ArchivaBrowser.PNG.  

If I am logged in as the Admin user, I just see the error ""You need to be authenticated for this action or have more privileges"" see ArchivaBrowser.PNG

If I simply reselect the repository from the drop-down box, it works most of the time authenticated or not.  

After clearing my browser cache, it happens less often, but still does it.",Bug
"Users in LDAP groups do not get added their roles - Login with LDAP connector works
- Groups show up as role mappings correctly in the UI
- Roles are empty when clicking on them Sample roleldap group cnarchiva-ldap,ouArchiva,ouGroups shows up as archiva-ldap in the Role view
- Users are added to the LDAP group eg. member cnSimon Bin,ouPeople
- Tried restarting and flushing caches without effect
- Both Database and LDAP are enabled first of all LDAP is read only to archiva, and currently LDAP role assignment does not work
",Bug
"Cant change expiry configuration of archiva user Users for Apache Archiva cant have passwords that never expire.  In fact, in my tests, if I change security.policy.password.expiration.days to anything greater than , it ignores it.  Thus, every  days our developers are locked out of apache archiva until I remove and recreate the user database.   Emails warning us of this expiration never get out, even though the users in question have a valid email address attached.

Please give us either one of two fixes

-Allow security.policy.password.expiration.days to be more than  days
-Allow the ability to disable password expiry

Resources

archiva.apache.orgdocs.-Madminguidecustomising-security.html",Bug
Code duplication DefaultRepositoryProxyConnectors.java lines  - ,Improvement
"failed to retrieve state of intermediary node Some artifacts cannot be visualized anymore from the console.

I get the error ""failed to retrieve state of intermediary node"" in the browser while visualizing the artifact detail page.

On the logs, I get 

javax.jcr.ItemNotFoundException xxxxx

and 

WARN  org.apache.archiva.consumers.metadata.ArchivaMetadataCreationConsumer  - Error occurred persisting metadata for artifactxxxxxx

I think is some kind of bug related to jackrabbit repository.

I would like to have a solution to restore the consistency of the jcr repository",Bug
"Make Statistics API independent of metadata store implementations The repository-statistics module has direct references to the store implementations. I would like to decouple the statistics api from the implementation.
 Create new metadata-statistics-api module where the interfaces and statistic POJO reside.
 Add a new RepositoryStatisticsProvider interface that can be implemented by MedadataRepository and is for populating the statistic data. Can be implemented by the MetadataRepository and is statistic generation is delegated to this implementation if it exists.

With this, we can remove the dependencies to the store specific APIs like JCR.",Improvement
Test for DefaultFileLockManager fails in rare cases There are rare cases where the file lock seems to fail.,Bug
"LDAP ldap.config.mapper.attribute.user.filter not working On a new .. installation, ldap.config.mapper.attribute.user.filter is not listed under Users Runtime Configuration. If added manually, it is not added to LDAP queries.",Bug
"Switch to java.nio Get rid of the java.io.File usage and switch to java.nio.Path to provide a consistent API.

Currently both are mixed in the code and for new or modified APIs there is always the conflict which one to choose. So we switch to java.nio.Path rigorously where possible.
",Improvement
"Guest password should never be reset  This is an experience report from a user.

I stood up a new Archiva instance about  days ago.  As per default security configuration, user passwords began to expire recently.

It seems that even the guest account has expired .  As a result, guest access is now  Forbidden.

Since the guest account is for anonymous access, and has no password, this account probably should be exempt from password expiration.  Is this a bug

I can reset the guest password successfully, restoring access for this account.  However, I cannot reset to the empty password using the web interface.  The edit user form complains of the password field, ""This field is required.""  Is this also a bug",Bug
"Maven cannot find dependency In a fresh installation, the build fails for archiva-consumer-architype module, because Maven cannot find spring-context-support ...RELEASE

Searching for the part that declares this dependency, I found that the modules defined a local-repo, and a redback-components . is requiring spring ...RELEASE whereas the rest of Archiva required ...RELEASE

Maven is looking for ...RELEASE in my actual home repo instead of the locally defined one in the archiva-consumers-architype module, and this is breaking the build.

Manually changing the dependency in the target folder to ...RELEASE or manualling having the ...RELEASE available in the default m repository home makes the build pass.

I can help solving the issue if you tell me which way you prefer solving it.",Bug
"Purge by retention count deletes files but leaves history on website. Hi,
Im having issue during repository purge based on retention count
redundant versions of snapshot are deleted from hard drive, but its history still exists in archiva portal. To be more precise there are links to version that currently dont exist physically on drive with size b as its shown on attached example screen. While on hard drive with repository files there are only versions  and .
I wonder if its a configuration issue, or a code bug during purge  Would appreciate any help with this. 

Best regards,
Gregory",Bug
"org.apache.archiva.metadata.repository.MetadataRepositoryException failed to retrieve item state of item In the archiva.log file I see a lot of issues like the following, it seems that the metadata could not be retrieved by Archiva from cassandra 

When I browse the snapshots repository from the UI, I see the same error message ""failed to retrieve item state of item a-b-d--aeb""

Could you please help 
{noformat}
-- , pool--thread- WARN  org.apache.archiva.consumers.metadata.ArchivaMetadataCreationConsumer  - Error occurred persisting metadata for artifactcom-------------------document-api-wso-car-generator..-SNAPSHOT----------document-api-wso-car-generator-..-.-.car repositorysnapshots; message failed to retrieve item state of item a-b-d--aeb
org.apache.archiva.metadata.repository.MetadataRepositoryException failed to retrieve item state of item a-b-d--aeb
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.updateNamespaceJcrMetadataRepository.java metadata-store-jcr-...jar
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.updateArtifactJcrMetadataRepository.java metadata-store-jcr-...jar
        at org.apache.archiva.consumers.metadata.ArchivaMetadataCreationConsumer.processFileArchivaMetadataCreationConsumer.java archiva-metadata-consumer-...jar
        at org.apache.archiva.consumers.metadata.ArchivaMetadataCreationConsumer.processFileArchivaMetadataCreationConsumer.java archiva-metadata-consumer-...jar
        at org.apache.archiva.repository.scanner.functors.ConsumerProcessFileClosure.executeConsumerProcessFileClosure.java archiva-repository-scanner-...jar
        at org.apache.commons.collections.functors.IfClosure.executeIfClosure.java commons-collections-...jar..
        at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java commons-collections-...jar..
        at org.apache.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStepRepositoryScannerInstance.java archiva-repository-scanner-...jar
        at org.codehaus.plexus.util.DirectoryWalker.fireStepDirectoryWalker.java plexus-utils-...jar
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java plexus-utils-...jar
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java plexus-utils-...jar
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java plexus-utils-...jar
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java plexus-utils-...jar
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java plexus-utils-...jar
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java plexus-utils-...jar
        at org.codehaus.plexus.util.DirectoryWalker.scanDirectoryWalker.java plexus-utils-...jar
        at org.apache.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java archiva-repository-scanner-...jar
        at org.apache.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java archiva-repository-scanner-...jar
        at org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutor.executeTaskArchivaRepositoryScanningTaskExecutor.java archiva-scheduler-repository-...jar
        at org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutor.executeTaskArchivaRepositoryScanningTaskExecutor.java archiva-scheduler-repository-...jar
        at org.apache.archiva.redback.components.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java spring-taskqueue-..jar
        at java.util.concurrent.Executors$RunnableAdapter.callExecutors.java .._
        at java.util.concurrent.FutureTask.runFutureTask.java .._
        at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java .._
        at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java .._
        at java.lang.Thread.runThread.java .._
Caused by javax.jcr.RepositoryException failed to retrieve item state of item a-b-d--aeb
        at org.apache.jackrabbit.core.ItemManager.getItemDataItemManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.ItemManager.getNodeItemManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.ItemManager.getNodeItemManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.NodeImpl.addNodeNodeImpl.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.session.AddNodeOperation.performAddNodeOperation.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.session.AddNodeOperation.performAddNodeOperation.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.session.SessionState.performSessionState.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.ItemImpl.performItemImpl.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.NodeImpl.addNodeWithUuidNodeImpl.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.NodeImpl.addNodeNodeImpl.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.commons.JcrUtils.getOrAddNodeJcrUtils.java jackrabbit-jcr-commons-...jar
        at org.apache.jackrabbit.commons.JcrUtils.getOrAddNodeJcrUtils.java jackrabbit-jcr-commons-...jar
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.getOrAddNodeByPathJcrMetadataRepository.java metadata-store-jcr-...jar
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.getOrAddNamespaceNodeJcrMetadataRepository.java metadata-store-jcr-...jar
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.updateNamespaceJcrMetadataRepository.java metadata-store-jcr-...jar
        ...  more
Caused by org.apache.jackrabbit.core.state.ItemStateException failed to read bundle a-b-d--aeb java.io.EOFException
        at org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager.loadBundleBundleFsPersistenceManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundleCacheMissAbstractBundlePersistenceManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundleAbstractBundlePersistenceManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.loadAbstractBundlePersistenceManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.state.SharedItemStateManager.loadItemStateSharedItemStateManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.state.SharedItemStateManager.getNonVirtualItemStateSharedItemStateManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.state.SharedItemStateManager.getItemStateSharedItemStateManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.state.LocalItemStateManager.getNodeStateLocalItemStateManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.state.LocalItemStateManager.getItemStateLocalItemStateManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.state.XAItemStateManager.getItemStateXAItemStateManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.state.SessionItemStateManager.getItemStateSessionItemStateManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.ItemManager.getItemDataItemManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.ItemManager.getNodeItemManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.ItemManager.getNodeItemManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.NodeImpl.addNodeNodeImpl.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.session.AddNodeOperation.performAddNodeOperation.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.session.AddNodeOperation.performAddNodeOperation.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.session.SessionState.performSessionState.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.ItemImpl.performItemImpl.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.NodeImpl.addNodeWithUuidNodeImpl.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.NodeImpl.addNodeNodeImpl.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.commons.JcrUtils.getOrAddNodeJcrUtils.java jackrabbit-jcr-commons-...jar
        at org.apache.jackrabbit.commons.JcrUtils.getOrAddNodeJcrUtils.java jackrabbit-jcr-commons-...jar
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.getOrAddNodeByPathJcrMetadataRepository.java metadata-store-jcr-...jar
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.getOrAddNamespaceNodeJcrMetadataRepository.java metadata-store-jcr-...jar
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.updateNamespaceJcrMetadataRepository.java metadata-store-jcr-...jar
        ...  more
Caused by java.io.EOFException
        at java.io.DataInputStream.readUnsignedByteDataInputStream.java .._
        at org.apache.jackrabbit.core.persistence.util.BundleReader.initBundleReader.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.persistence.util.BundleBinding.readBundleBundleBinding.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager.loadBundleBundleFsPersistenceManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundleCacheMissAbstractBundlePersistenceManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundleAbstractBundlePersistenceManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.loadAbstractBundlePersistenceManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.state.SharedItemStateManager.loadItemStateSharedItemStateManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.state.SharedItemStateManager.getNonVirtualItemStateSharedItemStateManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.state.SharedItemStateManager.getItemStateSharedItemStateManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.state.LocalItemStateManager.getNodeStateLocalItemStateManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.state.LocalItemStateManager.getItemStateLocalItemStateManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.state.XAItemStateManager.getItemStateXAItemStateManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.state.SessionItemStateManager.getItemStateSessionItemStateManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.ItemManager.getItemDataItemManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.ItemManager.getNodeItemManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.ItemManager.getNodeItemManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.NodeImpl.addNodeNodeImpl.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.session.AddNodeOperation.performAddNodeOperation.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.session.AddNodeOperation.performAddNodeOperation.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.session.SessionState.performSessionState.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.ItemImpl.performItemImpl.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.NodeImpl.addNodeWithUuidNodeImpl.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.NodeImpl.addNodeNodeImpl.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.commons.JcrUtils.getOrAddNodeJcrUtils.java jackrabbit-jcr-commons-...jar
        at org.apache.jackrabbit.commons.JcrUtils.getOrAddNodeJcrUtils.java jackrabbit-jcr-commons-...jar
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.getOrAddNodeByPathJcrMetadataRepository.java metadata-store-jcr-...jar
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.getOrAddNamespaceNodeJcrMetadataRepository.java metadata-store-jcr-...jar
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.updateNamespaceJcrMetadataRepository.java metadata-store-jcr-...jar
        ...  more
-- , pool--thread- ERROR org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager  - failed to read bundle a-b-d--aeb java.io.EOFException
-- , pool--thread- ERROR org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager  - failed to read bundle a-b-d--aeb java.io.EOFException
-- , pool--thread- ERROR org.apache.jackrabbit.core.ItemManager  - failed to retrieve item state of item a-b-d--aeb
org.apache.jackrabbit.core.state.ItemStateException failed to read bundle a-b-d--aeb java.io.EOFException
        at org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager.loadBundleBundleFsPersistenceManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundleCacheMissAbstractBundlePersistenceManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundleAbstractBundlePersistenceManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.loadAbstractBundlePersistenceManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.state.SharedItemStateManager.loadItemStateSharedItemStateManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.state.SharedItemStateManager.getNonVirtualItemStateSharedItemStateManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.state.SharedItemStateManager.getItemStateSharedItemStateManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.state.LocalItemStateManager.getNodeStateLocalItemStateManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.state.LocalItemStateManager.getItemStateLocalItemStateManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.state.XAItemStateManager.getItemStateXAItemStateManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.state.SessionItemStateManager.getItemStateSessionItemStateManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.ItemManager.getItemDataItemManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.ItemManager.getNodeItemManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.ItemManager.getNodeItemManager.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.NodeImpl.addNodeNodeImpl.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.session.AddNodeOperation.performAddNodeOperation.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.session.AddNodeOperation.performAddNodeOperation.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.session.SessionState.performSessionState.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.ItemImpl.performItemImpl.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.NodeImpl.addNodeWithUuidNodeImpl.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.NodeImpl.addNodeNodeImpl.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.commons.JcrUtils.getOrAddNodeJcrUtils.java jackrabbit-jcr-commons-...jar
        at org.apache.jackrabbit.commons.JcrUtils.getOrAddNodeJcrUtils.java jackrabbit-jcr-commons-...jar
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.getOrAddNodeByPathJcrMetadataRepository.java metadata-store-jcr-...jar
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.getOrAddNamespaceNodeJcrMetadataRepository.java metadata-store-jcr-...jar
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.updateNamespaceJcrMetadataRepository.java metadata-store-jcr-...jar
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.updateArtifactJcrMetadataRepository.java metadata-store-jcr-...jar
        at org.apache.archiva.consumers.metadata.ArchivaMetadataCreationConsumer.processFileArchivaMetadataCreationConsumer.java archiva-metadata-consumer-...jar
        at org.apache.archiva.consumers.metadata.ArchivaMetadataCreationConsumer.processFileArchivaMetadataCreationConsumer.java archiva-metadata-consumer-...jar
        at org.apache.archiva.repository.scanner.functors.ConsumerProcessFileClosure.executeConsumerProcessFileClosure.java archiva-repository-scanner-...jar
        at org.apache.commons.collections.functors.IfClosure.executeIfClosure.java commons-collections-...jar..
        at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java commons-collections-...jar..
        at org.apache.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStepRepositoryScannerInstance.java archiva-repository-scanner-...jar
        at org.codehaus.plexus.util.DirectoryWalker.fireStepDirectoryWalker.java plexus-utils-...jar
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java plexus-utils-...jar
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java plexus-utils-...jar
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java plexus-utils-...jar
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java plexus-utils-...jar
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java plexus-utils-...jar
        at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java plexus-utils-...jar
        at org.codehaus.plexus.util.DirectoryWalker.scanDirectoryWalker.java plexus-utils-...jar
        at org.apache.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java archiva-repository-scanner-...jar
        at org.apache.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java archiva-repository-scanner-...jar
        at org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutor.executeTaskArchivaRepositoryScanningTaskExecutor.java archiva-scheduler-repository-...jar
        at org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutor.executeTaskArchivaRepositoryScanningTaskExecutor.java archiva-scheduler-repository-...jar
        at org.apache.archiva.redback.components.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java spring-taskqueue-..jar
        at java.util.concurrent.Executors$RunnableAdapter.callExecutors.java .._
        at java.util.concurrent.FutureTask.runFutureTask.java .._
        at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java .._
        at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java .._
        at java.lang.Thread.runThread.java .._
Caused by java.io.EOFException
        at java.io.DataInputStream.readUnsignedByteDataInputStream.java .._
        at org.apache.jackrabbit.core.persistence.util.BundleReader.initBundleReader.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.persistence.util.BundleBinding.readBundleBundleBinding.java jackrabbit-core-...jar..
        at org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager.loadBundleBundleFsPersistenceManager.java jackrabbit-core-...jar..
        ...  more
{noformat}",Bug
"javax.naming.AuthenticationNotSupportedException Ive configured the _Redback Runtime Configuration_ to connect a LDAP server.
Following the rather sparse documentation|archiva.apache.orgdocs..adminguideredback-runtime-configuration.html, I left the field for _authenticationMethod_ empty.
The _Verify LDAP Changes_ Button indicated a successful connection the LDAP server afterwards.

Then I wondered what effect that _authenticationMethod_ could have.
Lacking any documentation, I simply tried several values and figured that it  obviously triggers the particular SASL ! authentication methods.
Since I dont want to use SASL but bind PLAIN to the LDAP server, I emptied the field again.
Unfortunately, that didnt restore the previous functionality!
The LDAP access log showed, that Archiva is still using TYPESASL rather than TYPESIMPLE which has been used on the initial validation.

This problem was not recoverable via the UI.
After, I manually removed the emtpy authenticationMethod tag from {{archiva.xml}}, TYPESIMPLE was used again and connection succeeded.
",Bug
"Change Password via Edit Details button not working After logging into our Archiva instance, I can click on the Edit Details button to change the password.  I enter the existing password and the new password twice and click the OK button.  The dialog remains on screen with no indication of what has happened.  After a while, I closed by web browser window and opened a new one - I then attempted to login with the new password, only to find that the password change had not occurred.

After an investigation, I found that the change password dialog was making a POST to ""restServicesredbackServicesuserServiceupdateMe"", which was failing with a  Internal Server Error.  The stack trace follows...

{quote}
java.lang.RuntimeException org.apache.cxf.interceptor.Fault fromIndex &gt; toIndex-
	at org.apache.cxf.interceptor.AbstractFaultChainInitiatorObserver.onMessageAbstractFaultChainInitiatorObserver.java
	at org.apache.cxf.phase.PhaseInterceptorChain.doInterceptPhaseInterceptorChain.java
	at org.apache.cxf.transport.ChainInitiationObserver.onMessageChainInitiationObserver.java
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invokeAbstractHTTPDestination.java
	at org.apache.cxf.transport.servlet.ServletController.invokeDestinationServletController.java
	at org.apache.cxf.transport.servlet.ServletController.invokeServletController.java
	at org.apache.cxf.transport.servlet.ServletController.invokeServletController.java
	at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invokeCXFNonSpringServlet.java
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequestAbstractHTTPServlet.java
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPostAbstractHTTPServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.serviceAbstractHTTPServlet.java
	at org.eclipse.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternalCharacterEncodingFilter.java
	at org.springframework.web.filter.OncePerRequestFilter.doFilterOncePerRequestFilter.java
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.eclipse.jetty.servlet.ServletHandler.doHandleServletHandler.java
	at org.eclipse.jetty.server.handler.ScopedHandler.handleScopedHandler.java
	at org.eclipse.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.eclipse.jetty.server.session.SessionHandler.doHandleSessionHandler.java
	at org.eclipse.jetty.server.handler.ContextHandler.doHandleContextHandler.java
	at org.eclipse.jetty.servlet.ServletHandler.doScopeServletHandler.java
	at org.eclipse.jetty.server.session.SessionHandler.doScopeSessionHandler.java
	at org.eclipse.jetty.server.handler.ContextHandler.doScopeContextHandler.java
	at org.eclipse.jetty.server.handler.ScopedHandler.handleScopedHandler.java
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.eclipse.jetty.server.handler.HandlerCollection.handleHandlerCollection.java
	at org.eclipse.jetty.server.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.eclipse.jetty.server.Server.handleServer.java
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequestAbstractHttpConnection.java
	at org.eclipse.jetty.server.AbstractHttpConnection.contentAbstractHttpConnection.java
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.contentAbstractHttpConnection.java
	at org.eclipse.jetty.http.HttpParser.parseNextHttpParser.java
	at org.eclipse.jetty.http.HttpParser.parseAvailableHttpParser.java
	at org.eclipse.jetty.server.AsyncHttpConnection.handleAsyncHttpConnection.java
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handleSelectChannelEndPoint.java
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$.runSelectChannelEndPoint.java
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJobQueuedThreadPool.java
	at org.eclipse.jetty.util.thread.QueuedThreadPool$.runQueuedThreadPool.java
	at java.lang.Thread.runThread.java
Caused by org.apache.cxf.interceptor.Fault fromIndex &gt; toIndex-
	at org.apache.cxf.service.invoker.AbstractInvoker.createFaultAbstractInvoker.java
	at org.apache.cxf.service.invoker.AbstractInvoker.invokeAbstractInvoker.java
	at org.apache.cxf.jaxrs.JAXRSInvoker.invokeJAXRSInvoker.java
	at org.apache.cxf.jaxrs.JAXRSInvoker.invokeJAXRSInvoker.java
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$.runServiceInvokerInterceptor.java
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessageServiceInvokerInterceptor.java
	at org.apache.cxf.phase.PhaseInterceptorChain.doInterceptPhaseInterceptorChain.java
	...  more
Caused by java.lang.IllegalArgumentException fromIndex &gt; toIndex-
	at java.util.ArrayList.subListRangeCheckArrayList.java
	at java.util.ArrayList.subListArrayList.java
	at org.apache.archiva.redback.policy.DefaultUserSecurityPolicy.extensionChangePasswordDefaultUserSecurityPolicy.java
	at org.apache.archiva.redback.users.jdo.JdoUserManager.updateUserJdoUserManager.java
	at org.apache.archiva.redback.users.jdo.JdoUserManager.updateUserJdoUserManager.java
	at org.apache.archiva.web.security.ArchivaConfigurableUsersManager.updateUserArchivaConfigurableUsersManager.java
	at org.apache.archiva.redback.rest.services.DefaultUserService.updateUserDefaultUserService.java
	at org.apache.archiva.redback.rest.services.DefaultUserService.updateMeDefaultUserService.java
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	at java.lang.reflect.Method.invokeMethod.java
	at org.apache.cxf.service.invoker.AbstractInvoker.performInvocationAbstractInvoker.java
	at org.apache.cxf.service.invoker.AbstractInvoker.invokeAbstractInvoker.java
	...  more
pre
hCaused byhpreorg.apache.cxf.interceptor.Fault fromIndex &gt; toIndex-
	at org.apache.cxf.service.invoker.AbstractInvoker.createFaultAbstractInvoker.java
	at org.apache.cxf.service.invoker.AbstractInvoker.invokeAbstractInvoker.java
	at org.apache.cxf.jaxrs.JAXRSInvoker.invokeJAXRSInvoker.java
	at org.apache.cxf.jaxrs.JAXRSInvoker.invokeJAXRSInvoker.java
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$.runServiceInvokerInterceptor.java
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessageServiceInvokerInterceptor.java
	at org.apache.cxf.phase.PhaseInterceptorChain.doInterceptPhaseInterceptorChain.java
	at org.apache.cxf.transport.ChainInitiationObserver.onMessageChainInitiationObserver.java
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invokeAbstractHTTPDestination.java
	at org.apache.cxf.transport.servlet.ServletController.invokeDestinationServletController.java
	at org.apache.cxf.transport.servlet.ServletController.invokeServletController.java
	at org.apache.cxf.transport.servlet.ServletController.invokeServletController.java
	at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invokeCXFNonSpringServlet.java
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequestAbstractHTTPServlet.java
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPostAbstractHTTPServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.serviceAbstractHTTPServlet.java
	at org.eclipse.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternalCharacterEncodingFilter.java
	at org.springframework.web.filter.OncePerRequestFilter.doFilterOncePerRequestFilter.java
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.eclipse.jetty.servlet.ServletHandler.doHandleServletHandler.java
	at org.eclipse.jetty.server.handler.ScopedHandler.handleScopedHandler.java
	at org.eclipse.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.eclipse.jetty.server.session.SessionHandler.doHandleSessionHandler.java
	at org.eclipse.jetty.server.handler.ContextHandler.doHandleContextHandler.java
	at org.eclipse.jetty.servlet.ServletHandler.doScopeServletHandler.java
	at org.eclipse.jetty.server.session.SessionHandler.doScopeSessionHandler.java
	at org.eclipse.jetty.server.handler.ContextHandler.doScopeContextHandler.java
	at org.eclipse.jetty.server.handler.ScopedHandler.handleScopedHandler.java
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.eclipse.jetty.server.handler.HandlerCollection.handleHandlerCollection.java
	at org.eclipse.jetty.server.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.eclipse.jetty.server.Server.handleServer.java
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequestAbstractHttpConnection.java
	at org.eclipse.jetty.server.AbstractHttpConnection.contentAbstractHttpConnection.java
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.contentAbstractHttpConnection.java
	at org.eclipse.jetty.http.HttpParser.parseNextHttpParser.java
	at org.eclipse.jetty.http.HttpParser.parseAvailableHttpParser.java
	at org.eclipse.jetty.server.AsyncHttpConnection.handleAsyncHttpConnection.java
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handleSelectChannelEndPoint.java
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$.runSelectChannelEndPoint.java
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJobQueuedThreadPool.java
	at org.eclipse.jetty.util.thread.QueuedThreadPool$.runQueuedThreadPool.java
	at java.lang.Thread.runThread.java
Caused by java.lang.IllegalArgumentException fromIndex &gt; toIndex-
	at java.util.ArrayList.subListRangeCheckArrayList.java
	at java.util.ArrayList.subListArrayList.java
	at org.apache.archiva.redback.policy.DefaultUserSecurityPolicy.extensionChangePasswordDefaultUserSecurityPolicy.java
	at org.apache.archiva.redback.users.jdo.JdoUserManager.updateUserJdoUserManager.java
	at org.apache.archiva.redback.users.jdo.JdoUserManager.updateUserJdoUserManager.java
	at org.apache.archiva.web.security.ArchivaConfigurableUsersManager.updateUserArchivaConfigurableUsersManager.java
	at org.apache.archiva.redback.rest.services.DefaultUserService.updateUserDefaultUserService.java
	at org.apache.archiva.redback.rest.services.DefaultUserService.updateMeDefaultUserService.java
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	at java.lang.reflect.Method.invokeMethod.java
	at org.apache.cxf.service.invoker.AbstractInvoker.performInvocationAbstractInvoker.java
	at org.apache.cxf.service.invoker.AbstractInvoker.invokeAbstractInvoker.java
	...  more
pre
hCaused byhprejava.lang.IllegalArgumentException fromIndex &gt; toIndex-
	at java.util.ArrayList.subListRangeCheckArrayList.java
	at java.util.ArrayList.subListArrayList.java
	at org.apache.archiva.redback.policy.DefaultUserSecurityPolicy.extensionChangePasswordDefaultUserSecurityPolicy.java
	at org.apache.archiva.redback.users.jdo.JdoUserManager.updateUserJdoUserManager.java
	at org.apache.archiva.redback.users.jdo.JdoUserManager.updateUserJdoUserManager.java
	at org.apache.archiva.web.security.ArchivaConfigurableUsersManager.updateUserArchivaConfigurableUsersManager.java
	at org.apache.archiva.redback.rest.services.DefaultUserService.updateUserDefaultUserService.java
	at org.apache.archiva.redback.rest.services.DefaultUserService.updateMeDefaultUserService.java
	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
	at java.lang.reflect.Method.invokeMethod.java
	at org.apache.cxf.service.invoker.AbstractInvoker.performInvocationAbstractInvoker.java
	at org.apache.cxf.service.invoker.AbstractInvoker.invokeAbstractInvoker.java
	at org.apache.cxf.jaxrs.JAXRSInvoker.invokeJAXRSInvoker.java
	at org.apache.cxf.jaxrs.JAXRSInvoker.invokeJAXRSInvoker.java
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$.runServiceInvokerInterceptor.java
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessageServiceInvokerInterceptor.java
	at org.apache.cxf.phase.PhaseInterceptorChain.doInterceptPhaseInterceptorChain.java
	at org.apache.cxf.transport.ChainInitiationObserver.onMessageChainInitiationObserver.java
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invokeAbstractHTTPDestination.java
	at org.apache.cxf.transport.servlet.ServletController.invokeDestinationServletController.java
	at org.apache.cxf.transport.servlet.ServletController.invokeServletController.java
	at org.apache.cxf.transport.servlet.ServletController.invokeServletController.java
	at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invokeCXFNonSpringServlet.java
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequestAbstractHTTPServlet.java
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPostAbstractHTTPServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.serviceAbstractHTTPServlet.java
	at org.eclipse.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternalCharacterEncodingFilter.java
	at org.springframework.web.filter.OncePerRequestFilter.doFilterOncePerRequestFilter.java
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
	at org.eclipse.jetty.servlet.ServletHandler.doHandleServletHandler.java
	at org.eclipse.jetty.server.handler.ScopedHandler.handleScopedHandler.java
	at org.eclipse.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.eclipse.jetty.server.session.SessionHandler.doHandleSessionHandler.java
	at org.eclipse.jetty.server.handler.ContextHandler.doHandleContextHandler.java
	at org.eclipse.jetty.servlet.ServletHandler.doScopeServletHandler.java
	at org.eclipse.jetty.server.session.SessionHandler.doScopeSessionHandler.java
	at org.eclipse.jetty.server.handler.ContextHandler.doScopeContextHandler.java
	at org.eclipse.jetty.server.handler.ScopedHandler.handleScopedHandler.java
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handleContextHandlerCollection.java
	at org.eclipse.jetty.server.handler.HandlerCollection.handleHandlerCollection.java
	at org.eclipse.jetty.server.handler.HandlerWrapper.handleHandlerWrapper.java
	at org.eclipse.jetty.server.Server.handleServer.java
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequestAbstractHttpConnection.java
	at org.eclipse.jetty.server.AbstractHttpConnection.contentAbstractHttpConnection.java
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.contentAbstractHttpConnection.java
	at org.eclipse.jetty.http.HttpParser.parseNextHttpParser.java
	at org.eclipse.jetty.http.HttpParser.parseAvailableHttpParser.java
	at org.eclipse.jetty.server.AsyncHttpConnection.handleAsyncHttpConnection.java
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handleSelectChannelEndPoint.java
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$.runSelectChannelEndPoint.java
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJobQueuedThreadPool.java
	at org.eclipse.jetty.util.thread.QueuedThreadPool$.runQueuedThreadPool.java
	at java.lang.Thread.runThread.java
{quote}",Bug
"make table of contents downloadable linux package management tools like debian apt, redhat dnf, or archlinux pacman consume binary repositories efficient since long, by first downloading a table of contents, and then calculating what to update locally.

it would be great if apache archiva could have a similar interface giving the necessary info about its contents in one go. it is stored anyway, says this documentation
archiva.apache.orgdocs..adminguideconsumers.html
this then can be used by maven, gradle, etal plugins to more efficient calculate dependency retrieval. especially in the case of version ranges, snapshots, as well as ""shrinkwrap"" as node package manager calls nailing down the effective versions used for a build. currently in the default setting maven is pushing an artifact repository really hard when resolving version ranges, while even my phone would have  cores and quite some bandwith to properly calculate this in advance.
",Improvement
"Archiva Issue - v.. - Not authorized , ReasonPhraseUnauthorized. I use Jenkins to build the artifact. And in Jenkins post build action the artifact is pushed to Archiva once the build is successful. This works but from last  days I am facing issues while pushing the artifact to archiva. And when the archiva is restarted the issue disappears and the artifact gets pushed to archiva successfully. I tried to Flush the cache but no luck.

 

The following is the stacktrace of the exception received

 

Caused by org.eclipse.aether.transfer.MetadataTransferException Could not transfer metadata RoleManagementServiceRoleManagementService..-SNAPSHOTmaven-metadata.xml fromto qa-snapshots http...archivarepositoryqa-snapshots Not authorized , ReasonPhraseUnauthorized.
 at org.eclipse.aether.connector.wagon.WagonRepositoryConnector$.wrapWagonRepositoryConnector.java
 at org.eclipse.aether.connector.wagon.WagonRepositoryConnector$.wrapWagonRepositoryConnector.java
 at org.eclipse.aether.connector.wagon.WagonRepositoryConnector$GetTask.runWagonRepositoryConnector.java
 at org.eclipse.aether.util.concurrency.RunnableErrorForwarder$.runRunnableErrorForwarder.java
 at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
 at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java",Bug
"REST API doesnt work the second time with vLATEST Please find below the URL I use to get the latest version of artifacts. The URL is working fine the first time, and when I retry it seems broken nothing is received by the browser or by CURL script.
httparchiva.company.comrestServicesarchivaServicessearchServiceartifactgcom.company&acompany-artifact&vLATEST&pjar&rsnapshotsÂ 

We use this API to get the latest version of artifacts it is a main part in our infrastructure for continuous delivery.

Could you please check that There is no simple manner to handle that 
Thnak you",Bug
"Slashes appended to remote repo url Archiva is used with remote repositories. I added two repo urls
- httpnexus.thenewmotion.comcontentgroupspublic
- httprepo.maven.apache.orgmaven
Nexus repo is fine, maven central is not.
Logs only show this

-- , qtp- ERROR org.apache.cxf.jaxrs.utils.JAXRSUtils  - No message body writer has been found for class org.apache.archiva.rest.services.ArchivaRestError, ContentType textplain


So I enabled debug logs in logj.xml, and now I see this

-- , Thread- DEBUG org.apache.archiva.redback.components.taskqueue.DefaultTaskQueue  - pool
-- , qtp- DEBUG org.apache.archiva.proxy.common.DebugTransferListener  - wagon debug httpnexus.thenewmotion.comcontentgroupspublic - Status code 
-- , Thread- DEBUG org.apache.archiva.redback.components.taskqueue.DefaultTaskQueue  - pool
-- , Thread- DEBUG org.apache.archiva.redback.components.taskqueue.DefaultTaskQueue  - pool
-- , Thread- DEBUG org.apache.archiva.redback.components.taskqueue.DefaultTaskQueue  - pool
-- , qtp- DEBUG org.apache.archiva.redback.rest.services.interceptors.ThreadLocalUserCleaner  - handleMessage
-- , qtp- DEBUG org.apache.archiva.proxy.common.DebugTransferListener  - wagon debug repo.maven.apache.orgmaven - Status code 
-- , qtp- DEBUG org.apache.archiva.redback.rest.services.interceptors.ThreadLocalUserCleaner  - handleMessage
-- , qtp- ERROR org.apache.cxf.jaxrs.utils.JAXRSUtils  - No message body writer has been found for class org.apache.archiva.rest.services.ArchivaRestError, ContentType textplain


Seems that Archiva appends two slashes at the end of my urls.
Somehow nexus works, allows those extra slashes. 
Maven Central doesnt.

I get the same error if I do not add myself one trailing slash.
I still get two slashes at the end, and Maven Central query results in .

",Bug
"Upgrade JS Libraries Bootstrap, jquery, ... to current versions The twitter bootstrap version and jquery are outdated. Should be migrated to newer versions.
Should be started after the selenium tests are running stable.",Improvement
"Add validatehierarchy property for JCR to avoid corruption of metadata store We should add the property
{{org.apache.jackrabbit.core.state.validatehierarchytrue}}
for the JCR metadata store. 

I think some failures on the build servers are caused by corrupted JCR metadata.
And there are tickets that indicate corrupted data.",Improvement
"LDAP Verification working - no Groups show up I am trying to setup Archiva first time In my test environment to do a proof of concept. 

This is the first time working with Archiva - so likely I am missing something.

LDAP is running on the same VM as Archiva - LDAP verification works, but no groups are displayed. 

In the Archiva log file Im seeing this when I try to add a group mapping 
-- , qtp- ERROR org.apache.archiva.redback.rest.services.DefaultLdapGroupMappingService  - Unprocessed Continuation References
org.apache.archiva.redback.common.ldap.MappingException Unprocessed Continuation References
	at org.apache.archiva.redback.common.ldap.role.DefaultLdapRoleMapper.getAllGroupsDefaultLdapRoleMapper.java redback-common-ldap-..jar.
	at org.apache.archiva.redback.rest.services.DefaultLdapGroupMappingService.getLdapGroupsDefaultLdapGroupMappingService.java redback-rest-services-..jar.

I have attached my configuration for your review",Bug
Add configuration switch for synchronous index updates of jcr metadata Add a configuration switch to activate the synchronous index updates in JCR Oak.,Bug
"Creating an admin-User named other than admin fails When I create an admin-User which is named _alex_, Arhiva behaves strangely.

I describe the screenshot steps sorry its in German but Ill translate

 I installed Archiva, went to localhost and pressed _Create Admin User_
 I entered _alex_ as username and saved
 I got redirected to localhostsearch with the message _you have entered an invalid combination of username and password_
 When I tried to login again, I got the same message

Regards,
Alex",Bug
"Switch to JCR Oak to allow upgrade of lucene version We are switching to JCR Oak that uses a higher lucene version.

But switching to Oak has some drawbacks
- The repository format changed and we must provide a way to migrate either 
migrate the existing repository or create a new one by reindexing
- The JCR oak is asynchronous. So there may be some timing issues that are only visible at high load.
- Configuration changed significantly and not all is well documented

The incompatibility problem with the maven indexer that uses lucene in another version is solved with the maven indexer  snapshot version that uses now  a shadowed lucene version.

",Improvement
"Update several maven build plugins to newer versions Update some some maven plugins, used for the build, to current versions.
Will not provide here a comprehensive list of plugins. The updated plugins will be listed in the comments of this ticket.
Most of them are defined in the parent pom, so redback build should be checked too after each change.",Improvement
"Refactor repository api Currently, the repository access managed via the repository admin api and has several specifics in it that are highly dependent on the repository implementation.
At the time there is no way to provide another repository type without changingduplicating code on a lot of different places.
Another issue, is that many modules are dependent on maven libraries. 

Goal is to provide a central repository registry, that keeps track of repositories and delegates provider specific tasks to special repository providers. 
Maven libraries should only be used in the repository provider implementations. All other modules should use the central repository api.

",Improvement
"Redundant code parts in RepositoryModelResolver There is code to download artifacts from the remote repository in RepositoryModelResolver. The same code is in the ProxyConnector and should be used from there. 
A code comment tells, that this code was added to avoid circular dependencies. Dependencies must be checked.",Improvement
"Archiva .. indexing not updating with indexer stopping I cant update indexing for my central repository.  When I ""Process All Artifacts"" and click ""Scan Respository Now"", the indexer stops after a maximum of  hrs without completing the index update.  Just clicking on ""Scan Repository Now"", the indexer only processes for  hour. The repo size is  GB with  files.  ""Scanning Cron"" is set to   ,    which doesnt appear to be working.",Bug
"failing test ArchivaRepositoryScanningTaskExecutorPhaseTest {code}
-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorPhaseTest
Tests run , Failures , Errors , Skipped , Time elapsed . sec - in org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorPhaseTest
Running org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorPhaseTest
Tests run , Failures , Errors , Skipped , Time elapsed . sec  FAILURE! - in org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorPhaseTest
testExecutorScanOnlyNewArtifactsorg.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorPhaseTest  Time elapsed . sec   FAILURE!
junit.framework.AssertionFailedError expected but was
        at org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorPhaseTest.testExecutorScanOnlyNewArtifactsArchivaRepositoryScanningTaskExecutorPhaseTest.java

testExecutorScanOnlyNewArtifactsChangeTimesorg.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorPhaseTest  Time elapsed . sec   FAILURE!
junit.framework.AssertionFailedError expected but was
        at org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorPhaseTest.testExecutorScanOnlyNewArtifactsChangeTimesArchivaRepositoryScanningTaskExecutorPhaseTest.java

testExecutorScanOnlyNewArtifactsMidScanorg.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorPhaseTest  Time elapsed . sec   FAILURE!
junit.framework.AssertionFailedError expected but was
        at org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorPhaseTest.testExecutorScanOnlyNewArtifactsMidScanArchivaRepositoryScanningTaskExecutorPhaseTest.java


Results 

Failed tests 
  ArchivaRepositoryScanningTaskExecutorPhaseTest.testExecutorScanOnlyNewArtifacts expected but was
  ArchivaRepositoryScanningTaskExecutorPhaseTest.testExecutorScanOnlyNewArtifactsChangeTimes expected but was
  ArchivaRepositoryScanningTaskExecutorPhaseTest.testExecutorScanOnlyNewArtifactsMidScan expected but was

Tests run , Failures , Errors , Skipped 
{code}

while 

{code}
$ find .archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemaven
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemaven
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenC
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenC.
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenC.C-..war.sha
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenC.C-..war
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenC.C-..pom.sha
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenC.C-..pom.md
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenC.C-..war.md
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenC.C-..pom
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenB
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenB.
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenB.B-..pom.sha
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenB.B-..pom
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenB.B-..pom.md
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenB.
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenB.B-..pom.sha
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenB.B-..pom
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenB.B-..pom.md
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenmaven-metadata.xml
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenA
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenA.
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenA.A-..pom.sha
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenA.A-..pom
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenA.A-..pom.md
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenA.A-..war
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenA.A-..war.md
.archiva-modulesarchiva-schedulerarchiva-scheduler-repositorysrctestrepositoriesdefault-repositoryorgapachemavenA.A-..war.sha
{code}",Bug
"No message body writer has been found for class org.apache.archiva.rest.services.ArchivaRestError After adding the following remote repository via UI, this error appears in UI and archive.log each time the repository page is loaded

-- , http-bio--exec- ERROR org.apache.cxf.jaxrs.utils.JAXRSUtils  - No message body writer has been found for class org.apache.archiva.rest.services.ArchivaRestError, ContentType textplain

Repository httpdownload.oracle.commaven

Note The repository does obviously provide no index results in .
However, fetching artifacts e.g. httpdownload.oracle.commavencomsleepycatje..je-...pom is working ok.

Besides the above error, requests to Archiva are proxies without problems and artifacts are retrieved without error from that repository.",Bug
"Use jetty maven plugin instead of tomcat With the new dependency of Servlet API ., tomcat  cannot be used anymore. We should switch to the jetty plugin and removereplace all tomcat references in pom.xml.

The t.sh script must be changed to jettyrun then.

archiva-webapp-test has been switched already to the jetty plugin.

",Improvement
"Info Popup ""Proxy Connector Settings"" always displays ""Network Proxy none""  Precondition a proxy connector with an assigned Network Proxy

Info Popup ""Proxy Connector Settings"" always displays ""Network Proxy none"". This is irritating. see httpstackoverflow.comq 

",Bug
Upgrade Jackrabbit to version .. Just upgrade to the newest stable version. There seems not to be any major changes that may lead to incompatibilities.,Improvement
"Condition that always returns true Hi

In a recent snapshot mirrored from Github for archiva-redback-core, Ive found following suspicious code in redback-commonredback-common-ldapsrcmainjavaorgapachearchivaredbackcommonldapuserLdapUserMapper.java.

{code}
         if  !StringUtils.isEmpty user.getFullName  
         {
             if  user.getFullName  null 
             {
                 addAttrs.put getUserFullNameAttribute, user.getFullName ;
             }
             else if  !user.getFullName.equals user.getFullName  
             {
                 modAttrs.put getUserFullNameAttribute, user.getFullName ;
             }
         }
 
         if  !StringUtils.isEmpty user.getEmail  
         {
             if  user.getEmail  null 
             {
                 addAttrs.put getEmailAddressAttribute, user.getEmail ;
             }
             else if  !user.getEmail.equals user.getEmail  
             {
                 modAttrs.put getEmailAddressAttribute, user.getEmail ;
             }
         }
{code}
In Line , and , the conditions should be 
user.getFullName.equals fullNameAttribute 
user.getEmail.equals emailAttribute 
respectively

This might not be an issue, but wanted to report just in case. Thanks!",Bug
"Bad redirect URL when using Archiva through HTTP reverse proxy Im running Archiva behind a reverse proxy that only exposes archiva via HTTPS.

Maven works fine with it, but karaf and its karaf-maven-plugin fail, and I think also jenkins,.

After some investigation I found that the redirects from -SNAPSHOT requests towards timestamped snapshot artifacts are wrong. Archiva computes the Location header without using the Application URL setting from the GUI, which in my case wrongfully changes the URL from  to http.

Below is an anonymized sample from my maven build log, which demonstrates the problem.

{noformat}
....
DEBUG Using transporter WagonTransporter with priority -. for archiva.example.orgrepositoryexample-snapshots
DEBUG Using connector BasicRepositoryConnector with priority . for archiva.example.orgrepositoryexample-snapshots with username..., password...
DEBUG CookieSpec selected compatibility
DEBUG Connection request route {s}-archiva.example.orgtotal kept alive ; route allocated  of ; total allocated  of 
DEBUG Connection leased id route {s}-archiva.example.orgtotal kept alive ; route allocated  of ; total allocated  of 
DEBUG Opening connection {s}-archiva.example.org
DEBUG Connecting to archiva.example.org...
DEBUG Connection established ...-...
DEBUG Executing request GET repositoryexample-snapshotsorgexamplemy-artifact..-SNAPSHOTmy-artifact-..-SNAPSHOT.jar HTTP.
.....
DEBUG http-outgoing-  GET repositoryexample-snapshotsorgexamplemy-artifact..-SNAPSHOTmy-artifact-..-SNAPSHOT.jar HTTP.
DEBUG http-outgoing-  Cache-control no-cache
DEBUG http-outgoing-  Cache-store no-store
DEBUG http-outgoing-  Pragma no-cache
DEBUG http-outgoing-  Expires 
DEBUG http-outgoing-  Accept-Encoding gzip
DEBUG http-outgoing-  User-Agent Aether
DEBUG http-outgoing-  User-Agent Aether
DEBUG http-outgoing-  Host archiva.example.org
DEBUG http-outgoing-  Connection Keep-Alive
DEBUG http-outgoing-  Authorization Basic ...
....
DEBUG http-outgoing-  HTTP.  Found
DEBUG http-outgoing-  Date Mon,  Oct   GMT
DEBUG http-outgoing-  Set-Cookie JSESSIONID...;Path
DEBUG http-outgoing-  Expires Thu,  Jan   GMT
DEBUG http-outgoing-  Location httparchiva.example.orgrepositoryexample-snapshotsorgexamplemy-artifact..-SNAPSHOTmy-artifact-..-.-.jar
DEBUG http-outgoing-  Connection close
DEBUG http-outgoing-  Server Jetty...v
DEBUG Authentication succeeded
DEBUG Caching basic auth scheme for archiva.example.org
DEBUG Cookie accepted JSESSIONID""..."", version, domainarchiva.example.org, path, expirynull
DEBUG Redirect requested to location httparchiva.example.orgrepositoryexample-snapshotsorgexamplemy-artifact..-SNAPSHOTmy-artifact-..-.-.jar
DEBUG Resetting target auth state
DEBUG Redirecting to httparchiva.example.orgrepositoryexample-snapshotsorgexamplemy-artifact..-SNAPSHOTmy-artifact-..-.-.jar via {}-httparchiva.example.org
DEBUG http-outgoing- Shutdown connection
DEBUG Connection discarded
DEBUG http-outgoing- Close connection
DEBUG Connection released id route {s}-archiva.example.orgtotal kept alive ; route allocated  of ; total allocated  of 
DEBUG CookieSpec selected compatibility
DEBUG Cookie version name JSESSIONIDvalue ...domain archiva.example.orgpath expiry null match archiva.example.orgrepositoryexample-snapshotsorgexamplemy-artifact..-SNAPSHOTmy-artifact-..-.-.jar
DEBUG Connection request route {}-httparchiva.example.orgtotal kept alive ; route allocated  of ; total allocated  of 
DEBUG Connection leased id route {}-httparchiva.example.orgtotal kept alive ; route allocated  of ; total allocated  of 
DEBUG Opening connection {}-httparchiva.example.org
DEBUG Connecting to archiva.example.org...
DEBUG http-outgoing- Shutdown connection
DEBUG Connection discarded
DEBUG http-outgoing- Close connection
DEBUG Connection released id route {}-httparchiva.example.orgtotal kept alive ; route allocated  of ; total allocated  of 
WARNING Error resolving artifactorg.examplemy-artifactjar..-SNAPSHOTCould not transfer artifact org.examplemy-artifactjar..-SNAPSHOT fromto example-snapshots archiva.example.orgrepositoryexample-snapshots Connect to archiva.example.org archiva.example.org... failed Connection refused
shaded.org.eclipse.aether.resolution.ArtifactResolutionException Could not transfer artifact org.examplemy-artifactjar..-SNAPSHOT fromto example-snapshots archiva.example.orgrepositoryexample-snapshots Connect to archiva.example.org archiva.example.org... failed Connection refused
        at shaded.org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveDefaultArtifactResolver.java
        at shaded.org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifactsDefaultArtifactResolver.java
        at shaded.org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifactDefaultArtifactResolver.java
        at shaded.org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveArtifactDefaultRepositorySystem.java
        at org.opsj.pax.url.mvn.internal.AetherBasedResolver.resolveAetherBasedResolver.java
        at org.opsj.pax.url.mvn.internal.AetherBasedResolver.resolveAetherBasedResolver.java
        at org.opsj.pax.url.mvn.internal.AetherBasedResolver.resolveAetherBasedResolver.java
        at org.opsj.pax.url.mvn.internal.AetherBasedResolver.resolveAetherBasedResolver.java
        at org.apache.karaf.features.internal.download.impl.MavenDownloadTask.downloadMavenDownloadTask.java
        at org.apache.karaf.features.internal.download.impl.AbstractRetryableDownloadTask.runAbstractRetryableDownloadTask.java
        at java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
        at java.util.concurrent.FutureTask.runFutureTask.java
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$ScheduledThreadPoolExecutor.java
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runScheduledThreadPoolExecutor.java
        at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
        at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
        at java.lang.Thread.runThread.java
Caused by shaded.org.eclipse.aether.transfer.ArtifactTransferException Could not transfer artifact org.examplemy-artifactjar..-SNAPSHOT fromto example-snapshots archiva.example.orgrepositoryexample-snapshots Connect to archiva.example.org archiva.example.org... failed Connection refused
        at shaded.org.eclipse.aether.connector.basic.ArtifactTransportListener.transferFailedArtifactTransportListener.java
        at shaded.org.eclipse.aether.connector.basic.BasicRepositoryConnector$TaskRunner.runBasicRepositoryConnector.java
        at shaded.org.eclipse.aether.util.concurrency.RunnableErrorForwarder$.runRunnableErrorForwarder.java
        at shaded.org.eclipse.aether.connector.basic.BasicRepositoryConnector$DirectExecutor.executeBasicRepositoryConnector.java
        at shaded.org.eclipse.aether.connector.basic.BasicRepositoryConnector.getBasicRepositoryConnector.java
        at shaded.org.eclipse.aether.internal.impl.DefaultArtifactResolver.performDownloadsDefaultArtifactResolver.java
        at shaded.org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveDefaultArtifactResolver.java
        ...  more
Caused by shaded.org.apache.maven.wagon.TransferFailedException Connect to archiva.example.org archiva.example.org... failed Connection refused
        at shaded.org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.fillInputDataAbstractHttpClientWagon.java
        at shaded.org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.fillInputDataAbstractHttpClientWagon.java
        at shaded.org.apache.maven.wagon.StreamWagon.getInputStreamStreamWagon.java
        at shaded.org.apache.maven.wagon.StreamWagon.getIfNewerStreamWagon.java
        at shaded.org.apache.maven.wagon.StreamWagon.getStreamWagon.java
        at shaded.org.eclipse.aether.transport.wagon.WagonTransporter$GetTaskRunner.runWagonTransporter.java
        at shaded.org.eclipse.aether.transport.wagon.WagonTransporter.executeWagonTransporter.java
        at shaded.org.eclipse.aether.transport.wagon.WagonTransporter.getWagonTransporter.java
        at shaded.org.eclipse.aether.connector.basic.BasicRepositoryConnector$GetTaskRunner.runTaskBasicRepositoryConnector.java
        at shaded.org.eclipse.aether.connector.basic.BasicRepositoryConnector$TaskRunner.runBasicRepositoryConnector.java
        ...  more
Caused by shaded.org.apache.http.conn.HttpHostConnectException Connect to archiva.example.org archiva.example.org... failed Connection refused
        at shaded.org.apache.http.impl.conn.HttpClientConnectionOperator.connectHttpClientConnectionOperator.java
        at shaded.org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connectPoolingHttpClientConnectionManager.java
        at shaded.org.apache.http.impl.execchain.MainClientExec.establishRouteMainClientExec.java
        at shaded.org.apache.http.impl.execchain.MainClientExec.executeMainClientExec.java
        at shaded.org.apache.http.impl.execchain.ProtocolExec.executeProtocolExec.java
        at shaded.org.apache.http.impl.execchain.RetryExec.executeRetryExec.java
        at shaded.org.apache.http.impl.execchain.RedirectExec.executeRedirectExec.java
        at shaded.org.apache.http.impl.client.InternalHttpClient.doExecuteInternalHttpClient.java
        at shaded.org.apache.http.impl.client.CloseableHttpClient.executeCloseableHttpClient.java
        at org.opsj.pax.url.mvn.internal.wagon.ConfigurableHttpWagon.executeConfigurableHttpWagon.java
        at shaded.org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.fillInputDataAbstractHttpClientWagon.java
        ...  more
Caused by java.net.ConnectException Connection refused
        at java.net.PlainSocketImpl.socketConnectNative Method
        at java.net.AbstractPlainSocketImpl.doConnectAbstractPlainSocketImpl.java
        at java.net.AbstractPlainSocketImpl.connectToAddressAbstractPlainSocketImpl.java
        at java.net.AbstractPlainSocketImpl.connectAbstractPlainSocketImpl.java
        at java.net.SocksSocketImpl.connectSocksSocketImpl.java
        at java.net.Socket.connectSocket.java
        at shaded.org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocketPlainConnectionSocketFactory.java
        at shaded.org.apache.http.impl.conn.HttpClientConnectionOperator.connectHttpClientConnectionOperator.java
        ...  more
INFO --------------------------------------------------------------------
.....
{noformat}

I think maven downloads maven-metadata.xml and uses it to compute the address of the latest timestamped artifact, avoiding the redirect completely.

Im preparing a PR with a possible fix to this, which will follow soon if it tests correctly.",Bug
"Maven Could not find artifact com.projectartifactjar..- in repo When I run for example mvn package, theres a dependency that cannot be resolved during Mavens pom.xml evaluation faze; This is a mockup of the part of the pom that causes the problem

		dependency
			groupIdcom.projectgroupId
			artifactIdartifactartifactId
			version..-,version
		dependency

This results in the following error issued by Maven

Failed to execute goal on project MyProject Could not resolve dependencies for project com.myprojectmymodulejar..- Could not find artifact com.projectartifactjar..- in myRepo httpmyrepo.localartifactoryrepo

If I browse the Artifactory repository httpmyrepo.localartifactoryrepo, there are several versions com.myprojectmymodule jars are present.  However, the owners of that artifact have set up their CI to only keep a rolling snapshot, and version ..- has been phased out. 

We are using Maven ...  It seems that Maven should not require any of the named versions in a version range to actually be present before it can see whether any versions exist that do fit in the range.  We only want to have to update our minimum version when there is a breaking change that we have to address, not just when the publishers decide to remove the minimum version from availability.",Bug
"Invalid checksum files in Archiva repository after download from remote repository When downloading files from a remote repository, in numerous cases Archiva stores invalid checksum files sha|md in its local repository. Upon checking the remote repository, the checksum files are found to be valid. If that is the case, the invalid checksum files are usually identical copies of the artifacts POM file and thus cant be used for checksum validation.
The issue can be reproduced using the minimal pre-configured Archiva package apache-archiva-..-bin.zip.

Reproduction of the error
Prerequisites
 Downloadedunpackedstarted packaged zip Archiva ..
 Configured archiva as local maven mirror

{code}
mvn compile
    .
    .
    .
Downloading httplocalhostrepositoryinternalorgapachemavenpluginsmaven-pluginsmaven-plugins-.pom
WARNING Checksum validation failed, expected xml but is adbacedbdd for httplocalhostrepositoryinternalorgapachemavenpluginsmaven-pluginsmaven-plugins-.pom
WARNING Could not validate integrity of download from httplocalhostrepositoryinternalorgapachemavenpluginsmaven-pluginsmaven-plugins-.pom Checksum validation failed, expected xml but is adbacedbdd
WARNING Checksum validation failed, expected xml but is adbacedbdd for httplocalhostrepositoryinternalorgapachemavenpluginsmaven-pluginsmaven-plugins-.pom
{code}

When checking the filesystem of archiva local repository upon artifact download, it is immediately obvious that the .md|sha files are invalid

{code}
maik@tpxDownloadsapache-archiva-..repositoriesinternalorgapachemavenpluginsmaven-plugins$ ll
total 
drwxr-xr-x  maik maik   Sep   .
drwxr-xr-x  maik maik   Sep   ..
-rw-r--r--  maik maik  Sep   maven-plugins-.pom
-rw-r--r--  maik maik  Sep   maven-plugins-.pom.md
-rw-r--r--  maik maik  Sep   maven-plugins-.pom.sha
maik@tpxDownloadsapache-archiva-..repositoriesinternalorgapachemavenpluginsmaven-plugins$ head -n  maven-plugins-.pom.sha
xml version. encodingUTF-
!--
Licensed to the Apache Software Foundation ASF under one
or more contributor license agreements.  See the NOTICE file
{code}

archiva.log shows no errors regarding the artifact in question.  Checking the source repository maven central - httpcentral.maven.orgmavenorgapachemavenpluginsmaven-plugins shows that the original shamd files are ok. This seems to happen unpredictably for arbitrary artifacts.

This issue has been posted on StackOverflow see external issue URL using a more sophisticated configuration.",Bug
"Migrate Javascript-Tests to Selenium Webdriver API Most of the JavaScript Selenium Tests use the old Selenium RC API. Update Selenium version and migrate the Integration Tests to the WebDriver-API. 

Additionally HTMLUnit WebDriver should be integrated and tested.",Improvement
"Could not find artifact com.projectartifactjar..- in repo When I run for example mvn package, theres a dependency that cannot be resolved during Mavens pom.xml evaluation faze; This is a mockup of the part of the pom that causes the problem

		dependency
			groupIdcom.projectgroupId
			artifactIdartifactartifactId
			version..-,version
		dependency

This results in the following error issued by Maven

Failed to execute goal on project MyProject Could not resolve dependencies for project com.myprojectmymodulejar..- Could not find artifact com.projectartifactjar..- in myRepo httpmyrepo.localartifactoryrepo

If I browse the Artifactory repository httpmyrepo.localartifactoryrepo, there are several versions com.myprojectmymodule jars are present.  However, the owners of that artifact have set up their CI to only keep a rolling snapshot, and version ..- has been phased out. 

We are using Maven ...  It seems that Maven should not require any of the named versions in a version range to actually be present before it can see whether any versions exist that do fit in the range.  We only want to have to update our minimum version when there is a breaking change that we have to address, not just when the publishers decide to remove the minimum version from availability.",Bug
"Premature end of Content-Length delimited message body Hi.

We are seeing that archiva updates the metadata before having recived the hole file.

This manifests it self as when one build process is uploading data and another simultaneously downloads data the downloading process sees the file being uploaded and tries to download it before the hole file have reached archiva. The downloading maven client then errors out with ""Premature end of Content-Length delimited message body"".

One way of solving this would be to delay the metadata update until the hole file have reached archiva.

There are no proxies involved in our case, and all the involved machines lives in the same vmware cluster so its really unlikely that this is caused by any other, external, issue.",Bug
"Deleting files from repository in filesystem confuses Archiva Archiva seems to have a problem when files andor directories from its repository are deleted.

I see lots of exceptions and such messages in the archiva.log

-- , pool--thread- ERROR
org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager
 - failed to read bundle bfc-b-dab-bac-adbf
java.io.EOFException
-- , pool--thread- ERROR
org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager
 - failed to read bundle bfc-b-dab-bac-adbf
java.io.EOFException
-- , pool--thread- ERROR
org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager
 - failed to read bundle bfc-b-dab-bac-adbf
java.io.EOFException
-- , pool--thread- ERROR
org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager
 - failed to read bundle cfbc-bef-bc-b-dfce
java.io.EOFException

The system seems to be scanning the repository forever now and never really gets into a consistent state.",Bug
"Verb Tenses in Repositories Metadata Content Storage are Confusing On the guide listed on httparchiva.apache.orgdocs..adminguiderepositories-content-storage.html

It keeps switching verb tense, which makes it very difficult to understand how a new setup works. In example 
""Prior to version .-M, repository content is now stored in a jcr repository based on Apache Jackrabbit implementation.""

Does this mean that it currently is stored in jackrabbitjcr repository, or does it mean it used to be stored in jcr, but is no longer",Bug
"Fixing bind issue with certain ldap servers, when user not found I had a issue in certain environments where subsequent calls of NamingResulthasMoreElements returns different values.
e.g. it occured on IBM JDK  with Windows Active Directory LDAP when the first value of hasMoreElements was false.
The first value is cached now.",Bug
"Repository purge is not reflected in index Ive managed to setup repository and it works just fine - files are removed from the drive, however - index is not updated which results in those artifacts being listed in the ""artifacts"" tab and  ""Resource does not exist"" errors while trying to download them.

Manually executing Directory or Index Scanning and selecting ""Process All Artifacts"" doesnt do anything - artifacts are still listed.

Acessing repo through WebDav display correct list.

I know there are a couple of related issues for example MRM- related but all of them are marked as fixed",Bug
"Upgrade Apache Lucene to new version The used version .. is far behind the current lucene version. 
As far as I know the lucene API has changed with each major version, so code must be adapted.
But Im not sure what an upgrade means for compatibility of existing repositories and indexes. Need some more investigation.",Improvement
"Unable to deploy on wildfly  I cant deploy archiva on wildfly  

cd optwildfly-...Finalbin && .jboss-cli.sh -c -uXXX -pXXXX --controllerhttp-remoting... --command""deploy  optInstallsapache-archiva-...war""{""WFLYCTL Composite operation failed and was rolled back. Steps that failed""  {""Operation step-""  {""WFLYCTL Failed services""  {""jboss.deployment.unit.""apache-archiva-...war"".INSTALL""  ""org.jboss.msc.service.StartException in service jboss.deployment.unit.""apache-archiva-...war"".INSTALL WFLYSRV Failed to process phase INSTALL of deployment ""apache-archiva-...war""
    Caused by org.jboss.msc.service.DuplicateServiceException Service jboss.pojo.""org.jboss.netty.internal.LoggerConfigurator"".DESCRIBED is already registered""},""WFLYCTL Required services that are not installed""  ""jboss.deployment.unit.""apache-archiva-...war"".INSTALL"",""jboss.deployment.unit.""apache-archiva-...war"".beanmanager"",""WFLYCTL Services with missingunavailable dependencies""  ""jboss.deployment.unit.""apache-archiva-...war"".batch.environment is missing jboss.deployment.unit.""apache-archiva-...war"".beanmanager"",""jboss.deployment.unit.""apache-archiva-...war"".weld.weldClassIntrospector is missing jboss.deployment.unit.""apache-archiva-...war"".beanmanager""}}}",Bug
"archiva role map to ldap user not saved I have user populated from active directiry and authenticated, assigning roles to ldap user is not saved, getting the following error on the web console

The class ""org.apache.archiva.redback.rbac.ldap.LdapRbacManager$UserAssignmentImpl"" is not Persistence-Capable. This means that it either hasnt been enhanced, or that the enhanced version of the file is not in the CLASSPATH or is hidden by an unenhanced version, or the Meta-Data for the class is not found. 

as per suggestion in MRM- , I tried mapping archiva roles to ldap group, it not showing any error but when user logged in, he just getting basic login, he is not able to see assigned role options.",Bug
"Change database backend to JPA Change the database backend from JDO to JPA.
We will use OpenJPA as implementation of the framework.",Improvement
Cannot start webapp Cannot seem to start the Archiva webapp on TomEE plume Tomcat .. I will upload the archiva.log stack trace,Bug
"Failure to publish sbt plugins Sbt plugins have somewhat specific structure, because they can be compiled for specific version of Scla and specific version of Sbt. 

If I try to publish git@github.comsbtsbt-buildinfo.git to Archiva, it gets upload successfully, directories are created, but no content. The log file shows an error

java.lang.IllegalArgumentException Not a valid artifact path in a Maven  repository, filename sbt-buildinfo-..-dcadffdedaeaeb-SNAPSHOT.pom doesnt start with artifact ID sbt-buildinfo_._.

But if you generate pom file with sbt itself, it will have 
    artifactIdsbt-buildinfoartifactId
Where from artifact ID sbt-buildinfo_._. is coming from",Bug
"Remote repository check fails for repo.maven.apache.orgmaven Within {{org.apache.archiva.rest.services.DefaultRemoteRepositoriesService.checkRemoteConnectivityString}} wagon is used to check the remote system via {{wagon.getFileList """" ;}}

The URL constructed by this is {{repo.maven.apache.orgmaven}} with a double slash at the end which is answered by the nginx with a  error.

The quick-fix for me was
{code}
diff --git aarchiva-modulesarchiva-webarchiva-restarchiva-rest-servicessrcmainjavaorgapachearchivarestservicesDefaultRemoteRepositoriesService.java barchiva-modulesarchiva-webarchiva-restarchiva-rest-servicessrcmainjavaorgapachearchivarestservicesDefaultRemoteRepositoriesService.java
index b..ff 
--- aarchiva-modulesarchiva-webarchiva-restarchiva-rest-servicessrcmainjavaorgapachearchivarestservicesDefaultRemoteRepositoriesService.java
 barchiva-modulesarchiva-webarchiva-restarchiva-rest-servicessrcmainjavaorgapachearchivarestservicesDefaultRemoteRepositoriesService.java
@@ -, , @@
             wagon.connect new Repository remoteRepository.getId, remoteRepository.getUrl  ;
 
              we only check connectivity as remote repo can be empty
-            wagon.getFileList """" ;
            wagon.getFileList """" ;
 
             return Boolean.TRUE;
         }
{code}

",Bug
update enunciate to version .. Its not possible to build on jdk with enuncitate .x because of the removal of old apt annotation tools.,Improvement
"Archiva wont start due to a misconfigured Redback Runtime Configuration I already posted this on the mailing list, but it wont show up so I will post it here.

I hope you can help since we need to upgrade Archiva to the latest version as fast as possible due to a Java Update.

Steps that I did
 Upgrade .. to ..
 Open Redback Runtime Configuration
 Switch to tab ""Properties""
 Set Password expiration to false

Archiva then displayed something like ""Could not save property"". Now archiva wont start anymore.

Note We use our database for user management and therefore I changed nothing on the user managers.
 
Somehow Archiva now thinks I configured LDAP at least the log indicates this.
 
How can I undo my configuration so that Archiva starts again without LDAP As already stated, Archiva wont start therefore I have no UI to configure the system.
Maybe a side question Where are the Redback Runtime Configurations stored I couldnt find it.
 
Side note The stack trace shows ""invalid name"" of my name - but I have no idea where the server could have taken this from
 
Thanks in advance!
 
Here the output from catalina.out
{code}
SEVERE Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener
org.springframework.beans.factory.BeanCreationException Error creating bean with name archivaServices Cannot resolve reference to bean authenticationInterceptorrest while setting bean property providers with key ; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name authenticationInterceptorrest Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.redback.integration.filter.authentication.basic.HttpBasicAuthentication org.apache.archiva.redback.rest.services.interceptors.AuthenticationInterceptor.httpAuthenticator; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name httpAuthenticatorbasic Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field protected org.apache.archiva.redback.system.SecuritySystem org.apache.archiva.redback.integration.filter.authentication.HttpAuthenticator.securitySystem; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name securitySystem Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.redback.authentication.AuthenticationManager org.apache.archiva.redback.system.DefaultSecuritySystem.authnManager; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name authenticationManager Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name authenticatorldap Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.redback.common.ldap.connection.LdapConnectionFactory org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator.connectionFactory; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name ldapConnectionFactoryarchiva Invocation of init method failed; nested exception is java.lang.RuntimeException Error while initializing connection factory.
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReferenceBeanDefinitionValueResolver.java
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessaryBeanDefinitionValueResolver.java
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedListBeanDefinitionValueResolver.java
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessaryBeanDefinitionValueResolver.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValuesAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBeanAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletonsDefaultListableBeanFactory.java
    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitializationAbstractApplicationContext.java
    at org.springframework.context.support.AbstractApplicationContext.refreshAbstractApplicationContext.java
    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContextContextLoader.java
    at org.springframework.web.context.ContextLoader.initWebApplicationContextContextLoader.java
    at org.springframework.web.context.ContextLoaderListener.contextInitializedContextLoaderListener.java
    at org.apache.catalina.core.StandardContext.listenerStartStandardContext.java
    at org.apache.catalina.core.StandardContext.startInternalStandardContext.java
    at org.apache.catalina.util.LifecycleBase.startLifecycleBase.java
    at org.apache.catalina.core.ContainerBase.addChildInternalContainerBase.java
    at org.apache.catalina.core.ContainerBase.addChildContainerBase.java
    at org.apache.catalina.core.StandardHost.addChildStandardHost.java
    at org.apache.catalina.startup.HostConfig.deployDescriptorHostConfig.java
    at org.apache.catalina.startup.HostConfig$DeployDescriptor.runHostConfig.java
    at java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
    at java.util.concurrent.FutureTask.runFutureTask.java
    at java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
    at java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
    at java.lang.Thread.runThread.java
Caused by org.springframework.beans.factory.BeanCreationException Error creating bean with name authenticationInterceptorrest Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.redback.integration.filter.authentication.basic.HttpBasicAuthentication org.apache.archiva.redback.rest.services.interceptors.AuthenticationInterceptor.httpAuthenticator; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name httpAuthenticatorbasic Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field protected org.apache.archiva.redback.system.SecuritySystem org.apache.archiva.redback.integration.filter.authentication.HttpAuthenticator.securitySystem; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name securitySystem Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.redback.authentication.AuthenticationManager org.apache.archiva.redback.system.DefaultSecuritySystem.authnManager; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name authenticationManager Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name authenticatorldap Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.redback.common.ldap.connection.LdapConnectionFactory org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator.connectionFactory; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name ldapConnectionFactoryarchiva Invocation of init method failed; nested exception is java.lang.RuntimeException Error while initializing connection factory.
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValuesAutowiredAnnotationBeanPostProcessor.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBeanAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReferenceBeanDefinitionValueResolver.java
    ...  more
Caused by org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.redback.integration.filter.authentication.basic.HttpBasicAuthentication org.apache.archiva.redback.rest.services.interceptors.AuthenticationInterceptor.httpAuthenticator; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name httpAuthenticatorbasic Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field protected org.apache.archiva.redback.system.SecuritySystem org.apache.archiva.redback.integration.filter.authentication.HttpAuthenticator.securitySystem; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name securitySystem Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.redback.authentication.AuthenticationManager org.apache.archiva.redback.system.DefaultSecuritySystem.authnManager; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name authenticationManager Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name authenticatorldap Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.redback.common.ldap.connection.LdapConnectionFactory org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator.connectionFactory; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name ldapConnectionFactoryarchiva Invocation of init method failed; nested exception is java.lang.RuntimeException Error while initializing connection factory.
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.injectAutowiredAnnotationBeanPostProcessor.java
    at org.springframework.beans.factory.annotation.InjectionMetadata.injectInjectionMetadata.java
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValuesAutowiredAnnotationBeanPostProcessor.java
    ...  more
Caused by org.springframework.beans.factory.BeanCreationException Error creating bean with name httpAuthenticatorbasic Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field protected org.apache.archiva.redback.system.SecuritySystem org.apache.archiva.redback.integration.filter.authentication.HttpAuthenticator.securitySystem; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name securitySystem Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.redback.authentication.AuthenticationManager org.apache.archiva.redback.system.DefaultSecuritySystem.authnManager; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name authenticationManager Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name authenticatorldap Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.redback.common.ldap.connection.LdapConnectionFactory org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator.connectionFactory; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name ldapConnectionFactoryarchiva Invocation of init method failed; nested exception is java.lang.RuntimeException Error while initializing connection factory.
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValuesAutowiredAnnotationBeanPostProcessor.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBeanAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidatesDefaultListableBeanFactory.java
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependencyDefaultListableBeanFactory.java
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependencyDefaultListableBeanFactory.java
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.injectAutowiredAnnotationBeanPostProcessor.java
    ...  more
Caused by org.springframework.beans.factory.BeanCreationException Could not autowire field protected org.apache.archiva.redback.system.SecuritySystem org.apache.archiva.redback.integration.filter.authentication.HttpAuthenticator.securitySystem; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name securitySystem Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.redback.authentication.AuthenticationManager org.apache.archiva.redback.system.DefaultSecuritySystem.authnManager; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name authenticationManager Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name authenticatorldap Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.redback.common.ldap.connection.LdapConnectionFactory org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator.connectionFactory; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name ldapConnectionFactoryarchiva Invocation of init method failed; nested exception is java.lang.RuntimeException Error while initializing connection factory.
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.injectAutowiredAnnotationBeanPostProcessor.java
    at org.springframework.beans.factory.annotation.InjectionMetadata.injectInjectionMetadata.java
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValuesAutowiredAnnotationBeanPostProcessor.java
    ...  more
Caused by org.springframework.beans.factory.BeanCreationException Error creating bean with name securitySystem Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.redback.authentication.AuthenticationManager org.apache.archiva.redback.system.DefaultSecuritySystem.authnManager; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name authenticationManager Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name authenticatorldap Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.redback.common.ldap.connection.LdapConnectionFactory org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator.connectionFactory; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name ldapConnectionFactoryarchiva Invocation of init method failed; nested exception is java.lang.RuntimeException Error while initializing connection factory.
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValuesAutowiredAnnotationBeanPostProcessor.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBeanAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidatesDefaultListableBeanFactory.java
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependencyDefaultListableBeanFactory.java
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependencyDefaultListableBeanFactory.java
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.injectAutowiredAnnotationBeanPostProcessor.java
    ...  more
Caused by org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.redback.authentication.AuthenticationManager org.apache.archiva.redback.system.DefaultSecuritySystem.authnManager; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name authenticationManager Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name authenticatorldap Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.redback.common.ldap.connection.LdapConnectionFactory org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator.connectionFactory; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name ldapConnectionFactoryarchiva Invocation of init method failed; nested exception is java.lang.RuntimeException Error while initializing connection factory.
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.injectAutowiredAnnotationBeanPostProcessor.java
    at org.springframework.beans.factory.annotation.InjectionMetadata.injectInjectionMetadata.java
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValuesAutowiredAnnotationBeanPostProcessor.java
    ...  more
Caused by org.springframework.beans.factory.BeanCreationException Error creating bean with name authenticationManager Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name authenticatorldap Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.redback.common.ldap.connection.LdapConnectionFactory org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator.connectionFactory; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name ldapConnectionFactoryarchiva Invocation of init method failed; nested exception is java.lang.RuntimeException Error while initializing connection factory.
    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitializationInitDestroyAnnotationBeanPostProcessor.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitializationAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBeanAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidatesDefaultListableBeanFactory.java
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependencyDefaultListableBeanFactory.java
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependencyDefaultListableBeanFactory.java
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.injectAutowiredAnnotationBeanPostProcessor.java
    ...  more
Caused by org.springframework.beans.factory.BeanCreationException Error creating bean with name authenticatorldap Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.redback.common.ldap.connection.LdapConnectionFactory org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator.connectionFactory; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name ldapConnectionFactoryarchiva Invocation of init method failed; nested exception is java.lang.RuntimeException Error while initializing connection factory.
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValuesAutowiredAnnotationBeanPostProcessor.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBeanAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfTypeDefaultListableBeanFactory.java
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfTypeDefaultListableBeanFactory.java
    at org.springframework.context.support.AbstractApplicationContext.getBeansOfTypeAbstractApplicationContext.java
    at org.apache.archiva.redback.authentication.DefaultAuthenticationManager.initializeDefaultAuthenticationManager.java
    at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
    at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
    at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
    at java.lang.reflect.Method.invokeMethod.java
    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invokeInitDestroyAnnotationBeanPostProcessor.java
    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethodsInitDestroyAnnotationBeanPostProcessor.java
    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitializationInitDestroyAnnotationBeanPostProcessor.java
    ...  more
Caused by org.springframework.beans.factory.BeanCreationException Could not autowire field private org.apache.archiva.redback.common.ldap.connection.LdapConnectionFactory org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator.connectionFactory; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name ldapConnectionFactoryarchiva Invocation of init method failed; nested exception is java.lang.RuntimeException Error while initializing connection factory.
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.injectAutowiredAnnotationBeanPostProcessor.java
    at org.springframework.beans.factory.annotation.InjectionMetadata.injectInjectionMetadata.java
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValuesAutowiredAnnotationBeanPostProcessor.java
    ...  more
Caused by org.springframework.beans.factory.BeanCreationException Error creating bean with name ldapConnectionFactoryarchiva Invocation of init method failed; nested exception is java.lang.RuntimeException Error while initializing connection factory.
    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitializationInitDestroyAnnotationBeanPostProcessor.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitializationAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBeanAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
    at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidatesDefaultListableBeanFactory.java
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependencyDefaultListableBeanFactory.java
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependencyDefaultListableBeanFactory.java
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.injectAutowiredAnnotationBeanPostProcessor.java
    ...  more
Caused by java.lang.RuntimeException Error while initializing connection factory.
    at org.apache.archiva.web.runtime.ldap.ArchivaLdapConnectionFactory.initializeArchivaLdapConnectionFactory.java
    at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
    at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
    at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
    at java.lang.reflect.Method.invokeMethod.java
    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invokeInitDestroyAnnotationBeanPostProcessor.java
    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethodsInitDestroyAnnotationBeanPostProcessor.java
    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitializationInitDestroyAnnotationBeanPostProcessor.java
    ...  more
Caused by javax.naming.InvalidNameException Invalid name erharto
    at javax.naming.ldap.RfcParser.doParseRfcParser.java
    at javax.naming.ldap.RfcParser.parseDnRfcParser.java
    at javax.naming.ldap.LdapName.parseLdapName.java
    at javax.naming.ldap.LdapName.initLdapName.java
    at org.apache.archiva.redback.common.ldap.connection.LdapConnectionConfiguration.setBindDnLdapConnectionConfiguration.java
    at org.apache.archiva.web.runtime.ldap.ArchivaLdapConnectionFactory.initializeArchivaLdapConnectionFactory.java
    ...  more
{code}",Bug
"Logged on users can write any repository Our sandbox Archiva .. instance is connected with our corporate LDAP service. I created a repository with name common-internal. My LDAP user feketk doesnt have any permission on the common-internal repository. When I login through the web UI with my feketk user, I am able to upload artefacts to the common-internal repository.

For additional details please check attached screenshots.",Bug
"Repository Administration - Days Older should accept also value  Repositories Administration ... Field ""Days Older"" should also accept value """", otherwise ""Retention Count"" feature will not work.

Currently we have to enter a value greaterequal  into this field.",Bug
"Make User-Agent header configurable for HTTP requests We have the requirement to send a customized User-Agent header with the HTTP-Requests for remote proxy. 
Business Case A proxy is configured for internet access from internal network. The policy of the web proxy denies requests with certain User-Agent-Header.

Unfortunately the User-Agent string that archiva uses is hard coded and cannot be customized.

Will provide a pull request via github for further discussion.
",Improvement
"delete artifact action and xmlrpc equivalent do not delete database  metadata associated with the artifacts if they are timestamped snapshots there is a check "" if  artifact.getVersion.equals version  "" which will not match for version  .-SNAPSHOT and timestamped artifact versions. Comments have been added in the MRM- branch where this could be fixed",Bug
"Add support for LDAP groups in Archiva Hello there,

as mentioned in REDBACK-
Could you please add support for LDAP-Groups in Archiva.
It is not enough to use the user-filter-atribute.
Weve got several ldap-groups which must have access to several different! repositories in archiva.
Today I must configure every person individually. Support for LDAP-Groups will help me very much.

Thanks
",New_Feature
"Error  when browsing an artifact Getting an error  when trying to browse an artifact.

Steps.
. Uploaded an artifact using the web form.
. And browse artifact.

HTTP ERROR 

Problem accessing archivabrowsetesttest. Reason

    javax.el.PropertyNotFoundException The class org.apache.archiva.metadata.model.ProjectVersionMetadata does not have the property facets.

Caused by

org.apache.jasper.JasperException javax.el.PropertyNotFoundException The class org.apache.archiva.metadata.model.ProjectVersionMetadata does not have the property facets.
	at org.apache.jasper.servlet.JspServletWrapper.serviceJspServletWrapper.java
	at org.apache.jasper.servlet.JspServlet.serviceJspFileJspServlet.java
	at org.apache.jasper.servlet.JspServlet.serviceJspServlet.java
	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
	at org.mortbay.jetty.servlet.Dispatcher.forwardDispatcher.java
",Bug
Start Date and End Date calendar pop-up in Audit Log Report page is broken The calendar does not pop up when you click the Start Date and End Date input fields. This is only broken in ..x and not in trunk.,Bug
"Add support for NPanday artifact types NPanday httpwww.npanday.org declares a number of new artifact handlers that Maven can use as extensions to be able to deploy .NET artifacts into a repository. There should be an Archiva plugin that can recognise these types for path conversion so that they can be uploaded through the web form, and viewed in the artifact information page correctly.",New_Feature
"Snapshot is linking to oldest version in Archiva GUI If i upload a Snapshot to archiva it shows up as Version ..-.- and the Version of the ..-SNAPSHOT Artifact is also ..-.-. So if i download the jar from the orange box, i get the version ..-.-. Now i upload a later snapshot version to archiva ..-.-. The Version shows up in the list of snapshots in archiva other versions, but the Version is still set to ..-.-. So if i download the jar from the orange box it is still version ..-.- and not the latest version. maven-metadata.xml is correct and builds get the latest version, but archiva-gui shows up the first uploaded snapshot. In Archiva .. this was working correct. If the oldest snapshot gets purged, archiva uses the oldest still available version to show up as xxx-SNAPSHOT. Maybe some kind of sorting was changed",Bug
"improve the message appearing when an artifacts metadata is incomplete Currently the error message on the artifact page points to the problem reports - but these are not necessarily present or related. It should instead log the error that occurred to put it in an incomplete state this may need to be added to the metadata model as an additional facet of the project version.

See httpmail-archives.apache.orgmod_mboxarchiva-dev.mboxCbbdkadcodeeabcac@mail.gmail.comE ",Improvement
"Archiva fails when default charset in database is UTF  Archiva fails when default charset in database is UTF . When I set charset to latin it works 
I get following exceptions. There are very similar bugs, but these are said to be fixed in .. and Im using ..

 -- .WARN  Nested in org.springframework.beans.factory.BeanCreationException Error creating bean with name xmlRpcUserRepositories defined in ServletContext resource WEB-INFapplicationContext.xml Cannot resolve reference to bean userRepositories while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name userRepositories FactoryBean threw exception on object creation; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name roleManager defined in URL jarfileoptapache-archiva-.appsarchivaWEB-INFlibredback-rbac-role-manager-...jar!orgcodehausplexusredbackroleDefaultRoleManager.class Initialization of bean failed; nested exception is javax.jdo.JDODataStoreException An exception was thrown while addingvalidating classes  Specified key was too long; max key length is  bytes
INFO   | jvm     |   | com.mysql.jdbc.exceptions.jdbc.MySQLSyntaxErrorException Specified key was too long; max key length is  bytes
INFO   | jvm     |   | 	at sun.reflect.NativeConstructorAccessorImpl.newInstanceNative Method
INFO   | jvm     |   | 	at sun.reflect.NativeConstructorAccessorImpl.newInstanceNativeConstructorAccessorImpl.java
INFO   | jvm     |   | 	at sun.reflect.DelegatingConstructorAccessorImpl.newInstanceDelegatingConstructorAccessorImpl.java
INFO   | jvm     |   | 	at java.lang.reflect.Constructor.newInstanceConstructor.java
INFO   | jvm     |   | 	at com.mysql.jdbc.Util.handleNewInstanceUtil.java
INFO   | jvm     |   | 	at com.mysql.jdbc.Util.getInstanceUtil.java
INFO   | jvm     |   | 	at com.mysql.jdbc.SQLError.createSQLExceptionSQLError.java
INFO   | jvm     |   | 	at com.mysql.jdbc.MysqlIO.checkErrorPacketMysqlIO.java
INFO   | jvm     |   | 	at com.mysql.jdbc.MysqlIO.checkErrorPacketMysqlIO.java
INFO   | jvm     |   | 	at com.mysql.jdbc.MysqlIO.sendCommandMysqlIO.java
INFO   | jvm     |   | 	at com.mysql.jdbc.MysqlIO.sqlQueryDirectMysqlIO.java
INFO   | jvm     |   | 	at com.mysql.jdbc.ConnectionImpl.execSQLConnectionImpl.java
INFO   | jvm     |   | 	at com.mysql.jdbc.ConnectionImpl.execSQLConnectionImpl.java
INFO   | jvm     |   | 	at com.mysql.jdbc.StatementImpl.executeStatementImpl.java
INFO   | jvm     |   | 	at com.mysql.jdbc.StatementImpl.executeStatementImpl.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementAbstractTable.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementListAbstractTable.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.table.AbstractTable.createAbstractTable.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.table.AbstractTable.existsAbstractTable.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidationRDBMSManager.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidateRDBMSManager.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.runRDBMSManager.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.executeRDBMSManager.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.RDBMSManager.addClassesRDBMSManager.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.RDBMSManager.addClassRDBMSManager.java
INFO   | jvm     |   | 	at org.jpox.store.StoreManager.getDatastoreClassStoreManager.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.RDBMSManager.getExtentRDBMSManager.java
INFO   | jvm     |   | 	at org.jpox.AbstractPersistenceManager.getExtentAbstractPersistenceManager.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getAllObjectsJdoTool.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getAllObjectsJdoTool.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.triggerInitJdoTool.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getPersistenceManagerJdoTool.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getObjectByIdJdoTool.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.objectExistsByIdJdoTool.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.rbac.jdo.JdoRbacManager.resourceExistsJdoRbacManager.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.rbac.cached.CachedRbacManager.resourceExistsCachedRbacManager.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.role.processor.DefaultRoleModelProcessor.processResourcesDefaultRoleModelProcessor.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.role.processor.DefaultRoleModelProcessor.processDefaultRoleModelProcessor.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.role.DefaultRoleManager.loadApplicationDefaultRoleManager.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.role.DefaultRoleManager.loadRoleModelDefaultRoleManager.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.role.DefaultRoleManager.initializeDefaultRoleManager.java
INFO   | jvm     |   | 	at org.codehaus.plexus.spring.PlexusLifecycleBeanPostProcessor.postProcessAfterInitializationPlexusLifecycleBeanPostProcessor.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitializationAbstractAutowireCapableBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBeanAbstractAutowireCapableBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$.runAbstractAutowireCapableBeanFactory.java
INFO   | jvm     |   | 	at java.security.AccessController.doPrivilegedNative Method
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.codehaus.plexus.spring.PlexusComponentFactoryBean.resolveRequirementPlexusComponentFactoryBean.java
INFO   | jvm     |   | 	at org.codehaus.plexus.spring.PlexusComponentFactoryBean.createInstancePlexusComponentFactoryBean.java
INFO   | jvm     |   | 	at org.codehaus.plexus.spring.PlexusComponentFactoryBean.getObjectPlexusComponentFactoryBean.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$.runFactoryBeanRegistrySupport.java
INFO   | jvm     |   | 	at java.security.AccessController.doPrivilegedNative Method
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBeanFactoryBeanRegistrySupport.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBeanFactoryBeanRegistrySupport.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstanceAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReferenceBeanDefinitionValueResolver.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessaryBeanDefinitionValueResolver.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArgumentsConstructorResolver.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructorConstructorResolver.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructorAbstractAutowireCapableBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstanceAbstractAutowireCapableBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$.runAbstractAutowireCapableBeanFactory.java
INFO   | jvm     |   | 	at java.security.AccessController.doPrivilegedNative Method
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletonsDefaultListableBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitializationAbstractApplicationContext.java
INFO   | jvm     |   | 	at org.springframework.context.support.AbstractApplicationContext.refreshAbstractApplicationContext.java
INFO   | jvm     |   | 	at org.springframework.web.context.ContextLoader.createWebApplicationContextContextLoader.java
INFO   | jvm     |   | 	at org.springframework.web.context.ContextLoader.initWebApplicationContextContextLoader.java
INFO   | jvm     |   | 	at org.springframework.web.context.ContextLoaderListener.contextInitializedContextLoaderListener.java
INFO   | jvm     |   | 	at org.mortbay.jetty.handler.ContextHandler.startContextContextHandler.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.Context.startContextContext.java
INFO   | jvm     |   | 	at org.mortbay.jetty.webapp.WebAppContext.startContextWebAppContext.java
INFO   | jvm     |   | 	at org.mortbay.jetty.handler.ContextHandler.doStartContextHandler.java
INFO   | jvm     |   | 	at org.mortbay.jetty.webapp.WebAppContext.doStartWebAppContext.java
INFO   | jvm     |   | 	at org.mortbay.component.AbstractLifeCycle.startAbstractLifeCycle.java
INFO   | jvm     |   | 	at org.mortbay.jetty.handler.HandlerCollection.doStartHandlerCollection.java
INFO   | jvm     |   | 	at org.mortbay.jetty.handler.ContextHandlerCollection.doStartContextHandlerCollection.java
INFO   | jvm     |   | 	at org.mortbay.component.AbstractLifeCycle.startAbstractLifeCycle.java
INFO   | jvm     |   | 	at org.mortbay.jetty.handler.HandlerCollection.doStartHandlerCollection.java
INFO   | jvm     |   | 	at org.mortbay.component.AbstractLifeCycle.startAbstractLifeCycle.java
INFO   | jvm     |   | 	at org.mortbay.jetty.handler.HandlerWrapper.doStartHandlerWrapper.java
INFO   | jvm     |   | 	at org.mortbay.jetty.Server.doStartServer.java
INFO   | jvm     |   | 	at org.mortbay.component.AbstractLifeCycle.startAbstractLifeCycle.java
INFO   | jvm     |   | 	at org.mortbay.xml.XmlConfiguration.mainXmlConfiguration.java
INFO   | jvm     |   | 	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
INFO   | jvm     |   | 	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
INFO   | jvm     |   | 	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
INFO   | jvm     |   | 	at java.lang.reflect.Method.invokeMethod.java
INFO   | jvm     |   | 	at org.mortbay.start.Main.invokeMainMain.java
INFO   | jvm     |   | 	at org.mortbay.start.Main.startMain.java
INFO   | jvm     |   | 	at org.mortbay.start.Main.startMain.java
INFO   | jvm     |   | 	at org.mortbay.start.Main.mainMain.java
INFO   | jvm     |   | 	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
INFO   | jvm     |   | 	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
INFO   | jvm     |   | 	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
INFO   | jvm     |   | 	at java.lang.reflect.Method.invokeMethod.java
INFO   | jvm     |   | 	at org.tanukisoftware.wrapper.WrapperSimpleApp.runWrapperSimpleApp.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
INFO   | jvm     |   | 
INFO   | jvm     |   | NestedThrowables
INFO   | jvm     |   | com.mysql.jdbc.exceptions.jdbc.MySQLSyntaxErrorException Specified key was too long; max key length is  bytes
INFO   | jvm     |   | Related cause org.springframework.beans.factory.BeanCreationException Error creating bean with name repositoryMetadataBuilder Initialization of bean failed; nested exception is org.springframework.beans.TypeMismatchException Failed to convert property value of type java.lang.String to required type java.lang.Class for property role; nested exception is java.lang.IllegalArgumentException Cannot find class org.apache.maven.artifact.repository.metadata.RepositoryMetadataBuilder
INFO   | jvm     |   | com.mysql.jdbc.exceptions.jdbc.MySQLSyntaxErrorException Specified key was too long; max key length is  bytes
INFO   | jvm     |   | 	at sun.reflect.NativeConstructorAccessorImpl.newInstanceNative Method
INFO   | jvm     |   | 	at sun.reflect.NativeConstructorAccessorImpl.newInstanceNativeConstructorAccessorImpl.java
INFO   | jvm     |   | 	at sun.reflect.DelegatingConstructorAccessorImpl.newInstanceDelegatingConstructorAccessorImpl.java
INFO   | jvm     |   | 	at java.lang.reflect.Constructor.newInstanceConstructor.java
INFO   | jvm     |   | 	at com.mysql.jdbc.Util.handleNewInstanceUtil.java
INFO   | jvm     |   | 	at com.mysql.jdbc.Util.getInstanceUtil.java
INFO   | jvm     |   | 	at com.mysql.jdbc.SQLError.createSQLExceptionSQLError.java
INFO   | jvm     |   | 	at com.mysql.jdbc.MysqlIO.checkErrorPacketMysqlIO.java
INFO   | jvm     |   | 	at com.mysql.jdbc.MysqlIO.checkErrorPacketMysqlIO.java
INFO   | jvm     |   | 	at com.mysql.jdbc.MysqlIO.sendCommandMysqlIO.java
INFO   | jvm     |   | 	at com.mysql.jdbc.MysqlIO.sqlQueryDirectMysqlIO.java
INFO   | jvm     |   | 	at com.mysql.jdbc.ConnectionImpl.execSQLConnectionImpl.java
INFO   | jvm     |   | 	at com.mysql.jdbc.ConnectionImpl.execSQLConnectionImpl.java
INFO   | jvm     |   | 	at com.mysql.jdbc.StatementImpl.executeStatementImpl.java
INFO   | jvm     |   | 	at com.mysql.jdbc.StatementImpl.executeStatementImpl.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementAbstractTable.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementListAbstractTable.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.table.AbstractTable.createAbstractTable.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.table.AbstractTable.existsAbstractTable.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidationRDBMSManager.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidateRDBMSManager.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.runRDBMSManager.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.executeRDBMSManager.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.RDBMSManager.addClassesRDBMSManager.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.RDBMSManager.addClassRDBMSManager.java
INFO   | jvm     |   | 	at org.jpox.store.StoreManager.getDatastoreClassStoreManager.java
INFO   | jvm     |   | 	at org.jpox.store.rdbms.RDBMSManager.getExtentRDBMSManager.java
INFO   | jvm     |   | 	at org.jpox.AbstractPersistenceManager.getExtentAbstractPersistenceManager.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getAllObjectsJdoTool.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getAllObjectsJdoTool.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.triggerInitJdoTool.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getPersistenceManagerJdoTool.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getObjectByIdJdoTool.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.objectExistsByIdJdoTool.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.rbac.jdo.JdoRbacManager.resourceExistsJdoRbacManager.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.rbac.cached.CachedRbacManager.resourceExistsCachedRbacManager.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.role.processor.DefaultRoleModelProcessor.processResourcesDefaultRoleModelProcessor.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.role.processor.DefaultRoleModelProcessor.processDefaultRoleModelProcessor.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.role.DefaultRoleManager.loadApplicationDefaultRoleManager.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.role.DefaultRoleManager.loadRoleModelDefaultRoleManager.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.role.DefaultRoleManager.initializeDefaultRoleManager.java
INFO   | jvm     |   | 	at org.codehaus.plexus.spring.PlexusLifecycleBeanPostProcessor.postProcessAfterInitializationPlexusLifecycleBeanPostProcessor.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitializationAbstractAutowireCapableBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBeanAbstractAutowireCapableBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$.runAbstractAutowireCapableBeanFactory.java
INFO   | jvm     |   | 	at java.security.AccessController.doPrivilegedNative Method
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.codehaus.plexus.spring.PlexusComponentFactoryBean.resolveRequirementPlexusComponentFactoryBean.java
INFO   | jvm     |   | 	at org.codehaus.plexus.spring.PlexusComponentFactoryBean.createInstancePlexusComponentFactoryBean.java
INFO   | jvm     |   | 	at org.codehaus.plexus.spring.PlexusComponentFactoryBean.getObjectPlexusComponentFactoryBean.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$.runFactoryBeanRegistrySupport.java
INFO   | jvm     |   | 	at java.security.AccessController.doPrivilegedNative Method
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBeanFactoryBeanRegistrySupport.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBeanFactoryBeanRegistrySupport.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstanceAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReferenceBeanDefinitionValueResolver.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessaryBeanDefinitionValueResolver.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArgumentsConstructorResolver.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructorConstructorResolver.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructorAbstractAutowireCapableBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstanceAbstractAutowireCapableBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBeanAbstractAutowireCapableBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$.runAbstractAutowireCapableBeanFactory.java
INFO   | jvm     |   | 	at java.security.AccessController.doPrivilegedNative Method
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanAbstractAutowireCapableBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory$.getObjectAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingletonDefaultSingletonBeanRegistry.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletonsDefaultListableBeanFactory.java
INFO   | jvm     |   | 	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitializationAbstractApplicationContext.java
INFO   | jvm     |   | 	at org.springframework.context.support.AbstractApplicationContext.refreshAbstractApplicationContext.java
INFO   | jvm     |   | 	at org.springframework.web.context.ContextLoader.createWebApplicationContextContextLoader.java
INFO   | jvm     |   | 	at org.springframework.web.context.ContextLoader.initWebApplicationContextContextLoader.java
INFO   | jvm     |   | 	at org.springframework.web.context.ContextLoaderListener.contextInitializedContextLoaderListener.java
INFO   | jvm     |   | 	at org.mortbay.jetty.handler.ContextHandler.startContextContextHandler.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.Context.startContextContext.java
INFO   | jvm     |   | 	at org.mortbay.jetty.webapp.WebAppContext.startContextWebAppContext.java
INFO   | jvm     |   | 	at org.mortbay.jetty.handler.ContextHandler.doStartContextHandler.java
INFO   | jvm     |   | 	at org.mortbay.jetty.webapp.WebAppContext.doStartWebAppContext.java
INFO   | jvm     |   | 	at org.mortbay.component.AbstractLifeCycle.startAbstractLifeCycle.java
INFO   | jvm     |   | 	at org.mortbay.jetty.handler.HandlerCollection.doStartHandlerCollection.java
INFO   | jvm     |   | 	at org.mortbay.jetty.handler.ContextHandlerCollection.doStartContextHandlerCollection.java
INFO   | jvm     |   | 	at org.mortbay.component.AbstractLifeCycle.startAbstractLifeCycle.java
INFO   | jvm     |   | 	at org.mortbay.jetty.handler.HandlerCollection.doStartHandlerCollection.java
INFO   | jvm     |   | 	at org.mortbay.component.AbstractLifeCycle.startAbstractLifeCycle.java
INFO   | jvm     |   | 	at org.mortbay.jetty.handler.HandlerWrapper.doStartHandlerWrapper.java
INFO   | jvm     |   | 	at org.mortbay.jetty.Server.doStartServer.java
INFO   | jvm     |   | 	at org.mortbay.component.AbstractLifeCycle.startAbstractLifeCycle.java
INFO   | jvm     |   | 	at org.mortbay.xml.XmlConfiguration.mainXmlConfiguration.java
INFO   | jvm     |   | 	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
INFO   | jvm     |   | 	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
INFO   | jvm     |   | 	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
INFO   | jvm     |   | 	at java.lang.reflect.Method.invokeMethod.java
INFO   | jvm     |   | 	at org.mortbay.start.Main.invokeMainMain.java
INFO   | jvm     |   | 	at org.mortbay.start.Main.startMain.java
INFO   | jvm     |   | 	at org.mortbay.start.Main.startMain.java
INFO   | jvm     |   | 	at org.mortbay.start.Main.mainMain.java
INFO   | jvm     |   | 	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
INFO   | jvm     |   | 	at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
INFO   | jvm     |   | 	at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
INFO   | jvm     |   | 	at java.lang.reflect.Method.invokeMethod.java
INFO   | jvm     |   | 	at org.tanukisoftware.wrapper.WrapperSimpleApp.runWrapperSimpleApp.java
INFO   | jvm     |   | 	at java.lang.Thread.runThread.java
",Bug
"httparchiva.apache.orgversions.html should be moved to docsindex.html To avoid a directory listing on docs, we should move versions.html to docsindex.html so that you get the same functionality but in a better appearance.",Improvement
"multiple versions appear in search results for example, search for plexus-utils and see .. appear several times. This seems to match one instance for each artifact attached to that project aside from the POM eg, if there are two classifiers, source and javadoc and one JAR, itll appear  times.",Bug
"Artifacts labelled ""Distribution-zip"" in the orange frame. Sometimes when the classifier is unknown, Archiva displays the Distribution-zip label in the orange frame displaying the artifacts.
In the attached screenshot, the file name of the artifacts are
lingdata-..-dict-dut-to-dut.zip
lingdata-..-dict-dut-to-eng.zip
lingdata-..-dict-dut-to-fre.zip
lingdata-..-dict-dut-to-ger.zip
lingdata-..-dict-dut-to-ita.zip
lingdata-..-dict-dut-to-por.zip
lingdata-..-dict-dut-to-spa.zip
...
All of them are displayed as ""Distribution-zip"".",Bug
"Nexus index of a repository group is incomplete I have a repository group G with repositories A, B and C in this order. A is a snapshot repo,
B and C are release repos.

If I download a Nexus index from ...G.index for instance with Eclipse I see only the artifacts
of A, not of B nor C.

I wondered how the repository group constructs the combined Nexus index..
",Bug
"some artifacts are shown as ""not found"" This should no longer occur with the metadata updates, but there are some artifacts showing as not found. This occurs when they are referenced by another project but do not exist themselves an incomplete transitive closure.

They should not be appearing in the browse page if they are incomplete.",Bug
"Purge task problem  Not enough parts to the path I keep on having these logs 
Im using archiva ...
I thought this was fixed in MRM-, but I still get this 


-- , pool--thread- INFO  org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor  - Executing task from queue with job name RepositoryTask repositoryIdsofaxis-snapshot, resourceFilenull, scanAllfalse, updateRelatedArtifactsfalse
-- , pool--thread- INFO  org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance  - Walk Started sofaxis-snapshot Dmaven_archiva_datadatarepositoriessofaxis-snapshot
-- , pool--thread- ERROR org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure  - Consumer repository-purge had an error when processing file Dmaven_archiva_datadatarepositoriessofaxis-snapshot.indexnexus-maven-repository-index.zip Not enough parts to the path .indexnexus-maven-repository-index.zip to construct an ArchivaArtifact from. Requires at least  parts
org.apache.maven.archiva.consumers.ConsumerException Not enough parts to the path .indexnexus-maven-repository-index.zip to construct an ArchivaArtifact from. Requires at least  parts
	at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFileRepositoryPurgeConsumer.java
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.executeConsumerProcessFileClosure.java
	at org.apache.commons.collections.functors.IfClosure.executeIfClosure.java
	at org.apache.commons.collections.CollectionUtils.forAllDoCollectionUtils.java
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStepRepositoryScannerInstance.java
	at org.codehaus.plexus.util.DirectoryWalker.fireStepDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirDirectoryWalker.java
	at org.codehaus.plexus.util.DirectoryWalker.scanDirectoryWalker.java
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scanDefaultRepositoryScanner.java
	at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTaskArchivaRepositoryScanningTaskExecutor.java
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$.runThreadedTaskQueueExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.callExecutors.java
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.runFutureTask.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorkerThreadPoolExecutor.java
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runThreadPoolExecutor.java
	at java.lang.Thread.runThread.java
Caused by org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeException Not enough parts to the path .indexnexus-maven-repository-index.zip to construct an ArchivaArtifact from. Requires at least  parts
	at org.apache.maven.archiva.consumers.core.repository.CleanupReleasedSnapshotsRepositoryPurge.processCleanupReleasedSnapshotsRepositoryPurge.java
	at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFileRepositoryPurgeConsumer.java
	...  more
Caused by org.apache.maven.archiva.repository.layout.LayoutException Not enough parts to the path .indexnexus-maven-repository-index.zip to construct an ArchivaArtifact from. Requires at least  parts
	at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReferenceDefaultPathParser.java
	at org.apache.maven.archiva.repository.content.AbstractDefaultRepositoryContent.toArtifactReferenceAbstractDefaultRepositoryContent.java
	at org.apache.maven.archiva.repository.content.ManagedDefaultRepositoryContent.toArtifactReferenceManagedDefaultRepositoryContent.java
	at org.apache.maven.archiva.consumers.core.repository.CleanupReleasedSnapshotsRepositoryPurge.processCleanupReleasedSnapshotsRepositoryPurge.java
	...  more
",Bug
"dependency tree can show exception on output pane for example, view archivabrowseorg.apache.archivaarchiva-proxy..dependencyTree

the errors shown result in a stacktrace, but instead should show a simple set of information.",Bug
"Separate Maven .x functionality into a separate plugin Similarly to MRM-, the Maven  repository functionality should be self contained in a plugin",Improvement
"update use of Nexus indexer to use Maven indexer the Nexus indexer has evolved since the version we used and will soon be moved under the Maven project.

To ensure proper compatibility with other clients and the addition of features such as creating incremental indexes, we should upgrade and follow other recommendations provided by the indexer team. Ive started a discussion with Brian on the topic and need to fold it back into here.

I will link the related issues we have that we should try to resolve at the same time.",Bug
"clarify audit logs by source currently, you cant distinguish different WebDAV operations, nor which were created by being proxied vs uploaded vs uploaded via WebDAV",Bug
"Logging in ArtifactMissingChecksumsConsumer does not appear in the logs even if configured properly The logging needs to be migrated to use the Logger class, similar to the other consumers.",Bug
"NullPointerException when deleting an artifact INFO   | jvm     |   | java.lang.NullPointerException
INFO   | jvm     |   | 	at org.apache.maven.archiva.web.action.DeleteArtifactAction.updateMetadataDeleteArtifactAction.java
INFO   | jvm     |   | 	at org.apache.maven.archiva.web.action.DeleteArtifactAction.doDeleteDeleteArtifactAction.java
INFO   | jvm     |   | 	at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
INFO   | jvm     |   | 	at sun.reflect.NativeMethodAccessorImpl.invokeUnknown Source
INFO   | jvm     |   | 	at sun.reflect.DelegatingMethodAccessorImpl.invokeUnknown Source
INFO   | jvm     |   | 	at java.lang.reflect.Method.invokeUnknown Source
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnlyDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
INFO   | jvm     |   | 	at org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.interceptConfigurationInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.struts.interceptor.PolicyEnforcementInterceptor.interceptPolicyEnforcementInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.struts.interceptor.SecureActionInterceptor.interceptSecureActionInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.interceptParameterFilterInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doInterceptDefaultWorkflowInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.validator.ValidationInterceptor.doInterceptValidationInterceptor.java
INFO   | jvm     |   | 	at org.apache.struts.interceptor.validation.AnnotationValidationInterceptor.doInterceptAnnotationValidationInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.interceptor.ConversionErrorInterceptor.interceptConversionErrorInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.interceptor.ParametersInterceptor.doInterceptParametersInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.interceptor.StaticParametersInterceptor.interceptStaticParametersInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at org.apache.struts.interceptor.CheckboxInterceptor.interceptCheckboxInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at org.apache.struts.interceptor.FileUploadInterceptor.interceptFileUploadInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.interceptor.ModelDrivenInterceptor.interceptModelDrivenInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.interceptor.ScopedModelDrivenInterceptor.interceptScopedModelDrivenInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at org.apache.struts.interceptor.ProfilingActivationInterceptor.interceptProfilingActivationInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at org.apache.struts.interceptor.debugging.DebuggingInterceptor.interceptDebuggingInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.interceptor.ChainingInterceptor.interceptChainingInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.interceptor.InInterceptor.interceptInInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.interceptor.PrepareInterceptor.doInterceptPrepareInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.interceptMethodFilterInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at org.apache.struts.interceptor.ServletConfigInterceptor.interceptServletConfigInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.interceptor.AliasInterceptor.interceptAliasInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.interceptExceptionMappingInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.struts.interceptor.AutoLoginInterceptor.interceptAutoLoginInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at org.codehaus.plexus.redback.struts.interceptor.ForceAdminUserInterceptor.interceptForceAdminUserInterceptor.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation$.doProfilingDefaultActionInvocation.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.util.profiling.UtilTimerStack.profileUtilTimerStack.java
INFO   | jvm     |   | 	at com.opensymphony.xwork.DefaultActionInvocation.invokeDefaultActionInvocation.java
INFO   | jvm     |   | 	at org.apache.struts.impl.StrutsActionProxy.executeStrutsActionProxy.java
INFO   | jvm     |   | 	at org.apache.struts.dispatcher.Dispatcher.serviceActionDispatcher.java
INFO   | jvm     |   | 	at org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
INFO   | jvm     |   | 	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePagePageFilter.java
INFO   | jvm     |   | 	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
INFO   | jvm     |   | 	at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
INFO   | jvm     |   | 	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
INFO   | jvm     |   | 	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
INFO   | jvm     |   | 	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
INFO   | jvm     |   | 	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
INFO   | jvm     |   | 	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
INFO   | jvm     |   | 	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
INFO   | jvm     |   | 	at org.mortbay.jetty.Server.handleServer.java
INFO   | jvm     |   | 	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
INFO   | jvm     |   | 	at org.mortbay.jetty.HttpConnection$RequestHandler.contentHttpConnection.java
INFO   | jvm     |   | 	at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
INFO   | jvm     |   | 	at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
INFO   | jvm     |   | 	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
INFO   | jvm     |   | 	at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
INFO   | jvm     |   | 	at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java
",Bug
"Unable to upload file with web form when running with jettyrun Attempting to upload a file using the web form results in an error and stack trace

HTTP ERROR 

Problem accessing upload!doUpload.action. Reason

    INTERNAL_SERVER_ERROR
Caused by

java.lang.ExceptionInInitializerError
	at com.opensymphony.xwork.validator.ValidatorFileParser.addValidatorConfigsValidatorFileParser.java
	at com.opensymphony.xwork.validator.ValidatorFileParser.parseActionValidatorConfigsValidatorFileParser.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.loadFileAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.buildClassValidatorConfigsAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.buildValidatorConfigsAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.getValidatorsAnnotationActionValidatorManager.java
	at com.opensymphony.xwork.validator.AnnotationActionValidatorManager.validateAnnotationActionValidatorManager.java
...
Caused by java.lang.IllegalArgumentException URI is not hierarchical
	at java.io.File.initFile.java
	at com.opensymphony.xwork.validator.ValidatorFactory.parseValidatorsValidatorFactory.java
	at com.opensymphony.xwork.validator.ValidatorFactory.clinitValidatorFactory.java
...",Bug
"upgrade TestNG to a newer version for the Selenium tests While the Selenium tests pass with ., upgrading to . or above causes the following failures

Running TestSuite
Tests run , Failures , Errors , Skipped , Time elapsed . sec  FAILURE!

Results 

Failed tests 
  testViewAuditLogsDataFoundorg.apache.archiva.web.test.AuditLogsReportTest
  testViewAuditLogsForAllRepositoriesorg.apache.archiva.web.test.AuditLogsReportTest
  testViewAuditLogsNoDataFoundorg.apache.archiva.web.test.AuditLogsReportTest
  testViewAuditLogsOnlyArtifactIdIsSpecifiedorg.apache.archiva.web.test.AuditLogsReportTest
  testClickArtifactFromBrowseorg.apache.archiva.web.test.BrowseTest
  testSearchExistingArtifactorg.apache.archiva.web.test.SearchTest
  testSearchExistingArtifactUsingAdvancedSearchArtifactIdorg.apache.archiva.web.test.SearchTest
  testSearchExistingArtifactUsingAdvancedSearchGroupIdorg.apache.archiva.web.test.SearchTest

TestNG . is now released and it would be worth upgrading in the future for example to attach the listeners by annotation, however these issues must first be resolved.",Improvement
"java.util.ConcurrentModificationException while running Archiva .. INFO   | jvm     |   | java.util.ConcurrentModificationException
INFO   | jvm     |   | 	at java.util.AbstractList$Itr.checkForComodificationUnknown Source
INFO   | jvm     |   | 	at java.util.AbstractList$Itr.nextUnknown Source
INFO   | jvm     |   | 	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.processRepositoryGroupArchivaDavResourceFactory.java
INFO   | jvm     |   | 	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResourceArchivaDavResourceFactory.java
INFO   | jvm     |   | 	at org.apache.maven.archiva.webdav.RepositoryServlet.serviceRepositoryServlet.java
INFO   | jvm     |   | 	at javax.servlet.http.HttpServlet.serviceHttpServlet.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.ServletHolder.handleServletHolder.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
INFO   | jvm     |   | 	at org.apache.struts.dispatcher.FilterDispatcher.doFilterFilterDispatcher.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
INFO   | jvm     |   | 	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilterPageFilter.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
INFO   | jvm     |   | 	at org.apache.struts.dispatcher.ActionContextCleanUp.doFilterActionContextCleanUp.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilterServletHandler.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.ServletHandler.handleServletHandler.java
INFO   | jvm     |   | 	at org.mortbay.jetty.security.SecurityHandler.handleSecurityHandler.java
INFO   | jvm     |   | 	at org.mortbay.jetty.servlet.SessionHandler.handleSessionHandler.java
INFO   | jvm     |   | 	at org.mortbay.jetty.handler.ContextHandler.handleContextHandler.java
INFO   | jvm     |   | 	at org.mortbay.jetty.webapp.WebAppContext.handleWebAppContext.java
INFO   | jvm     |   | 	at org.mortbay.jetty.handler.ContextHandlerCollection.handleContextHandlerCollection.java
INFO   | jvm     |   | 	at org.mortbay.jetty.handler.HandlerCollection.handleHandlerCollection.java
INFO   | jvm     |   | 	at org.mortbay.jetty.handler.HandlerWrapper.handleHandlerWrapper.java
INFO   | jvm     |   | 	at org.mortbay.jetty.Server.handleServer.java
INFO   | jvm     |   | 	at org.mortbay.jetty.HttpConnection.handleRequestHttpConnection.java
INFO   | jvm     |   | 	at org.mortbay.jetty.HttpConnection$RequestHandler.headerCompleteHttpConnection.java
INFO   | jvm     |   | 	at org.mortbay.jetty.HttpParser.parseNextHttpParser.java
INFO   | jvm     |   | 	at org.mortbay.jetty.HttpParser.parseAvailableHttpParser.java
INFO   | jvm     |   | 	at org.mortbay.jetty.HttpConnection.handleHttpConnection.java
INFO   | jvm     |   | 	at org.mortbay.io.nio.SelectChannelEndPoint.runSelectChannelEndPoint.java
INFO   | jvm     |   | 	at org.mortbay.thread.BoundedThreadPool$PoolThread.runBoundedThreadPool.java
",Bug
"problem reports for a given repository show errors in other repositories after scanning my repositories, I searched for problem reports constrained by the test repository. However, while it was a limited set of reports, some from other repositories notably internal also appeared.",Bug
"Add simple CRUD pages for project-level metadata along with a ""generic metadata"" plugin  See for more details
httpmail-archives.apache.orgmod_mboxarchiva-dev.mboxcCA-F-CDA-AD-AD@apache.orge",New_Feature
"Natively support Ivy repository format This is just an example. I cannot get Archiva to purge the repository at all. Group id is ""atmel"", artifact id is ""avrasm"" and version is ""..."". 

Consumer repository-purge had an error when processing file storagearchivadatacontinuousatmelavrasm...ivy-....xml
Invalid path to Artifact filename format is invalid, should start with artifactId as stated in path.

",Bug
"Incorrect Archiva version specified for the ""Process All Artifacts"" feature in upgrade docs httparchiva.apache.orgdocs.adminguideupgrade.html says that the feature is available starting with .., this should be . instead.",Bug
"revise repository API - avoid query methods in the repository API things might be happier working against a specific store type - consider getArtifactsBy - getArtifacts repoId, filter ; though must take care not to build another query language
- move the resolverstorage API out of the metadata API - consolidate under the session
- make namespace use  instead of .
- unknown facets should throw an exception instead of returning null and check for other null returns
- consider shorter package names for maven plugin and more consistent structuring
- review for any new instances of bloating that can be simplified
- how are we going to translate between IDs on different projects is ""filename"" mappable to other repo types
- how could URNURI for an artifact be utilised
- consider artifactmetadata as a return type - is a reference all thats needed in some cases
- stats manager, repository merger and audit manager should use the repository session instead of the metadata repository
- make sure code using facets has a backup if the facet is not present
",Improvement
"Build number is always  for SNAPSHOT artifacts uploaded via web upload form The metadata always shows buildNumberbuildNumber even if the value of lastUpdated is correct.

Directory list for test SNAPSHOT artifact uploaded twice shows

archiva-consumers-..-.-.jar
archiva-consumers-..-.-.pom
archiva-consumers-..-.-.pom.md
archiva-consumers-..-.-.pom.sha
archiva-consumers-..-.-.jar
archiva-consumers-..-.-.pom
archiva-consumers-..-.-.pom.md
archiva-consumers-..-.-.pom.sha
maven-metadata.xml
maven-metadata.xml.md
maven-metadata.xml.sha
",Bug
"repository statistics report doesnt appear to be working correctly when I view the repository statistics report and include all repositories in the list, not all of them appear in the output internal is missing, for example.",Bug
"Verification of a deployed artifact  Currently, Archiva verifies a deployed artifact only by comparing the content-length HTTP header with the actual file-size of the uploaded file.
To better prevent corrupt artifacts, it would help to verify the integrity of the artifact by comparing its local hashcode sha or md with the one that has just been generated in Archiva.

In case the hashes differ, 
a an HTTP  status should be returned
b an error should be logged.",Improvement
"Query using Group ID field in audit log report uses  as a separator instead of . For groupIds with . e.g. com.mycompany, you should use  instead e.g. commycompany as the artifact details are stored as artifact paths. ",Bug
"change to artifact reference in metadata for more precision of search of audit logging currently, the search uses the name of the audit event to search by, which is a string match. This could be more precise by requiring the full co-ordinate be stored and searchable.",Improvement
"Selenium tests fail in full multi-module build If you build with ""mvn clean install -PintegrationTest"" from the root of the project, the following occurs

-- , main ERROR org.springframework.web.context.ContextLoader  - Context initialization failed org.springframework.beans.factory.BeanDefinitionStoreException Invalid bean definition with name mavenSettingsBuilder defined in null Could not resolve placeholder maven.home
   at org.springframework.beans.factory.config.PropertyPlaceholderConfigurer.processPropertiesPropertyPlaceholderConfigurer.java
   at org.springframework.beans.factory.config.PropertyResourceConfigurer.postProcessBeanFactoryPropertyResourceConfigurer.java
   at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessorsAbstractApplicationContext.java
   at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessorsAbstractApplicationContext.java
   at org.springframework.context.support.AbstractApplicationContext.refreshAbstractApplicationContext.java
   at org.springframework.web.context.ContextLoader.createWebApplicationContextContextLoader.java
   at org.springframework.web.context.ContextLoader.initWebApplicationContextContextLoader.java
   at org.springframework.web.context.ContextLoaderListener.contextInitializedContextLoaderListener.java
   at org.apache.catalina.core.StandardContext.listenerStartStandardContext.java
   at org.apache.catalina.core.StandardContext.startStandardContext.java
   at org.apache.catalina.core.ContainerBase.addChildInternalContainerBase.java
   at org.apache.catalina.core.ContainerBase.addChildContainerBase.java
   at org.apache.catalina.core.StandardHost.addChildStandardHost.java
   at org.apache.catalina.startup.HostConfig.deployDescriptorHostConfig.java
   at org.apache.catalina.startup.HostConfig.deployDescriptorsHostConfig.java
   at org.apache.catalina.startup.HostConfig.deployAppsHostConfig.java
   at org.apache.catalina.startup.HostConfig.startHostConfig.java
   at org.apache.catalina.startup.HostConfig.lifecycleEventHostConfig.java
   at org.apache.catalina.util.LifecycleSupport.fireLifecycleEventLifecycleSupport.java
   at org.apache.catalina.core.ContainerBase.startContainerBase.java
   at org.apache.catalina.core.StandardHost.startStandardHost.java
   at org.apache.catalina.core.ContainerBase.startContainerBase.java
   at org.apache.catalina.core.StandardEngine.startStandardEngine.java
   at org.apache.catalina.core.StandardService.startStandardService.java
   at org.apache.catalina.core.StandardServer.startStandardServer.java
   at org.apache.catalina.startup.Catalina.startCatalina.java
   at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
   at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
   at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
   at java.lang.reflect.Method.invokeMethod.java
   at org.apache.catalina.startup.Bootstrap.startBootstrap.java
   at org.apache.catalina.startup.Bootstrap.mainBootstrap.java

However, if you run directly from archiva-webapp-tests, it is fine.",Bug
CLONE - Add support for NPanday artifact types NPanday httpwww.npanday.org declares a number of new artifact handlers that Maven can use as extensions to be able to deploy .NET artifacts into a repository. ,New_Feature
"Editing user roles in archiva clobbers continuum redback roles Due to a bug in the redback struts integration code, editing user roles in archiva removes all continuum redback roles when they share the user database. There is a patch that addresses the issue, but archiva and continuum both need to be updated to a new version of redback to include the fix.

For details, see httpjira.codehaus.orgbrowseREDBACK-",Bug
"Allow deployment of attached release artifacts if POM is identical In the context of the build of a native application, one might have zip-artifacts containing several DLL or so files like
  boostboost_regex..zip

In order to distinguish between platforms, it seems to be recommended to use the classifier
  boostboost_regex..zipbin-x-windows-vc
or
  boostboost_regex..zipbin-x-linux.-gcc. 

The new feature that prevents from deploying a release artifact is really great but it lacks the possibility to deploy attached artifacts when the POM is the same modulo platform-dependent line-break concerns, and thats important!.

In the example above, it could enable to deploy the boostboost_regex..zipbin-x-windows-vc artifact from a Windows machinecoming along with a boostboost_regex..pom artifact, then to deploy the boostboost_regex..zipbin-x-linux.-gcc. artifact from a Linux machine coming along with the same boostboost_regex..pom artifact.

Maybe this could be generalized to any kind of artifact If the artifact to deploy is the same, Archiva should not fail and simply skip the deployment of that artifact
",Improvement
Repositories page is broken in MRM- branch See attached screen shot.,Bug
"unable to process POMs that have Java profiles The following results in an exceptionarchivabrowseorg.apache.archivaarchiva-jetty..dependencyTree

{code}
org.apache.maven.archiva.common.ArchivaException Unable to build dependency tree Cannot build project dependency tree Unable to get dependency information  problem was encountered while building the effective model for org.mortbay.jettyjetty-naming..
ERROR Failed to determine Java version for profile below-jdk. @ org.mortbay.jettyjetty-naming..

  org.mortbay.jettyjetty-namingjar..
{code}

It seems the appropriate execution properties need to be constructed and passed to the model builder. This might extend to others than the java version.",Bug
"Documentation for setting up archiva with tomcat  specifies invalid archiva.xml The Installation guide for Archiva with Tomcat  contains an error. If you use the archiva.xml as specified Archiva wont work. You have to remove the first line in the provided archiva.xml xml version""."" encoding""UTF-"". Then it works fine.",Bug
"Logo still links to incorrect location The logo continues to link to docs instead of  as expected, as originally reported in MRM-",Bug
"mda and sha are not generated for snapshot jars I found a way to reproduce our problems that we have with uploading
SNAPSHOT versions via the web-interface. 

We tried with the following files
cocoon-chaperon-impl-..-SNAPSHOT.pom
cocoon-chaperon-impl-..-SNAPSHOT.jar

For the version we put in the web form ..-SNAPSHOT.

The result is that archiva creates the mda and sha for the pom but not
for the jar. 

As soon we change the name of the version to ..-SNAPSHOTS. It works
fine.

It seems that the version -SNAPSHOT is not working. What is the best
approach to debug to find out what is going on and why archiva is not
creating the mda and sha file.

It sounds that the following threas may be releated to this issue
httparchiva.markmail.orgsearchqStrangedeployproblemqueryStrangedeployproblempagemidmubbivkhgkqustateresults

On Mon, -- at  , Deng Ching wrote
The problem seems to be in the create-missing-checksums consumer. The
 consumer is looking for a jar with a -SNAPSHOT in the filename but the
 actual file has a unique timestamp  build number snapshot version so a
 ""no such file or directory"" error occurs. It works if the version is
 -SNAPSHOTS because it was not identified as a SNAPSHOT from the extra S
 at the end and therefore the version wasnt converted to a unique version
 format.
 ",Bug
"java.lang.NullPointerException when clicking the logout link I get the following npe when clicking on the logout link

java.lang.NullPointerException
        at org.codehaus.plexus.redback.struts.action.LogoutAction.logoutLogoutAction.java
        at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
        at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
        at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
        at java.lang.reflect.Method.invokeMethod.java
        at com.opensymphony.xwork.DefaultActionInvocation.invokeActionDefaultActionInvocation.java

see attachment for the rest of the stack trace",Bug
"Dead link to ApacheCon presentation The link to the presentation ""Managing Your Repositories With Archiva - Archiva @ ApacheCon Europe"" on archiva.apache.org is dead.

Should be updated to httpwww.us.apachecon.compresentationmaterialsManaging_Your_Repositories_With_Archiva_v.pdf",Bug
"archiva webapp tests failed to run in internet explorer noticed also that with different browsers used, they have different number of tests run.

output browser firefox

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running TestSuite
Tests run , Failures , Errors , Skipped , Time elapsed . sec  FAILURE!

Results 

Failed tests
  testWithBadUsernameorg.apache.archiva.web.test.LoginTest
  testWithBadPasswordorg.apache.archiva.web.test.LoginTest
  testWithEmptyUsernameorg.apache.archiva.web.test.LoginTest
  testWithEmptyPasswordorg.apache.archiva.web.test.LoginTest
  testWithCorrectUsernamePasswordorg.apache.archiva.web.test.LoginTest
  testFindArtifactNullValuesorg.apache.archiva.web.test.FindArtifactTest
  testFindArtifactUsingChecksumorg.apache.archiva.web.test.FindArtifactTest
  testBundledRepositoryorg.apache.archiva.web.test.RepositoryTest

Tests run , Failures , Errors , Skipped 

INFO ------------------------------------------------------------------------
ERROR BUILD FAILURE
INFO ------------------------------------------------------------------------




output browser IE

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running TestSuite
Tests run , Failures , Errors , Skipped , Time elapsed . sec  FAILURE!

Results 

Failed tests
  initializeArchivaorg.apache.archiva.web.test.ArchivaAdminTest

Tests run , Failures , Errors , Skipped 

INFO ------------------------------------------------------------------------
ERROR BUILD FAILURE
INFO ------------------------------------------------------------------------
INFO There are test failures.",Bug
"project models are not automatically populated I started archiva after removing all the metadata repository storage and with the creation consumer enabled. The repositories were scanned and the basic models filled in, however I found extended information such as references to make usedBy work had not been filled in. These were later added when visiting individual pages, but it needs to be done upfront.",Bug
"Commons configuration bug causes build to fail on Windows  It appears that the environment in Windows  breaks some assumptions made by some versions of commons-configuration. This prevents tests from passing in the build. It breaks trying to convert the string ""x"" to an integer.

See issues.apache.orgjirabrowseCONFIGURATION- for details.

{noformat}
-------------------------------------------------------------------------------
Test set org.apache.maven.archiva.configuration.FileTypesTest
-------------------------------------------------------------------------------
Tests run , Failures , Errors , Skipped , Time elapsed . sec  FAILURE!
testIsArtifactorg.apache.maven.archiva.configuration.FileTypesTest  Time elapsed . sec   ERROR!
org.springframework.beans.factory.BeanCreationException Error creating bean with name fileTypes FactoryBean threw exception on object creation; nested exception is org.springframework.beans.factory.BeanCreationException Error creating bean with name archivaConfiguration Post-processing of the FactoryBeans object failed; nested exception is java.lang.NumberFormatException For input string ""X""
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$.runFactoryBeanRegistrySupport.java
        at java.security.AccessController.doPrivilegedNative Method
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBeanFactoryBeanRegistrySupport.java
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBeanFactoryBeanRegistrySupport.java
        at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstanceAbstractBeanFactory.java
        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
        at org.springframework.context.support.AbstractApplicationContext.getBeanAbstractApplicationContext.java
        at org.codehaus.plexus.spring.PlexusInSpringTestCase.lookupPlexusInSpringTestCase.java
        at org.codehaus.plexus.spring.PlexusInSpringTestCase.lookupPlexusInSpringTestCase.java
        at org.codehaus.plexus.spring.PlexusInSpringTestCase.lookupPlexusInSpringTestCase.java
        at org.apache.maven.archiva.configuration.FileTypesTest.setUpFileTypesTest.java
        at junit.framework.TestCase.runBareTestCase.java
        at junit.framework.TestResult$.protectTestResult.java
        at junit.framework.TestResult.runProtectedTestResult.java
        at junit.framework.TestResult.runTestResult.java
        at junit.framework.TestCase.runTestCase.java
        at junit.framework.TestSuite.runTestTestSuite.java
        at junit.framework.TestSuite.runTestSuite.java
        at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
        at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
        at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
        at java.lang.reflect.Method.invokeMethod.java
        at org.apache.maven.surefire.junit.JUnitTestSet.executeJUnitTestSet.java
        at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSetAbstractDirectoryTestSuite.java
        at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeAbstractDirectoryTestSuite.java
        at org.apache.maven.surefire.Surefire.runSurefire.java
        at sun.reflect.NativeMethodAccessorImpl.invokeNative Method
        at sun.reflect.NativeMethodAccessorImpl.invokeNativeMethodAccessorImpl.java
        at sun.reflect.DelegatingMethodAccessorImpl.invokeDelegatingMethodAccessorImpl.java
        at java.lang.reflect.Method.invokeMethod.java
        at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcessSurefireBooter.java
        at org.apache.maven.surefire.booter.SurefireBooter.mainSurefireBooter.java
Caused by org.springframework.beans.factory.BeanCreationException Error creating bean with name archivaConfiguration Post-processing of the FactoryBeans object failed; nested exception is java.lang.NumberFormatException For input string ""X""
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$.runFactoryBeanRegistrySupport.java
        at java.security.AccessController.doPrivilegedNative Method
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBeanFactoryBeanRegistrySupport.java
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBeanFactoryBeanRegistrySupport.java
        at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstanceAbstractBeanFactory.java
        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBeanAbstractBeanFactory.java
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBeanAbstractBeanFactory.java
        at org.codehaus.plexus.spring.PlexusComponentFactoryBean.resolveRequirementPlexusComponentFactoryBean.java
        at org.codehaus.plexus.spring.PlexusComponentFactoryBean.createInstancePlexusComponentFactoryBean.java
        at org.codehaus.plexus.spring.PlexusComponentFactoryBean.getObjectPlexusComponentFactoryBean.java
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$.runFactoryBeanRegistrySupport.java
        ...  more
Caused by java.lang.NumberFormatException For input string ""X""
        at java.lang.NumberFormatException.forInputStringNumberFormatException.java
        at java.lang.Integer.parseIntInteger.java
        at java.lang.Integer.parseIntInteger.java
        at org.apache.commons.configuration.tree.DefaultConfigurationKey$KeyIterator.checkIndexDefaultConfigurationKey.java
        at org.apache.commons.configuration.tree.DefaultConfigurationKey$KeyIterator.nextKeyDefaultConfigurationKey.java
        at org.apache.commons.configuration.tree.DefaultExpressionEngine.findNodesForKeyDefaultExpressionEngine.java
        at org.apache.commons.configuration.tree.DefaultExpressionEngine.processSubNodesDefaultExpressionEngine.java
        at org.apache.commons.configuration.tree.DefaultExpressionEngine.findNodesForKeyDefaultExpressionEngine.java
        at org.apache.commons.configuration.tree.DefaultExpressionEngine.queryDefaultExpressionEngine.java
        at org.apache.commons.configuration.HierarchicalConfiguration.fetchNodeListHierarchicalConfiguration.java
        at org.apache.commons.configuration.HierarchicalConfiguration.setPropertyHierarchicalConfiguration.java
        at org.apache.commons.configuration.ConfigurationUtils.copyConfigurationUtils.java
        at org.apache.commons.configuration.ConfigurationUtils.convertToHierarchicalConfigurationUtils.java
        at org.apache.commons.configuration.CombinedConfiguration$ConfigData.getTransformedRootCombinedConfiguration.java
        at org.apache.commons.configuration.CombinedConfiguration.constructCombinedNodeCombinedConfiguration.java
        at org.apache.commons.configuration.CombinedConfiguration.getRootNodeCombinedConfiguration.java
        at org.apache.commons.configuration.HierarchicalConfiguration.fetchNodeListHierarchicalConfiguration.java
        at org.apache.commons.configuration.HierarchicalConfiguration.subsetHierarchicalConfiguration.java
        at org.codehaus.plexus.registry.commons.CommonsConfigurationRegistry.getSubsetCommonsConfigurationRegistry.java
        at org.apache.maven.archiva.configuration.DefaultArchivaConfiguration.loadDefaultArchivaConfiguration.java
        at org.apache.maven.archiva.configuration.DefaultArchivaConfiguration.loadConfigurationDefaultArchivaConfiguration.java
        at org.apache.maven.archiva.configuration.DefaultArchivaConfiguration.initializeDefaultArchivaConfiguration.java
        at org.codehaus.plexus.spring.PlexusLifecycleBeanPostProcessor.postProcessAfterInitializationPlexusLifecycleBeanPostProcessor.java
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitializationAbstractAutowireCapableBeanFactory.java
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBeanAbstractAutowireCapableBeanFactory.java
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$.runFactoryBeanRegistrySupport.java
        ...  more
{noformat}",Bug
"Deployment from the commandline fails Manual deployment of artifacts to an archiva repository using ""mvn deploydeploy-file"" fails.

Even if the user not guest is granted with an administrator or repository manager role.",Bug
"audit log report does not restrict events to repositories that you are a manager of though the report is not in the navigation otherwise, you can still access the report for all repositories without any permissions",Bug
"delete artifact does not update metadata.xml If i remove an artifact from repository via web frontend, the artifact was sucessfully deleted, and the maven-metadata file was correct updated.

If i remove an artifact from repository via xmlrpc, the artifact was sucessfully deleted, but the maven-metadata file was not updated.
",Bug
"move configuration into the content repository, persisted to the external configuration file several configuration options are repository specific, and it is likely plugins will need to contribute their own configuration options Especially as some functionality, such as the proxy, is decoupled. It would be useful to be able to store this in the content repository and access it from the repository API. This would also give uniform access to the properties via any REST or XMLRPC APIs.

The config should still be stored on disk in an editable format so that it can be easily maintained externally or pre-configured. This might mean that it needs to either use a separate part of the API to store it, or ""mirror"" the contents in some way.",Improvement
"problem reports appear due to relative path for Archiva repository If the repository uses a relative path .datarepositoriesinternal, then the artifact reporting will fail to find it and add a problem, even though these are known to be a valid configuration at the moment.

This is really more of a problem with the relative path - perhaps we should validate this configuration to be absolute in . and adjust if not.

See httpmail-archives.apache.orgmod_mboxarchiva-dev.mboxCbbdkadcodeeabcac@mail.gmail.comE",Bug
"In delete artifact, project-level metadata.xml file & its checksums are not deleted even if the deleted artifact was the last version For example, you have the following artifact in your repository

com.mycompany
-- test-artifact
    -- .
      -- maven-metadata.xml
      -- maven-metadata.xml.md
      -- maven-metadata.xml.sha
      -- test-artifact-..jar   
      -- test-artifact-..jar.md
      -- test-artifact-..jar.sha
      -- test-artifact-..pom
      -- test-artifact-..pom.md
      -- test-artifact-..pom.sha
    -- maven-metadata.xml
    -- maven-metadata.xml.md
    `-- maven-metadata.xml.sha

If you delete com.mycompanytest-artifact. from the web form, the . version directory and its contents are deleted but the maven-metadata.xml  checksums under test-artifact dir are not.
",Bug
"Temporary directories created during remote proxy when build was suddenly suspended in the middle of downloading artifacts are not cleaned up To reproduce this issue
 Using the default configuration with repository internal proxying central, set repository internal as your mirror. Lock Maven to use only this with mirrorOfmirrorOf
 Clean up your local repository
 Build any project. In the middle of a download, disable your internet connection.

Notice that the temporary working directory ex. .workingdirectory.tmp is present in repository internal. Try enabling your net connection again and build your project. The temporary working directory in internal created from your previous download would still be there even after your project has already been built.

This should be cleaned up after a certain time has passed during proxying or by a clean up consumerplugin.",Bug
"Archiva-webapp-test fails when run in IE Heres the output of the webapp-test

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running TestSuite
Tests run , Failures , Errors , Skipped , Time elapsed ,. sec  FAILURE!

Results 

Failed tests
  testAddArtifactNoGroupIdorg.apache.archiva.web.test.ArtifactManagementTest
  testDeleteRepositoryGrouporg.apache.archiva.web.test.VirtualRepositoryTest
  testAddManagedRepoValidValuesorg.apache.archiva.web.test.RepositoryTest

Tests run , Failures , Errors , Skipped 

INFO ------------------------------------------------------------------------
ERROR BUILD FAILURE
INFO ------------------------------------------------------------------------
INFO There are test failures.",Bug
"Delete more then one Artifact at once As suggested by Wendy httpmarkmail.orgmessagegpkyxpzyvpkhbe I open this issue to keep track on the feature of bulk delete actions on artifacts. As described in httpmarkmail.orgmessagezpxobdhjxbdxe 
""Imagine I would like to remove org.apache.incubator.droids and all its childrensubprojects that are referenced as modules in the parent.""

It would be nice to have form that allow to only specific the package and then delete everything below it.",New_Feature
"Behaviour of multiple proxy connectors, persistence of configuration Situation, I configured two proxy connectors

central
Central Repository
httprepo.maven.orgmaven
Return error when always 
Cache failures no
Releases always
On remote error queue error
Checksum fix
Snapshots never

followed by

maven-repository.dev.java.net
Java.net Repository for Maven 
httpdownload.java.netmaven
Return error when always 
Cache failures no
Releases always
On remote error stop
Checksum fix
Snapshots never

Now I want to download the artifact romerome.jar. The first site is
tried I see that in the network proxy squid, the second never though I
understand the queue error should do that.

Some remarks
- I dont see any code which actually handles the queue error case policies in
  the configuration parser
- At least the On remote error setting is not persistet in the XML configuration
  file, because its back to default if I restart archiva.

",Bug
"implement alternative or improve repository metadata storage The biggest thing to look at is metadata-repository-file. I threw this together with property files quickly and theres no optimisation or even exception handling. We need to look at the right way to approach this - a more robust implementation of a file system store properties or xml is definitely workable, but would need to be combined with something like a Lucene index as in Archiva . to make some of the operations fast enough. What I would like to look at instead is using JCR with file system persistence - not a database! to see how well it reacts to a lot of operations. As you can tell from the docs, the storage is tailored to living in a hierarchical content repository in whatever form that takes, and the storage is isolated behind an API.",Improvement
"dependency tree fails with invalid POM that otherwise succeeds in Maven for example, view archivabrowseorg.apache.archivaarchiva-proxy..dependencyTree

this POM is parseable by Maven .. and I believe more recent versions of Maven .. It may just need a library upgrade - but there might be more to the population of the versions that is needed.

{code}
org.apache.maven.archiva.common.ArchivaException Unable to build dependency tree Cannot build project dependency tree Unable to get dependency information  problem was encountered while building the effective model for jpoxjpox..
ERROR dependencies.dependency.version is missing for oracleojdbcjar @ jpoxjpox..

  jpoxjpoxjar..
{code}",Bug
"Outdated instruction for Maven and JUnit still in ReadMe.txt for selenium tests following line has to be removed from the read me.
Run Selenium tests in srctestit with Maven and JUnit
  - mvn clean install -f junit-pom.xml
",Bug
"Content Lenght differs  Chunked request Im facing some HTTP- errors during an artifact upload using maven .
Response text is  HTTP.  Content Header length was - but was .
No log nor in archiva-audit.log nor in archiva.log

diving into code I think there is a problem with content-lenght verification.
With maven  the maven-deploy-plugin sent a chunked request so Content-Lenght header is empty.

addMember ArchivaDavResource seems comparing requests length and uploaded files length. Can we disable this check in case of chunked request  is there another way to do that 

regards,
marc",Bug
"Create properties files to support in Create properties files, so that a user can view the UI in his proper language.",Improvement
"audit log front page should also be paginated Currently just the top number of results are shown, and ""page "" is listed below, but there is no option to proceed back in history from the current time. It would be good to be consistent with the search results, assuming the front page is essentially a search of all events, reverse sorted by date and paginated as such.",Improvement
"Staging repo does not capturereflect the config changes of the managed repo it is attached to in MRM- branch Steps to reproduce
 Create a new managed repo named test for releases and check Block Re-deployment of Released Artifacts and Create stage repository.
 Upload a release-versioned artifact to the staging repository test-stage through the web upload form
 Edit the configuration for repository test and uncheck Block Re-deployment of Released Artifacts, then Save the changes.
 Upload an artifact with the same artifact coordinates as the one uploaded in step  to the staging repository @test-stage@. Youll get an error saying the artifact is already in the repository even though you disabled blocking of re-deployment of released artifacts.",Bug
